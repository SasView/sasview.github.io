<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" >

<head>
<style type="text/css" media="all">
  @import url("css/sasstyle.css");
</style>

<link rel="shortcut icon" type="image/x-icon" href="media/ball.ico">
<title>SasView</title>

</head>


<body>

<div id="pageHeader">
	<div id="mainTitle">SasView for Small Angle Scattering Analysis</div>
	<div id="subTitle">SasView FAQ</div>
</div>

<div id="menuItem">
	<a href="index.html">home</a>
	<a href="about.html">about SasView</a> 	
	<a href="links.html">links/downloads</a> 	
	<a href="meetings.html">meetings/workshops</a>
	<a href="contact.html">people</a> 	
	<a href="faq.html">faq</a> 	
	<a href="help.html">help</a>
</div>


<div id="textContainer">

 	<h3>Frequently Asked Questions</h3>
	   <p> Here are the answers to some common questions about SasView: </p>
	   
	   <h3> What is SasView? </h3>
			<ul>
	  		    <li> SasView is software for the analysis of Small-Angle Scattering (SAS) data.</li><br>
	  		    <li> It fits analytic functions describing different types of material microstructure to experimental data in order to determine the shape, size and degree of ordering.</li><br>
				<li> SasView also includes tools for calculating  scattering length densities, slit sizes, resolution, fringe thicknesses/d-spacings, the (Porod) invariant ('total scattering'), and distance distribution functions.</li>
			</ul>
	   
	   <h3> What platforms does SasView run on? </h3>
			<ul>
				<li> Windows</li>
				<ul>
					<li>32-bit & 64-bit.</li><br>
				</ul>
				<li> Linux.</li>
				<ul>
					<li>Please note, our RPMs are built for Red Hat Enterprise 6 which ships with Python 2.6.</li>
					<li>We have built SasView under Ubuntu but do not support Ubuntu.</li>
					<li>We do not support Fedora.</li><br>
					<li>If you are not using RHEL6 you are welcome to try building SasView from source available on the release pages: <a href="https://github.com/SasView/sasview/releases">https://github.com/SasView/sasview/releases</a> and run &lsquo;python setup.py build&rsquo;. If all goes well, executing &lsquo;python run.py&rsquo;’ should run SasView.</li><br>
				</ul>
				<li> Mac OS.</li>
				<ul>
					<li>32-bit OSX (10.6, Snowleopard).</li>
				</ul>
			</ul>
	   
	   <h3> Can I use SasView to analyse SANS/USANS data? </h3>
			<ul>
	  		    <li> Yes.</li>
			</ul>
	   
	   <h3> Can I use SasView to analyse SAXS/USAXS data? </h3>
			<ul>
	  		    <li> Yes, especially if your intensity data is in absolute units (/cm).</li>
			</ul>
	   
	   <h3> What format should my data be in? </h3>
			<ul>
			<h3> 1D data (I(Q) vs Q) </h3>
	  		    <li> Files with 2 to 4 <i>columns</i> of numbers in the following order: Q, I(Q), (dI(Q), dQ(Q)), where dQ(Q) is the instrumental resolution in Q and assumed to have originated from pinhole geometry. Numbers can be separated by spaces or commas.</li><br>
				<li> SasView recognises the following file extensions:</li>
				<ul>
					<li> .TXT </li>
					<li> .ASC </li>
					<li> .DAT </li>
					<li> .XML (in <a href="http://www.cansas.org">canSAS</a> format v1.0 and 1.1) </li><br>
				</ul>
				<li> If using CSV output from, for example, a spreadsheet, ensure that it is not using commas as delimiters for thousands. </li>
				<li> For a description of the NIST 1D format click <a href="http://danse.chem.utk.edu/trac/wiki/NCNROutput1D_IQ">here</a>. </li>
				<li> For a description of the ISIS 1D format click <a href="http://www.isis.stfc.ac.uk/instruments/loq/software/colette-ascii-file-format-descriptions9808.pdf">here</a>. </li><BR>
				<li><i>NB: SasView does not at present load data where the Q and I(Q) data are in separate files.</i><li>
			<h3> 2D data (I(Qx,Qy) vs Qx & Qy) </h3>
	  		    <li> Files in the NIST 2D format with the extension .ASC or .DAT </li><br>
				<li> Most of the header lines can be removed except the last line, and only the first three columns (Qx, Qy, and I(Qx,Qy)) are actually required. </li>
				<li> For a description of the NIST 2D format click <a href="http://danse.chem.utk.edu/trac/wiki/NCNROutput1D_2DQxQy">here</a>. </li>
			</ul>
	   
	   <h3> What units should my data be in? </h3>
			<ul>
			<h3> Q data </h3>
	  		    <li> SasView assumes that Q data is in units of /Angstroms. If your Q data is in units of /nm (or anything else) you will get incorrect parameters from your model fits. <i>However</i> if your data is in <a href="http://www.cansas.org">canSAS</a> format and the Q unit is specified as /nm - ie, the XML specifies Q unit="1/nm" - SasView will internally convert the Q data to &Aring. </li>
			</ul>

			<ul>
			<h3> I(Q) data </h3>
	  		    <li> SasView makes no assumptions about the units of I(Q) data, <i>but</i> your model fits will only return meaningful scale parameters (ie, volume fractions) if the I(Q) data is in absolute units (/cm) and on an absolute scale (ie, the I(Q) values have been calibrated against a standard). </li>
			</ul>
			
	   <h3> Many models have a <i>scale</i> parameter; what is this? </h3>
			<ul>
	  		    <li> If your I(Q) data is in absolute units (/cm) and on an absolute scale (ie, the I(Q) values have been calibrated against a standard) the scale parameter will be equal to the volume fraction. In all other instances the scale factor will be a number proportional to the volume fraction. Some models have both volume fraction and scale parameters. In these models the scale is just a multiplying factor (equal to 1 if the data is in absolute units on an absolute scale). </li><br>
				<li> We are aware that some of the model descriptions in the 'help file' are unclear about the meaning of <i>scale</i> and are working to improve the documentation.</li>
			</ul>

			<h3> How can I put my data on an absolute intensity scale? </h3>
			<ul>
	  		    <li> By comparing the intensity of scattering from your samples with that from a standard sample measured under identical conditions with the same instrument geometry. In most instances it will be a simple linear scaling, <i>provided</i> the sample and standard transmissions (transmission = 1 - absorbtion) have been accounted for during the data reduction. Consult your beamline scientist/local contact. </li>
			</ul>
			
			<h3> Why do I get non-sensical parameter values if I try to simultaneously model-fit the scale factor and the scattering length densities? </h3>
			<ul>
	  		    <li> Because these parameters are correlated. You must either fix the scale or the scattering length densities (at least, until your fit has almost converged). </li>
			</ul>
			
	   <h3> What value should I use to specify polydispersity? </h3>
			<ul>
	  		    <li> This will depend on the actual type of polydispersity function you choose, but will be related to some ratio of the 'width' of the size distribution and the mean value of the parameter that the polydispersity is being enabled for (eg, a particle radius). For example, for a Schultz polydispersity function the PD parameter in SasView is standard_deviation/average_value. In most (meaningful) instances 0 <= PD < 1. </li>
			</ul>
			
	   <h3> Is the Schulz(-Zimm) polydispersity function used in SasView a number-average or a weight-average distribution? </h3>
			<ul>
	  		    <li> <b>SasView assumes the underlying polydispersity function is a number-distribution</b> and therefore the reported mean from that distribution is a number-average parameter. But SasView does properly weight the function by volume when fitting to the scattering data as is required to fit data in absolute units. </li><br>
				<li> <i>However</i>, it is also clear that the literature has conflicting views about what the correct form of a number-average Schulz distribution should be. In essence there are <i>two</i> different distributions which are being called the Schulz distribution. These are unfortunately related through mass. SasView, like several other well-known and well-used model-fitting packages, uses the form of the distribution given in the M. Kotlarchyk & S-H. Chen paper (J. Chem. Phys. 79 (1983) 2461-2469) which specifically identifies it as a number-average distribution. This is also the same Schulz number-average distribution given by Aragon & Pecora (J. Chem. Phys. 1976) and Bartlett and Ottewill (J. Chem. Phys. 1992), among others. On the other hand, the earlier papers using this distribution were specifically applied to degrees of polymerization and were clear that they viewed the equivalent formula to be a weight-average distribution. It now seems that at least Welch & Bloomfield (J. Pol. Sci. 1973) and Huber (2012) use the same equation as Aragon & Pecora's number-average formula but define it as a weight-average formula and then derive a new number-average formula from this.</li><br>
                <li> (February 2015) After further investigation we have concluded that our implementation of the Schulz polydispersity function is sound. Our definition of the <i>z</i> parameter, describing the width of the distribution, has exactly the same mathematical form whether defined as a number-average of a number-average distribution or as a weight-average of a weight-average distribution. But in some papers <i>z</i> is defined as <i>z+1</i> which clearly would give a different mathematical behaviour.</li>
			</ul>
			
	   <h3> How do I load an image file as data? </h3>
			<ul>
	  		    <li> Use 'Tool' > 'Image Viewer' and **not** 'File' > 'Load Data File(s)' or the 'Load Data' button on the Data Explorer. </li><br>
	  		    <li> NB: SasView v3.0.0: As of 01 Jun 2014 there is a bug in the Image Viewer and it is not loading .BMP or .TIF files.
				Use .GIF, .JPG or .PNG formats instead. </li>
			</ul>
			
	   <h3> Where do the model parameter uncertainties come from? </h3>
			<ul>
	  		    <li> The parameter uncertainties (commonly, but wrongly, called the parameter errors) are estimated from the square
				root of the diagonal of the covariance matrix as calculated by the least-squares optimiser in the Python SciPy library (see <a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.leastsq.html">http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.leastsq.html</a>). Though the actual optimisation routine will vary between different SAS data fitting packages (depending on what language they are written in) this method of estimating uncertainties is commonplace. If you <i>really</i> want to know more, check out this <a href="http://www.aps.anl.gov/Xray_Science_Division/Powder_Diffraction_Crystallography/3LeastSquaresIntro/3LeastSquaresIntro.pdf">handy tutorial</a> by Brian Toby at APS. </li>
			</ul>
			
	   <h3> Why do I get different parameter uncertainties using the Simple and Complex fitting engines? </h3>
			<ul>
	  		    <li> <i>This applies to SasView 3.0.0 and earlier.</i></li>
	  		    <li> To a first approximation, the two fitting engines should return similar, but not identical, parameter uncertainties. The Simple engine uses the Python SciPy library which computes the Jacobian using the ‘forward difference formula’ and evaluates the covariance matrix by QR decomposition. The Complex engine computes the Jacobian using the ‘centre point formula’ and evaluates the covariance matrix by singular value decomposition (SV). Both methods will also be affected by the accuracy of the numerical differentiation procedures and the precision of the floating point computations.  </li><br>
				<li> (July 2014) We have discovered an inconsistency in the way that the Simple and Complex fitting engines define the reduced chi-square in SasView 3.0.0 and earlier. The consequence of this is that the Complex engine is not performing as many iterations as it should and is thus returning parameter uncertainties that are perhaps a factor 5 to 10 larger than expected. A solution is under consideration. </li>
			</ul>
			
	   <h3> Why is SasView not loading the model parameters from some of my existing .fitv (Save Fit) files? </h3>
			<ul>
	  		    <li> As the number of models implemented in SasView increased it became necessary to add additional categorisation. At the same time we gave the user the ability to customise the categorisation (the Modify Category button). Unfortunately this does mean that the categorisation of <i>some</i> models will have changed between earlier versions of SasView (when it was still called SansView) and recent releases. When SasView cannot determine the model categorisation from a .fitv file it attempts to default to the first model in the first category. There are two workarounds to this issue: </li><br>
					<ul>
					<li> 1) Open the .fitv file in a text editor and scroll down to the section headed <i>Attributes</i>. Above the entry <i>formfactorcombobox</i> create a new entry <i>categorycombobox categorycombobox="type"</i>, where <i>type</i> is the category that the model was originally in (current categories are: Shape-Independent, Shapes, Structure Factor, Uncategorized, Custom Models). Make sure you enclose your new entry in angle brackets just like the existing entries! </li>
					<li> 2) Use the Modify Category button in the recent version of SasView to move the model you want to use to the category it used to be in.
					</ul>
			</ul>
            
       <h3> Why is Save Analysis (File menu) greyed out after I fit a model? </h3>
            <ul>
                <li> At present Save Analysis gets greyed out if you click on a graph window after fitting a model. We agree this is not very sensible behaviour and will rectify it in a future bug release. In the meantime, use the 'Save' icon in the graphical toolbar to generate .fitv files. </li>
            </ul>
            
       <h3> Why doesn't Check for Updates work? </h3>
            <ul>
                <li> Check for Updates compares the version (not build) number of your copy of SasView with that in the code repository. If SasView cannot access the remote server the message <i>'Cannot connect to the application server'</i> is displayed in the status bar.</li>
                <li> The most common reason for Check for Updates failing is that your internet connection uses a proxy server and your operating system has not been fully configured to use that proxy server. It is entirely possible to be able to use a web browser to surf the internet but find that SasView cannot read the current version number from the code repository! How you remedy this depends on your operating system:</li>
                <ul>
                    <h3> Windows 7:</h3>
                    <li> Warning! The following procedure involves changing system settings. If you are not confident about doing so, consult your local IT Helpdesk.</li>
                    <li> If you are not sure if your internet connect uses a proxy server, click on the Start button, select 'Network and Internet' and then 'Internet Options'. Now click the 'Connections' tab and then the button 'LAN settings'.</li>
                    <ol>
                        <li> Click on the Start button. In the 'search programs and files' box type 'regedit' and press {return}.</li>
                        <li> In the Registry Editor, navigate to the registry key (be careful not to find find a similar key by mistake) <b>HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings</b>. Look for a setting named 'ProxyServer'. If it exists, ensure it both points to your proxy server and has a port number appended. If it is missing create this setting as follows:</li>
                        <ul>
                             <li> Edit > New > String Value. Right-click on 'New Value' and rename it to 'ProxyServer'. Right-click again, choose 'Modify', and in the 'Value data' box type the address and port number of your proxy server (eg, http://proxy.uni.edu:port).</li>
                        </ul>
                        <li> If your internet connection <i>also</i> uses a proxy auto-configuration (or .pac) file (see the instructions above for how to check), also check for the presence of a setting 'AutoConfigURL'. Again, if this exists, ensure it points at the right address and file. If it is missing, create this setting (eg, http://proxy.uni.edu/configproxy.pac) in the same manner as above.</li>
                        <li> Note that the value (0 or 1) of the REG_DWORD called 'ProxyEnable' appears to be irrelevant!</li>
                        <li> Close the Registry Editor.</li>
                        <li> Click on the Start button. In the 'search programs and files' box type 'environment variables' and press {return}.</li>
                        <li> In the Environment Variables panel, check the <i>User</i> variables (not System variables) for HTTP_PROXY and HTTPS_PROXY. If they exist, ensure that both specify your username, proxy server and port. If they are missing, create these variables as follows:</li>
                        <ul>
                             <li> Click 'New'. Enter HTTP_PROXY as the 'Variable name'. Enter a 'Variable value' of the form: username@proxy.uni.edu:port. Click 'Ok'. Repeat the process to create the variable HTTPS_PROXY. Click 'Ok'.</li>
                        </ul>                  
                    </ol>
                    <li> Check for Updates should now work.</li>
                </ul> 
            </ul>
			
	   <h3> Question? </h3>
			<ul>
	  		    <li> Answer. </li>
			</ul>

</div>
        
<div id="footer">
	<div id="footerImages">
		<a id='UT logo' href="http://www.utk.edu"><img src="media/utlogo.gif"></a>
		<a id='ESS logo' href="http://ess-scandinavia.eu"><img src="media/ess_logo.png"></a>
		<a id='ISIS logo' href="http://www.isis.stfc.ac.uk"><img src="media/isis_logo.png"></a>
		<a id='ILL logo' href="http://www.ill.eu"><img src="media/ill_logo.png"></a>
		<a id='NIST logo' href="http://www.nist.gov"><img src="media/nist_logo.png"></a>
		<a id='SNS logo' href="http://neutrons.ornl.gov"><img src="media/sns_logo.png"></a>
		<a id='DLS logo' href="http://www.diamond.ac.uk"><img src="media/diamond_logo.png"></a>
<!--	<a id='UMD logo' href="http://www.umd.edu"><img src="media/umd_logo.png"></a> -->
	</div>
</div>

</body></html>
