<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>sas.dataloader.data_info &mdash; SasView 3.1.0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '3.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="SasView 3.1.0 documentation" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">SasView 3.1.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for sas.dataloader.data_info</h1><div class="highlight"><pre>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Module that contains classes to hold information read from</span>
<span class="sd">    reduced data files.</span>

<span class="sd">    A good description of the data members can be found in</span>
<span class="sd">    the CanSAS 1D XML data format:</span>

<span class="sd">    http://www.smallangles.net/wgwiki/index.php/cansas1d_documentation</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c">#####################################################################</span>
<span class="c">#This software was developed by the University of Tennessee as part of the</span>
<span class="c">#Distributed Data Analysis of Neutron Scattering Experiments (DANSE)</span>
<span class="c">#project funded by the US National Science Foundation.</span>
<span class="c">#See the license text in license.txt</span>
<span class="c">#copyright 2008, University of Tennessee</span>
<span class="c">######################################################################</span>


<span class="c">#TODO: Keep track of data manipulation in the &#39;process&#39; data structure.</span>
<span class="c">#TODO: This module should be independent of plottables. We should write</span>
<span class="c">#        an adapter class for plottables when needed.</span>

<span class="c">#from sas.guitools.plottables import Data1D as plottable_1D</span>
<span class="kn">from</span> <span class="nn">sas.data_util.uncertainty</span> <span class="kn">import</span> <span class="n">Uncertainty</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">math</span>

<div class="viewcode-block" id="plottable_sesans1D"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.plottable_sesans1D">[docs]</a><span class="k">class</span> <span class="nc">plottable_sesans1D</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SESANS is a place holder for 1D SESANS plottables.</span>

<span class="sd">    #TODO: This was directly copied from the plottables_1D. Modified Somewhat.</span>
<span class="sd">    #Class has been updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># The presence of these should be mutually</span>
    <span class="c"># exclusive with the presence of Qdev (dx)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">y</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">lam</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">dlam</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Slit smearing length</span>
    <span class="n">dxl</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Slit smearing width</span>
    <span class="n">dxw</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="c"># Units</span>
    <span class="n">_xaxis</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_xunit</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_yaxis</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_yunit</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">lam</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dlam</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<span class="c">#        print &quot;SESANS plottable working&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lam</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">lam</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dx</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dy</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dlam</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dlam</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dlam</span><span class="p">)</span>

<div class="viewcode-block" id="plottable_sesans1D.xaxis"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.plottable_sesans1D.xaxis">[docs]</a>    <span class="k">def</span> <span class="nf">xaxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">unit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set the x axis label and unit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_xaxis</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_xunit</span> <span class="o">=</span> <span class="n">unit</span>
</div>
<div class="viewcode-block" id="plottable_sesans1D.yaxis"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.plottable_sesans1D.yaxis">[docs]</a>    <span class="k">def</span> <span class="nf">yaxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">unit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set the y axis label and unit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_yaxis</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_yunit</span> <span class="o">=</span> <span class="n">unit</span>

</div></div>
<div class="viewcode-block" id="plottable_1D"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.plottable_1D">[docs]</a><span class="k">class</span> <span class="nc">plottable_1D</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Data1D is a place holder for 1D plottables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c"># The presence of these should be mutually</span>
    <span class="c"># exclusive with the presence of Qdev (dx)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">y</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">dx</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">dy</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Slit smearing length</span>
    <span class="n">dxl</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Slit smearing width</span>
    <span class="n">dxw</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="c"># Units</span>
    <span class="n">_xaxis</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_xunit</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_yaxis</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_yunit</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dxl</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dxw</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dx</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dy</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dy</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dxl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dxl</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dxl</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dxw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dxw</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dxw</span><span class="p">)</span>

<div class="viewcode-block" id="plottable_1D.xaxis"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.plottable_1D.xaxis">[docs]</a>    <span class="k">def</span> <span class="nf">xaxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">unit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set the x axis label and unit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_xaxis</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_xunit</span> <span class="o">=</span> <span class="n">unit</span>
</div>
<div class="viewcode-block" id="plottable_1D.yaxis"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.plottable_1D.yaxis">[docs]</a>    <span class="k">def</span> <span class="nf">yaxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">unit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set the y axis label and unit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_yaxis</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_yunit</span> <span class="o">=</span> <span class="n">unit</span>

</div></div>
<div class="viewcode-block" id="plottable_2D"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.plottable_2D">[docs]</a><span class="k">class</span> <span class="nc">plottable_2D</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Data2D is a place holder for 2D plottables.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">xmin</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">xmax</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">ymin</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">ymax</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">data</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">qx_data</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">qy_data</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">q_data</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">err_data</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">dqx_data</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">dqy_data</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="c"># Units</span>
    <span class="n">_xaxis</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_xunit</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_yaxis</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_yunit</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_zaxis</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">_zunit</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">err_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">qx_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">qy_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">q_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">dqx_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dqy_data</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qx_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">qx_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">qy_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">qy_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">q_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">q_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">err_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">err_data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dqx_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dqx_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dqx_data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dqy_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dqy_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">dqy_data</span><span class="p">)</span>

<div class="viewcode-block" id="plottable_2D.xaxis"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.plottable_2D.xaxis">[docs]</a>    <span class="k">def</span> <span class="nf">xaxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">unit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set the x axis label and unit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_xaxis</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_xunit</span> <span class="o">=</span> <span class="n">unit</span>
</div>
<div class="viewcode-block" id="plottable_2D.yaxis"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.plottable_2D.yaxis">[docs]</a>    <span class="k">def</span> <span class="nf">yaxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">unit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set the y axis label and unit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_yaxis</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_yunit</span> <span class="o">=</span> <span class="n">unit</span>
</div>
<div class="viewcode-block" id="plottable_2D.zaxis"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.plottable_2D.zaxis">[docs]</a>    <span class="k">def</span> <span class="nf">zaxis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">unit</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set the z axis label and unit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_zaxis</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_zunit</span> <span class="o">=</span> <span class="n">unit</span>

</div></div>
<div class="viewcode-block" id="Vector"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Vector">[docs]</a><span class="k">class</span> <span class="nc">Vector</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Vector class to hold multi-dimensional objects</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">## x component</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## y component</span>
    <span class="n">y</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## z component</span>
    <span class="n">z</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialization. Components that are not</span>
<span class="sd">        set a set to None by default.</span>

<span class="sd">        :param x: x component</span>
<span class="sd">        :param y: y component</span>
<span class="sd">        :param z: z component</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">z</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;x = </span><span class="si">%s</span><span class="se">\t</span><span class="s">y = </span><span class="si">%s</span><span class="se">\t</span><span class="s">z = </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">msg</span>

</div>
<div class="viewcode-block" id="Detector"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Detector">[docs]</a><span class="k">class</span> <span class="nc">Detector</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to hold detector information</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">## Name of the instrument [string]</span>
    <span class="n">name</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Sample to detector distance [float] [mm]</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">distance_unit</span> <span class="o">=</span> <span class="s">&#39;mm&#39;</span>
    <span class="c">## Offset of this detector position in X, Y,</span>
    <span class="c">#(and Z if necessary) [Vector] [mm]</span>
    <span class="n">offset</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">offset_unit</span> <span class="o">=</span> <span class="s">&#39;m&#39;</span>
    <span class="c">## Orientation (rotation) of this detector in roll,</span>
    <span class="c"># pitch, and yaw [Vector] [degrees]</span>
    <span class="n">orientation</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">orientation_unit</span> <span class="o">=</span> <span class="s">&#39;degree&#39;</span>
    <span class="c">## Center of the beam on the detector in X and Y</span>
    <span class="c">#(and Z if necessary) [Vector] [mm]</span>
    <span class="n">beam_center</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">beam_center_unit</span> <span class="o">=</span> <span class="s">&#39;mm&#39;</span>
    <span class="c">## Pixel size in X, Y, (and Z if necessary) [Vector] [mm]</span>
    <span class="n">pixel_size</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">pixel_size_unit</span> <span class="o">=</span> <span class="s">&#39;mm&#39;</span>
    <span class="c">## Slit length of the instrument for this detector.[float] [mm]</span>
    <span class="n">slit_length</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">slit_length_unit</span> <span class="o">=</span> <span class="s">&#39;mm&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize class attribute that are objects...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">offset</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">beam_center</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pixel_size</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_str</span> <span class="o">=</span> <span class="s">&quot;Detector:</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Name:         </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Distance:     </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distance</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">distance_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Offset:       </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">offset</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">offset_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Orientation:  </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Beam center:  </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">beam_center</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">beam_center_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Pixel size:   </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pixel_size</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pixel_size_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Slit length:  </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slit_length</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slit_length_unit</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">_str</span>

</div>
<div class="viewcode-block" id="Aperture"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Aperture">[docs]</a><span class="k">class</span> <span class="nc">Aperture</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c">## Name</span>
    <span class="n">name</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Type</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Size name</span>
    <span class="n">size_name</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Aperture size [Vector]</span>
    <span class="n">size</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">size_unit</span> <span class="o">=</span> <span class="s">&#39;mm&#39;</span>
    <span class="c">## Aperture distance [float]</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">distance_unit</span> <span class="o">=</span> <span class="s">&#39;mm&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">()</span>

</div>
<div class="viewcode-block" id="Collimation"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Collimation">[docs]</a><span class="k">class</span> <span class="nc">Collimation</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to hold collimation information</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">## Name</span>
    <span class="n">name</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Length [float] [mm]</span>
    <span class="n">length</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">length_unit</span> <span class="o">=</span> <span class="s">&#39;mm&#39;</span>
    <span class="c">## Aperture</span>
    <span class="n">aperture</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">aperture</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_str</span> <span class="o">=</span> <span class="s">&quot;Collimation:</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Length:       </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">length</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">length_unit</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">aperture</span><span class="p">:</span>
            <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Aperture size:</span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
                <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">size</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">size_unit</span><span class="p">))</span>
            <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Aperture_dist:</span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
                <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">distance</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">distance_unit</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">_str</span>

</div>
<div class="viewcode-block" id="Source"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Source">[docs]</a><span class="k">class</span> <span class="nc">Source</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to hold source information</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">## Name</span>
    <span class="n">name</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Radiation type [string]</span>
    <span class="n">radiation</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Beam size name</span>
    <span class="n">beam_size_name</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Beam size [Vector] [mm]</span>
    <span class="n">beam_size</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">beam_size_unit</span> <span class="o">=</span> <span class="s">&#39;mm&#39;</span>
    <span class="c">## Beam shape [string]</span>
    <span class="n">beam_shape</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Wavelength [float] [Angstrom]</span>
    <span class="n">wavelength</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">wavelength_unit</span> <span class="o">=</span> <span class="s">&#39;A&#39;</span>
    <span class="c">## Minimum wavelength [float] [Angstrom]</span>
    <span class="n">wavelength_min</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">wavelength_min_unit</span> <span class="o">=</span> <span class="s">&#39;nm&#39;</span>
    <span class="c">## Maximum wavelength [float] [Angstrom]</span>
    <span class="n">wavelength_max</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">wavelength_max_unit</span> <span class="o">=</span> <span class="s">&#39;nm&#39;</span>
    <span class="c">## Wavelength spread [float] [Angstrom]</span>
    <span class="n">wavelength_spread</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">wavelength_spread_unit</span> <span class="o">=</span> <span class="s">&#39;percent&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">beam_size</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_str</span> <span class="o">=</span> <span class="s">&quot;Source:</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Radiation:    </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radiation</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Shape:        </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">beam_shape</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Wavelength:   </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelength</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelength_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Waveln_min:   </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelength_min</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelength_min_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Waveln_max:   </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelength_max</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelength_max_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Waveln_spread:</span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelength_spread</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelength_spread_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Beam_size:    </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">beam_size</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">beam_size_unit</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">_str</span>

</div>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Definitions of radiation types</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">NEUTRON</span> <span class="o">=</span> <span class="s">&#39;neutron&#39;</span>
<span class="n">XRAY</span> <span class="o">=</span> <span class="s">&#39;x-ray&#39;</span>
<span class="n">MUON</span> <span class="o">=</span> <span class="s">&#39;muon&#39;</span>
<span class="n">ELECTRON</span> <span class="o">=</span> <span class="s">&#39;electron&#39;</span>


<div class="viewcode-block" id="Sample"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Sample">[docs]</a><span class="k">class</span> <span class="nc">Sample</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to hold the sample description</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">## Short name for sample</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="c">## ID</span>
    <span class="n">ID</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="c">## Thickness [float] [mm]</span>
    <span class="n">thickness</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">thickness_unit</span> <span class="o">=</span> <span class="s">&#39;mm&#39;</span>
    <span class="c">## Transmission [float] [fraction]</span>
    <span class="n">transmission</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Temperature [float] [No Default]</span>
    <span class="n">temperature</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">temperature_unit</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Position [Vector] [mm]</span>
    <span class="n">position</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">position_unit</span> <span class="o">=</span> <span class="s">&#39;mm&#39;</span>
    <span class="c">## Orientation [Vector] [degrees]</span>
    <span class="n">orientation</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">orientation_unit</span> <span class="o">=</span> <span class="s">&#39;degree&#39;</span>
    <span class="c">## Details</span>
    <span class="n">details</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">orientation</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">details</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_str</span> <span class="o">=</span> <span class="s">&quot;Sample:</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   ID:           </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ID</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Transmission: </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transmission</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Thickness:    </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thickness</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thickness_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Temperature:  </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">temperature_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Position:     </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">position_unit</span><span class="p">))</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Orientation:  </span><span class="si">%s</span><span class="s"> [</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> \
            <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">orientation_unit</span><span class="p">))</span>

        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Details:</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">details</span><span class="p">:</span>
            <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;      </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">item</span>

        <span class="k">return</span> <span class="n">_str</span>

</div>
<div class="viewcode-block" id="Process"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Process">[docs]</a><span class="k">class</span> <span class="nc">Process</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class that holds information about the processes</span>
<span class="sd">    performed on the data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">date</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">term</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">term</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">notes</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="Process.is_empty"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Process.is_empty">[docs]</a>    <span class="k">def</span> <span class="nf">is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Return True if the object is empty</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">date</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> \
            <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">term</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">notes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
            </div>
<div class="viewcode-block" id="Process.single_line_desc"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Process.single_line_desc">[docs]</a>    <span class="k">def</span> <span class="nf">single_line_desc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Return a single line string representing the process</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s"> </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
     </div>
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_str</span> <span class="o">=</span> <span class="s">&quot;Process:</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Name:         </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Date:         </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">date</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Description:  </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">term</span><span class="p">:</span>
            <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Term:         </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">item</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">notes</span><span class="p">:</span>
            <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Note:         </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">item</span>
        <span class="k">return</span> <span class="n">_str</span>

</div>
<div class="viewcode-block" id="TransmissionSpectrum"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.TransmissionSpectrum">[docs]</a><span class="k">class</span> <span class="nc">TransmissionSpectrum</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class that holds information about transmission spectrum</span>
<span class="sd">    for white beams and spallation sources.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">timestamp</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="c">## Wavelength (float) [A]</span>
    <span class="n">wavelength</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">wavelength_unit</span> <span class="o">=</span> <span class="s">&#39;A&#39;</span>
    <span class="c">## Transmission (float) [unit less]</span>
    <span class="n">transmission</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">transmission_unit</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="c">## Transmission Deviation (float) [unit less]</span>
    <span class="n">transmission_deviation</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">transmission_deviation_unit</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wavelength</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transmission</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transmission_deviation</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_str</span> <span class="o">=</span> <span class="s">&quot;Transmission Spectrum:</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Name:             </span><span class="se">\t</span><span class="s">{0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Timestamp:        </span><span class="se">\t</span><span class="s">{0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timestamp</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Wavelength unit:  </span><span class="se">\t</span><span class="s">{0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelength_unit</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Transmission unit:</span><span class="se">\t</span><span class="s">{0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transmission_unit</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Trans. Dev. unit:  </span><span class="se">\t</span><span class="s">{0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>\
                                            <span class="bp">self</span><span class="o">.</span><span class="n">transmission_deviation_unit</span><span class="p">)</span>
        <span class="n">length_list</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wavelength</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transmission</span><span class="p">),</span> \
                <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">transmission_deviation</span><span class="p">)]</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Number of Pts:    </span><span class="se">\t</span><span class="s">{0}</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">length_list</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">_str</span>

</div>
<div class="viewcode-block" id="DataInfo"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.DataInfo">[docs]</a><span class="k">class</span> <span class="nc">DataInfo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to hold the data read from a file.</span>
<span class="sd">    It includes four blocks of data for the</span>
<span class="sd">    instrument description, the sample description,</span>
<span class="sd">    the data itself and any other meta data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">## Title</span>
    <span class="n">title</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="c">## Run number</span>
    <span class="n">run</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Run name</span>
    <span class="n">run_name</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## File name</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="c">## Notes</span>
    <span class="n">notes</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Processes (Action on the data)</span>
    <span class="n">process</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Instrument name</span>
    <span class="n">instrument</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="c">## Detector information</span>
    <span class="n">detector</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Sample information</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Source information</span>
    <span class="n">source</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Collimation information</span>
    <span class="n">collimation</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Transmission Spectrum INfo</span>
    <span class="n">trans_spectrum</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Additional meta-data</span>
    <span class="n">meta_data</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Loading errors</span>
    <span class="n">errors</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialization</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c">## Title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="c">## Run number</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">run_name</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c">## File name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="c">## Notes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">notes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c">## Processes (Action on the data)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c">## Instrument name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
        <span class="c">## Detector information</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detector</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c">## Sample information</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sample</span> <span class="o">=</span> <span class="n">Sample</span><span class="p">()</span>
        <span class="c">## Source information</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">Source</span><span class="p">()</span>
        <span class="c">## Collimation information</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collimation</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c">## Transmission Spectrum</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trans_spectrum</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="c">## Additional meta-data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">meta_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c">## Loading errors</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="p">[]</span>

<div class="viewcode-block" id="DataInfo.append_empty_process"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.DataInfo.append_empty_process">[docs]</a>    <span class="k">def</span> <span class="nf">append_empty_process</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Process</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="DataInfo.add_notes"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.DataInfo.add_notes">[docs]</a>    <span class="k">def</span> <span class="nf">add_notes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add notes to datainfo</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">notes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
</div>
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Nice printout</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_str</span> <span class="o">=</span> <span class="s">&quot;File:            </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;Title:           </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;Run:             </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;Instrument:      </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="p">:</span>
            <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">collimation</span><span class="p">:</span>
            <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">:</span>
            <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">notes</span><span class="p">:</span>
            <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">trans_spectrum</span><span class="p">:</span>
            <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_str</span>

    <span class="c"># Private method to perform operation. Not implemented for DataInfo,</span>
    <span class="c"># but should be implemented for each data class inherited from DataInfo</span>
    <span class="c"># that holds actual data (ex.: Data1D)</span>
    <span class="k">def</span> <span class="nf">_perform_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Private method to perform operation. Not implemented for DataInfo,</span>
<span class="sd">        but should be implemented for each data class inherited from DataInfo</span>
<span class="sd">        that holds actual data (ex.: Data1D)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="nf">_perform_union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Private method to perform union operation. Not implemented for DataInfo,</span>
<span class="sd">        but should be implemented for each data class inherited from DataInfo</span>
<span class="sd">        that holds actual data (ex.: Data1D)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add two data sets</span>

<span class="sd">        :param other: data set to add to the current one</span>
<span class="sd">        :return: new data set</span>
<span class="sd">        :raise ValueError: raised when two data sets are incompatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_perform_operation</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__radd__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add two data sets</span>

<span class="sd">        :param other: data set to add to the current one</span>
<span class="sd">        :return: new data set</span>
<span class="sd">        :raise ValueError: raised when two data sets are incompatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">b</span> <span class="o">+</span> <span class="n">a</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_perform_operation</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Subtract two data sets</span>

<span class="sd">        :param other: data set to subtract from the current one</span>
<span class="sd">        :return: new data set</span>
<span class="sd">        :raise ValueError: raised when two data sets are incompatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_perform_operation</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rsub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Subtract two data sets</span>

<span class="sd">        :param other: data set to subtract from the current one</span>
<span class="sd">        :return: new data set</span>
<span class="sd">        :raise ValueError: raised when two data sets are incompatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_perform_operation</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multiply two data sets</span>

<span class="sd">        :param other: data set to subtract from the current one</span>
<span class="sd">        :return: new data set</span>
<span class="sd">        :raise ValueError: raised when two data sets are incompatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_perform_operation</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Multiply two data sets</span>

<span class="sd">        :param other: data set to subtract from the current one</span>
<span class="sd">        :return: new data set</span>
<span class="sd">        :raise ValueError: raised when two data sets are incompatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">b</span> <span class="o">*</span> <span class="n">a</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_perform_operation</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__div__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Divided a data set by another</span>

<span class="sd">        :param other: data set that the current one is divided by</span>
<span class="sd">        :return: new data set</span>
<span class="sd">        :raise ValueError: raised when two data sets are incompatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">a</span><span class="o">/</span><span class="n">b</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_perform_operation</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rdiv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Divided a data set by another</span>

<span class="sd">        :param other: data set that the current one is divided by</span>
<span class="sd">        :return: new data set</span>
<span class="sd">        :raise ValueError: raised when two data sets are incompatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">b</span><span class="o">/</span><span class="n">a</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_perform_operation</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Union a data set with another</span>

<span class="sd">        :param other: data set to be unified</span>
<span class="sd">        :return: new data set</span>
<span class="sd">        :raise ValueError: raised when two data sets are incompatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_perform_union</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__ror__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Union a data set with another</span>

<span class="sd">        :param other: data set to be unified</span>
<span class="sd">        :return: new data set</span>
<span class="sd">        :raise ValueError: raised when two data sets are incompatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_perform_union</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="SESANSData1D"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.SESANSData1D">[docs]</a><span class="k">class</span> <span class="nc">SESANSData1D</span><span class="p">(</span><span class="n">plottable_sesans1D</span><span class="p">,</span> <span class="n">DataInfo</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SESANS 1D data class</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x_unit</span> <span class="o">=</span> <span class="s">&#39;nm&#39;</span>
    <span class="n">y_unit</span> <span class="o">=</span> <span class="s">&#39;pol&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">lam</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dlam</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">DataInfo</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">plottable_sesans1D</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">lam</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">,</span> <span class="n">dlam</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Nice printout</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_str</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">DataInfo</span><span class="o">.</span><span class="n">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;Data:</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Type:         </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   X-axis:       </span><span class="si">%s</span><span class="se">\t</span><span class="s">[</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_xaxis</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xunit</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Y-axis:       </span><span class="si">%s</span><span class="se">\t</span><span class="s">[</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_yaxis</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yunit</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Length:       </span><span class="si">%g</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_str</span>

<div class="viewcode-block" id="SESANSData1D.clone_without_data"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.SESANSData1D.clone_without_data">[docs]</a>    <span class="k">def</span> <span class="nf">clone_without_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">clone</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clone the current object, without copying the data (which</span>
<span class="sd">        will be filled out by a subsequent operation).</span>
<span class="sd">        The data arrays will be initialized to zero.</span>

<span class="sd">        :param length: length of the data array to be initialized</span>
<span class="sd">        :param clone: if provided, the data will be copied to clone</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
        <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">clone</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="n">Data1D</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">dx</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">dy</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">clone</span> <span class="o">=</span> <span class="n">Data1D</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">)</span>

        <span class="n">clone</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">run</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">notes</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">notes</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">process</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">detector</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">sample</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">collimation</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">collimation</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">trans_spectrum</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trans_spectrum</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">meta_data</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">meta_data</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">clone</span>
</div></div>
<div class="viewcode-block" id="Data1D"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Data1D">[docs]</a><span class="k">class</span> <span class="nc">Data1D</span><span class="p">(</span><span class="n">plottable_1D</span><span class="p">,</span> <span class="n">DataInfo</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    1D data class</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x_unit</span> <span class="o">=</span> <span class="s">&#39;1/A&#39;</span>
    <span class="n">y_unit</span> <span class="o">=</span> <span class="s">&#39;1/cm&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">DataInfo</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">plottable_1D</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Nice printout</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_str</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">DataInfo</span><span class="o">.</span><span class="n">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;Data:</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Type:         </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   X-axis:       </span><span class="si">%s</span><span class="se">\t</span><span class="s">[</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_xaxis</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_xunit</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Y-axis:       </span><span class="si">%s</span><span class="se">\t</span><span class="s">[</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_yaxis</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yunit</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Length:       </span><span class="si">%g</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_str</span>

<div class="viewcode-block" id="Data1D.is_slit_smeared"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Data1D.is_slit_smeared">[docs]</a>    <span class="k">def</span> <span class="nf">is_slit_smeared</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check whether the data has slit smearing information</span>
<span class="sd">        :return: True is slit smearing info is present, False otherwise</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">_check</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">__class__</span> <span class="o">==</span> <span class="nb">list</span> <span class="ow">or</span> <span class="n">v</span><span class="o">.</span><span class="n">__class__</span> <span class="o">==</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> \
                <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">min</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="n">_check</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dxl</span><span class="p">)</span> <span class="ow">or</span> <span class="n">_check</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dxw</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Data1D.clone_without_data"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Data1D.clone_without_data">[docs]</a>    <span class="k">def</span> <span class="nf">clone_without_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">clone</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clone the current object, without copying the data (which</span>
<span class="sd">        will be filled out by a subsequent operation).</span>
<span class="sd">        The data arrays will be initialized to zero.</span>

<span class="sd">        :param length: length of the data array to be initialized</span>
<span class="sd">        :param clone: if provided, the data will be copied to clone</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>

        <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">clone</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="n">Data1D</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">dx</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">dy</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">clone</span> <span class="o">=</span> <span class="n">Data1D</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="n">dy</span><span class="p">)</span>

        <span class="n">clone</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">run</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">notes</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">notes</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">process</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">detector</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">sample</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">collimation</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">collimation</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">trans_spectrum</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trans_spectrum</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">meta_data</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">meta_data</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">clone</span>
</div>
    <span class="k">def</span> <span class="nf">_validity_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks that the data lengths are compatible.</span>
<span class="sd">        Checks that the x vectors are compatible.</span>
<span class="sd">        Returns errors vectors equal to original</span>
<span class="sd">        errors vectors if they were present or vectors</span>
<span class="sd">        of zeros when none was found.</span>

<span class="sd">        :param other: other data set for operation</span>
<span class="sd">        :return: dy for self, dy for other [numpy arrays]</span>
<span class="sd">        :raise ValueError: when lengths are not compatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dy_other</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Data1D</span><span class="p">):</span>
            <span class="c"># Check that data lengths are the same</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="ow">or</span> \
                <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;Unable to perform operation: data length are not equal&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span>
            <span class="c"># Here we could also extrapolate between data points</span>
            <span class="n">ZERO</span> <span class="o">=</span> <span class="mf">1.0e-12</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">&gt;</span> <span class="n">ZERO</span><span class="p">:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;Incompatible data sets: x-values do not match&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span>

            <span class="c"># Check that the other data set has errors, otherwise</span>
            <span class="c"># create zero vector</span>
            <span class="n">dy_other</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">dy</span>
            <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">dy</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">dy</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)):</span>
                <span class="n">dy_other</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>

        <span class="c"># Check that we have errors, otherwise create zero vector</span>
        <span class="n">dy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dy</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dy</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dy</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)):</span>
            <span class="n">dy</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">dy</span><span class="p">,</span> <span class="n">dy_other</span>

    <span class="k">def</span> <span class="nf">_perform_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># First, check the data compatibility</span>
        <span class="n">dy</span><span class="p">,</span> <span class="n">dy_other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validity_check</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clone_without_data</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dxw</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxw</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxw</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dxl</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxl</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxl</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dx</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dxw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dxw</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">dxw</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dxw</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dxl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dxl</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">dxl</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dxl</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

            <span class="n">a</span> <span class="o">=</span> <span class="n">Uncertainty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Data1D</span><span class="p">):</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">Uncertainty</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dy_other</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">dx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/=</span> <span class="mi">2</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">dx</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">dxl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">other</span><span class="o">.</span><span class="n">dxl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dxl</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dxl</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dxl</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">dxl</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dxl</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/=</span> <span class="mi">2</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dxl</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">dxl</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">other</span>

            <span class="n">output</span> <span class="o">=</span> <span class="n">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">x</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">variance</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">_validity_check_union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks that the data lengths are compatible.</span>
<span class="sd">        Checks that the x vectors are compatible.</span>
<span class="sd">        Returns errors vectors equal to original</span>
<span class="sd">        errors vectors if they were present or vectors</span>
<span class="sd">        of zeros when none was found.</span>

<span class="sd">        :param other: other data set for operation</span>
<span class="sd">        :return: bool</span>
<span class="sd">        :raise ValueError: when data types are not compatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Data1D</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;Unable to perform operation: different types of data set&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">_perform_union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># First, check the data compatibility</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validity_check_union</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clone_without_data</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dy</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">dy</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dx</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">dx</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dxw</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">dxw</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxw</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxw</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dxl</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">dxl</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxl</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxl</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>

        <span class="n">result</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="c">#argsorting</span>
        <span class="n">ind</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">x</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
        <span class="n">result</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">dy</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dy</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">dy</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dy</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">dy</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">dx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dx</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">dx</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dx</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">dx</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">dxw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxw</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dxw</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">dxw</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxw</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">dxw</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">dxl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxl</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dxl</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">dxl</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dxl</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">dxl</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">result</span>

</div>
<div class="viewcode-block" id="Data2D"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Data2D">[docs]</a><span class="k">class</span> <span class="nc">Data2D</span><span class="p">(</span><span class="n">plottable_2D</span><span class="p">,</span> <span class="n">DataInfo</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    2D data class</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c">## Units for Q-values</span>
    <span class="n">Q_unit</span> <span class="o">=</span> <span class="s">&#39;1/A&#39;</span>
    <span class="c">## Units for I(Q) values</span>
    <span class="n">I_unit</span> <span class="o">=</span> <span class="s">&#39;1/cm&#39;</span>
    <span class="c">## Vector of Q-values at the center of each bin in x</span>
    <span class="n">x_bins</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c">## Vector of Q-values at the center of each bin in y</span>
    <span class="n">y_bins</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">err_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">qx_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">qy_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">q_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">dqx_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dqy_data</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y_bins</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x_bins</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">DataInfo</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">plottable_2D</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">err_data</span><span class="p">,</span> <span class="n">qx_data</span><span class="p">,</span>
                              <span class="n">qy_data</span><span class="p">,</span> <span class="n">q_data</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="n">dqx_data</span><span class="p">,</span> <span class="n">dqy_data</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">,</span> <span class="s">&quot;Data2D: Detector bank already filled at init&quot;</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_str</span> <span class="o">=</span> <span class="s">&quot;</span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">DataInfo</span><span class="o">.</span><span class="n">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;Data:</span><span class="se">\n</span><span class="s">&quot;</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Type:         </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   X- &amp; Y-axis:  </span><span class="si">%s</span><span class="se">\t</span><span class="s">[</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_yaxis</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yunit</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Z-axis:       </span><span class="si">%s</span><span class="se">\t</span><span class="s">[</span><span class="si">%s</span><span class="s">]</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_zaxis</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_zunit</span><span class="p">)</span>
        <span class="n">_str</span> <span class="o">+=</span> <span class="s">&quot;   Length:       </span><span class="si">%g</span><span class="s"> </span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">_str</span>

<div class="viewcode-block" id="Data2D.clone_without_data"><a class="viewcode-back" href="../../../dev/api/sas.dataloader.html#sas.dataloader.data_info.Data2D.clone_without_data">[docs]</a>    <span class="k">def</span> <span class="nf">clone_without_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">clone</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clone the current object, without copying the data (which</span>
<span class="sd">        will be filled out by a subsequent operation).</span>
<span class="sd">        The data arrays will be initialized to zero.</span>

<span class="sd">        :param length: length of the data array to be initialized</span>
<span class="sd">        :param clone: if provided, the data will be copied to clone</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>

        <span class="k">if</span> <span class="n">clone</span> <span class="ow">is</span> <span class="bp">None</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">clone</span><span class="o">.</span><span class="n">__class__</span><span class="p">,</span> <span class="n">Data2D</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">err_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">qx_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">qy_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">q_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
            <span class="n">dqx_data</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">dqy_data</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">clone</span> <span class="o">=</span> <span class="n">Data2D</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">err_data</span><span class="o">=</span><span class="n">err_data</span><span class="p">,</span>
                           <span class="n">qx_data</span><span class="o">=</span><span class="n">qx_data</span><span class="p">,</span> <span class="n">qy_data</span><span class="o">=</span><span class="n">qy_data</span><span class="p">,</span>
                           <span class="n">q_data</span><span class="o">=</span><span class="n">q_data</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>

        <span class="n">clone</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">run</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">notes</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">notes</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">process</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">process</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">detector</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">detector</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">sample</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">source</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">collimation</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">collimation</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">meta_data</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">meta_data</span><span class="p">)</span>
        <span class="n">clone</span><span class="o">.</span><span class="n">errors</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">errors</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">clone</span>
</div>
    <span class="k">def</span> <span class="nf">_validity_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks that the data lengths are compatible.</span>
<span class="sd">        Checks that the x vectors are compatible.</span>
<span class="sd">        Returns errors vectors equal to original</span>
<span class="sd">        errors vectors if they were present or vectors</span>
<span class="sd">        of zeros when none was found.</span>

<span class="sd">        :param other: other data set for operation</span>
<span class="sd">        :return: dy for self, dy for other [numpy arrays]</span>
<span class="sd">        :raise ValueError: when lengths are not compatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">err_other</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Data2D</span><span class="p">):</span>
            <span class="c"># Check that data lengths are the same</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="ow">or</span> \
                <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">qx_data</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">qx_data</span><span class="p">)</span> <span class="ow">or</span> \
                <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">qy_data</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">qy_data</span><span class="p">):</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;Unable to perform operation: data length are not equal&quot;</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span>
            <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)):</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">qx_data</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">qx_data</span><span class="p">[</span><span class="n">ind</span><span class="p">]:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;Incompatible data sets: qx-values do not match&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">qy_data</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">qy_data</span><span class="p">[</span><span class="n">ind</span><span class="p">]:</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;Incompatible data sets: qy-values do not match&quot;</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span>

            <span class="c"># Check that the scales match</span>
            <span class="n">err_other</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">err_data</span>
            <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">err_data</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> \
                <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">err_data</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">data</span><span class="p">)):</span>
                <span class="n">err_other</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>

        <span class="c"># Check that we have errors, otherwise create zero vector</span>
        <span class="n">err</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">err_data</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">err_data</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> \
            <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">err_data</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)):</span>
            <span class="n">err</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">err</span><span class="p">,</span> <span class="n">err_other</span>

    <span class="k">def</span> <span class="nf">_perform_operation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">operation</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform 2D operations between data sets</span>

<span class="sd">        :param other: other data set</span>
<span class="sd">        :param operation: function defining the operation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># First, check the data compatibility</span>
        <span class="n">dy</span><span class="p">,</span> <span class="n">dy_other</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validity_check</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clone_without_data</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqx_data</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqy_data</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)):</span>
            <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">err_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
                <span class="n">numpy</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="n">numpy</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">err_data</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">err_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">err_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqx_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqy_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">result</span><span class="o">.</span><span class="n">qx_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">qx_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">result</span><span class="o">.</span><span class="n">qy_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">qy_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">result</span><span class="o">.</span><span class="n">q_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">q_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">result</span><span class="o">.</span><span class="n">mask</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

            <span class="n">a</span> <span class="o">=</span> <span class="n">Uncertainty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dy</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Data2D</span><span class="p">):</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">Uncertainty</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dy_other</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">dqx_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
                        <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/=</span> <span class="mi">2</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">dqy_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> \
                        <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/=</span> <span class="mi">2</span>
                    <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">b</span> <span class="o">=</span> <span class="n">other</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">operation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
            <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">x</span>
            <span class="n">result</span><span class="o">.</span><span class="n">err_data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">variance</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">_validity_check_union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks that the data lengths are compatible.</span>
<span class="sd">        Checks that the x vectors are compatible.</span>
<span class="sd">        Returns errors vectors equal to original</span>
<span class="sd">        errors vectors if they were present or vectors</span>
<span class="sd">        of zeros when none was found.</span>

<span class="sd">        :param other: other data set for operation</span>
<span class="sd">        :return: bool</span>
<span class="sd">        :raise ValueError: when data types are not compatible</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Data2D</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;Unable to perform operation: different types of data set&quot;</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="n">msg</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">_perform_union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform 2D operations between data sets</span>

<span class="sd">        :param other: other data set</span>
<span class="sd">        :param operation: function defining the operation</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># First, check the data compatibility</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_validity_check_union</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clone_without_data</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> \
                                         <span class="n">numpy</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
        <span class="n">result</span><span class="o">.</span><span class="n">xmin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmin</span>
        <span class="n">result</span><span class="o">.</span><span class="n">xmax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmax</span>
        <span class="n">result</span><span class="o">.</span><span class="n">ymin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymin</span>
        <span class="n">result</span><span class="o">.</span><span class="n">ymax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymax</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqx_data</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqy_data</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> \
                <span class="n">other</span><span class="o">.</span><span class="n">dqx_data</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">other</span><span class="o">.</span><span class="n">dqy_data</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span> <span class="o">=</span> <span class="bp">None</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> \
                                         <span class="n">numpy</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">+</span> \
                                         <span class="n">numpy</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">data</span><span class="p">))</span>

        <span class="n">result</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">qx_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">qx_data</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">qx_data</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">qy_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">qy_data</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">qy_data</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">q_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">q_data</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">q_data</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">mask</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mask</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">mask</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">err_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">err_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">err_data</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">err_data</span><span class="p">)</span> 
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqx_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dqx_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">dqx_data</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dqy_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">dqy_data</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">dqy_data</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">SasView 3.1.0 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, The SasView Project.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>