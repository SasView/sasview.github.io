<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>SasView Model Functions &mdash; SasView 3.1.2 documentation</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.1.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="SasView 3.1.2 documentation" href="../../index.html" />
    <link rel="up" title="SasView User Documentation" href="../user.html" />
    <link rel="next" title="Data Formats" href="../guiframe/data_formats_help.html" />
    <link rel="prev" title="SasView User Documentation" href="../user.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../guiframe/data_formats_help.html" title="Data Formats"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../user.html" title="SasView User Documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">SasView 3.1.2 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../user.html" accesskey="U">SasView User Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The contents of this document are presented in good faith and are
believed to be mostly correct and accurate, however they have not
yet been rigorously checked for errors. June2015</p>
</div>
<div class="section" id="sasview-model-functions">
<span id="id1"></span><h1>SasView Model Functions</h1>
<div class="section" id="background">
<span id="id2"></span><h2>1. Background</h2>
<p>Many of our models use the form factor calculations implemented in a c-library provided by the NIST Center for Neutron
Research and thus some content and figures in this document are originated from or shared with the NIST SANS Igor-based
analysis package.</p>
<p>This software provides form factors for various particle shapes. After giving a mathematical definition of each model,
we show the list of parameters available to the user. Validation plots for each model are also presented.</p>
<p>Instructions on how to use SasView itself are available separately.</p>
<p>To easily compare to the scattering intensity measured in experiments, we normalize the form factors by the volume of
the particle</p>
<img alt="../../_images/image001.PNG" src="../../_images/image001.PNG" />
<p>with</p>
<img alt="../../_images/image002.PNG" src="../../_images/image002.PNG" />
<p>where P<sub>0</sub><em>(q)</em> is the un-normalized form factor, ρ<em>(r)</em> is the scattering length density at a given
point in space and the integration is done over the volume <em>V</em> of the scatterer.</p>
<p>For systems without inter-particle interference, the form factors we provide can be related to the scattering intensity
by the particle volume fraction</p>
<img alt="../../_images/image003.PNG" src="../../_images/image003.PNG" />
<p>Our so-called 1D scattering intensity functions provide <em>P(q)</em> for the case where the scatterer is randomly oriented. In
that case, the scattering intensity only depends on the length of <em>q</em> . The intensity measured on the plane of the SAS
detector will have an azimuthal symmetry around <em>q</em>=0 .</p>
<p>Our so-called 2D scattering intensity functions provide <em>P(q,</em> φ <em>)</em> for an oriented system as a function of a
q-vector in the plane of the detector. We define the angle φ as the angle between the q vector and the horizontal
(x) axis of the plane of the detector.</p>
<p>For information about polarised and magnetic scattering, click <a class="reference external" href="polar_mag_help.html">here</a>.</p>
</div>
<div class="section" id="model-functions">
<span id="model"></span><h2>2. Model functions</h2>
</div>
<div class="section" id="shape-based-functions">
<span id="shape-based"></span><h2>2.1 Shape-based Functions</h2>
</div>
<div class="section" id="sphere-based">
<h2>Sphere-based</h2>
<ul class="simple">
<li><a class="reference internal" href="#spheremodel">SphereModel</a> (including magnetic 2D version)</li>
<li><a class="reference internal" href="#binaryhsmodel">BinaryHSModel</a></li>
<li><a class="reference internal" href="#fuzzyspheremodel">FuzzySphereModel</a></li>
<li><a class="reference internal" href="#raspberrymodel">RaspBerryModel</a></li>
<li><a class="reference internal" href="#coreshellmodel">CoreShellModel</a> (including magnetic 2D version)</li>
<li><a class="reference internal" href="#micellesphcoremodel">MicelleSphCoreModel</a></li>
<li><a class="reference internal" href="#coremultishellmodel">CoreMultiShellModel</a> (including magnetic 2D version)</li>
<li><a class="reference internal" href="#core2ndmomentmodel">Core2ndMomentModel</a></li>
<li><a class="reference internal" href="#multishellmodel">MultiShellModel</a></li>
<li><a class="reference internal" href="#onionexpshellmodel">OnionExpShellModel</a></li>
<li><a class="reference internal" href="#vesiclemodel">VesicleModel</a></li>
<li><a class="reference internal" href="#sphericalsldmodel">SphericalSLDModel</a></li>
<li><a class="reference internal" href="#linearpearlsmodel">LinearPearlsModel</a></li>
<li><a class="reference internal" href="#pearlnecklacemodel">PearlNecklaceModel</a></li>
</ul>
</div>
<div class="section" id="cylinder-based">
<h2>Cylinder-based</h2>
<ul class="simple">
<li><a class="reference internal" href="#cylindermodel">CylinderModel</a> (including magnetic 2D version)</li>
<li><a class="reference internal" href="#hollowcylindermodel">HollowCylinderModel</a></li>
<li><a class="reference internal" href="#cappedcylindermodel">CappedCylinderModel</a></li>
<li><a class="reference internal" href="#coreshellcylindermodel">CoreShellCylinderModel</a></li>
<li><a class="reference internal" href="#ellipticalcylindermodel">EllipticalCylinderModel</a></li>
<li><a class="reference internal" href="#flexiblecylindermodel">FlexibleCylinderModel</a></li>
<li><a class="reference internal" href="#flexcylellipxmodel">FlexCylEllipXModel</a></li>
<li><a class="reference internal" href="#coreshellbicellemodel">CoreShellBicelleModel</a></li>
<li><a class="reference internal" href="#barbellmodel">BarBellModel</a></li>
<li><a class="reference internal" href="#stackeddisksmodel">StackedDisksModel</a></li>
<li><a class="reference internal" href="#pringlemodel">PringleModel</a></li>
</ul>
</div>
<div class="section" id="ellipsoid-based">
<h2>Ellipsoid-based</h2>
<ul class="simple">
<li><a class="reference internal" href="#ellipsoidmodel">EllipsoidModel</a></li>
<li><a class="reference internal" href="#coreshellellipsoidmodel">CoreShellEllipsoidModel</a></li>
<li><a class="reference internal" href="#coreshellellipsoidxtmodel">CoreShellEllipsoidXTModel</a></li>
<li><a class="reference internal" href="#triaxialellipsoidmodel">TriaxialEllipsoidModel</a></li>
</ul>
</div>
<div class="section" id="lamellae">
<h2>Lamellae</h2>
<ul class="simple">
<li><a class="reference internal" href="#lamellarmodel">LamellarModel</a></li>
<li><a class="reference internal" href="#lamellarffhgmodel">LamellarFFHGModel</a></li>
<li><a class="reference internal" href="#lamellarpsmodel">LamellarPSModel</a></li>
<li><a class="reference internal" href="#lamellarpshgmodel">LamellarPSHGModel</a></li>
</ul>
</div>
<div class="section" id="paracrystals">
<h2>Paracrystals</h2>
<ul class="simple">
<li><a class="reference internal" href="#lamellarpcrystalmodel">LamellarPCrystalModel</a></li>
<li><a class="reference internal" href="#sccrystalmodel">SCCrystalModel</a></li>
<li><a class="reference internal" href="#fccrystalmodel">FCCrystalModel</a></li>
<li><a class="reference internal" href="#bccrystalmodel">BCCrystalModel</a></li>
</ul>
</div>
<div class="section" id="parallelpipeds">
<h2>Parallelpipeds</h2>
<ul class="simple">
<li><a class="reference internal" href="#parallelepipedmodel">ParallelepipedModel</a> (including magnetic 2D version)</li>
<li><a class="reference internal" href="#csparallelepipedmodel">CSParallelepipedModel</a></li>
<li><a class="reference internal" href="#rectangularprismmodel">RectangularPrismModel</a></li>
<li><a class="reference internal" href="#rectangularhollowprismmodel">RectangularHollowPrismModel</a></li>
<li><a class="reference internal" href="#rectangularhollowprisminfthinwallsmodel">RectangularHollowPrismInfThinWallsModel</a></li>
</ul>
</div>
<div class="section" id="shape-independent-functions">
<span id="shape-independent"></span><h2>2.2 Shape-Independent Functions</h2>
<p>(In alphabetical order)</p>
<ul class="simple">
<li><a class="reference internal" href="#absolutepower-law">AbsolutePower_Law</a></li>
<li><a class="reference internal" href="#bepolyelectrolyte">BEPolyelectrolyte</a></li>
<li><a class="reference internal" href="#broadpeakmodel">BroadPeakModel</a></li>
<li><a class="reference internal" href="#corrlength">CorrLength</a></li>
<li><a class="reference internal" href="#dabmodel">DABModel</a></li>
<li><a class="reference internal" href="#debye">Debye</a></li>
<li><a class="reference internal" href="#fractalmodel">FractalModel</a></li>
<li><a class="reference internal" href="#fractalcoreshell">FractalCoreShell</a></li>
<li><a class="reference internal" href="#gausslorentzgel">GaussLorentzGel</a></li>
<li><a class="reference internal" href="#gelfitmodel">GelFitModel</a></li>
<li><a class="reference internal" href="#guinier">Guinier</a></li>
<li><a class="reference internal" href="#guinierporod">GuinierPorod</a></li>
<li><a class="reference internal" href="#linemodel">LineModel</a></li>
<li><a class="reference internal" href="#lorentz">Lorentz</a></li>
<li><a class="reference internal" href="#massfractalmodel">MassFractalModel</a></li>
<li><a class="reference internal" href="#masssurfacefractal">MassSurfaceFractal</a></li>
<li><a class="reference internal" href="#peakgaussmodel">PeakGaussModel</a></li>
<li><a class="reference internal" href="#peaklorentzmodel">PeakLorentzModel</a></li>
<li><a class="reference internal" href="#poly-gausscoil">Poly_GaussCoil</a></li>
<li><a class="reference internal" href="#polyexclvolume">PolyExclVolume</a></li>
<li><a class="reference internal" href="#porodmodel">PorodModel</a></li>
<li><a class="reference internal" href="#rpa10model">RPA10Model</a></li>
<li><a class="reference internal" href="#starpolymer">StarPolymer</a></li>
<li><a class="reference internal" href="#surfacefractalmodel">SurfaceFractalModel</a></li>
<li><a class="reference internal" href="#teubnerstrey">TeubnerStrey</a></li>
<li><a class="reference internal" href="#twolorentzian">TwoLorentzian</a></li>
<li><a class="reference internal" href="#twopowerlaw">TwoPowerLaw</a></li>
<li><a class="reference internal" href="#unifiedpowerrg">UnifiedPowerRg</a></li>
<li><a class="reference internal" href="#reflectivitymodel">ReflectivityModel</a></li>
<li><a class="reference internal" href="#reflectivityiimodel">ReflectivityIIModel</a></li>
</ul>
</div>
<div class="section" id="structure-factor-functions">
<span id="structure-factor"></span><h2>2.3 Structure Factor Functions</h2>
<ul class="simple">
<li><a class="reference internal" href="#hardspherestructure">HardSphereStructure</a></li>
<li><a class="reference internal" href="#squarewellstructure">SquareWellStructure</a></li>
<li><a class="reference internal" href="#haytermsastructure">HayterMSAStructure</a></li>
<li><a class="reference internal" href="#stickyhsstructure">StickyHSStructure</a></li>
</ul>
</div>
<div class="section" id="customized-functions">
<span id="customised"></span><h2>2.4 Customized Functions</h2>
<ul class="simple">
<li><a class="reference internal" href="#testmodel">testmodel</a></li>
<li><a class="reference internal" href="#testmodel-2">testmodel_2</a></li>
<li><a class="reference internal" href="#sum-p1-p2">sum_p1_p2</a></li>
<li><a class="reference internal" href="#sum-ap1-1-ap2">sum_Ap1_1_Ap2</a></li>
<li><a class="reference internal" href="#polynomial5">polynomial5</a></li>
<li><a class="reference internal" href="#sph-bessel-jn">sph_bessel_jn</a></li>
</ul>
<p>Also see the documentation on <a class="reference internal" href="../perspectives/fitting/fitting_help.html#adding-your-own-models"><span>Adding your own models</span></a> under Fitting Data.</p>
</div>
<div class="section" id="references">
<span id="id3"></span><h2>3. References</h2>
<p><em>Small-Angle Scattering of X-Rays</em>
A Guinier and G Fournet
John Wiley &amp; Sons, New York (1955)</p>
<p>P Stckel, R May, I Strell, Z Cejka, W Hoppe, H Heumann, W Zillig and H Crespi
<em>Eur. J. Biochem.</em>, 112, (1980), 411-417</p>
<p>G Porod
in <em>Small Angle X-ray Scattering</em>
(editors) O Glatter and O Kratky
Academic Press (1982)</p>
<p><em>Structure Analysis by Small-Angle X-Ray and Neutron Scattering</em>
L.A Feigin and D I Svergun
Plenum Press, New York (1987)</p>
<p>S Hansen
<em>J. Appl. Cryst.</em> 23, (1990), 344-346</p>
<p>S J Henderson
<em>Biophys. J.</em> 70, (1996), 1618-1627</p>
<p>B C McAlister and B P Grady
<em>J. Appl. Cryst.</em> 31, (1998), 594-599</p>
<p>S R Kline
<em>J Appl. Cryst.</em> 39(6), (2006), 895</p>
<p><strong>Also see the references at the end of the each model function descriptions.</strong></p>
</div>
<div class="section" id="model-definitions">
<h2>Model Definitions</h2>
<p id="spheremodel"><strong>2.1.1. SphereModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a monodisperse spherical particle with uniform scattering length
density. The form factor is normalized by the particle volume as described below.</p>
<p>For information about polarised and magnetic scattering, click <a class="reference external" href="polar_mag_help.html">here</a>.</p>
<p><em>2.1.1.1. Definition</em></p>
<p>The 1D scattering intensity is calculated in the following way (Guinier, 1955)</p>
<img alt="../../_images/image004.PNG" src="../../_images/image004.PNG" />
<p>where <em>scale</em> is a volume fraction, <em>V</em> is the volume of the scatterer, <em>r</em> is the radius of the sphere, <em>bkg</em> is
the background level and <em>sldXXX</em> is the scattering length density (SLD) of the scatterer or the solvent.</p>
<p>Note that if your data is in absolute scale, the <em>scale</em> should represent the volume fraction (which is unitless) if
you have a good fit. If not, it should represent the volume fraction * a factor (by which your data might need to be
rescaled).</p>
<p>The 2D scattering intensity is the same as above, regardless of the orientation of the q vector.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the SphereModel are the following:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>60</td>
</tr>
<tr class="row-even"><td>sldSph</td>
<td>Å<sup>-2</sup></td>
<td>2.0e-6</td>
</tr>
<tr class="row-odd"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>1.0e-6</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron
Research (Kline, 2006).</p>
<p>REFERENCE</p>
<p>A Guinier and G. Fournet, <em>Small-Angle Scattering of X-Rays</em>, John Wiley and Sons, New York, (1955)</p>
<p><em>2.1.1.2. Validation of the SphereModel</em></p>
<p>Validation of our code was done by comparing the output of the 1D model to the output of the software provided by the
NIST (Kline, 2006). Figure 1 shows a comparison of the output of our model and the output of the NIST software.</p>
<img alt="../../_images/image005.jpg" src="../../_images/image005.jpg" />
<p>Figure 1: Comparison of the DANSE scattering intensity for a sphere with the output of the NIST SANS analysis software.
The parameters were set to: Scale=1.0, Radius=60 Å, Contrast=1e-6 Å<sup>-2</sup>, and Background=0.01 cm<sup>-1</sup>.</p>
<p><em>2013/09/09 and 2014/01/06 - Description reviewed by S King and P Parker.</em></p>
<p id="binaryhsmodel"><strong>2.1.2. BinaryHSModel</strong></p>
<p><em>2.1.2.1. Definition</em></p>
<p>This model (binary hard sphere model) provides the scattering intensity, for binary mixture of spheres including hard
sphere interaction between those particles. Using Percus-Yevick closure, the calculation is an exact multi-component
solution</p>
<img alt="../../_images/image006.PNG" src="../../_images/image006.PNG" />
<p>where <em>Sij</em> are the partial structure factors and <em>fi</em> are the scattering amplitudes of the particles. The subscript 1
is for the smaller particle and 2 is for the larger. The number fraction of the larger particle, (<em>x</em> = n2/(n1+n2),
where <em>n</em> = the number density) is internally calculated based on</p>
<img alt="../../_images/image007.PNG" src="../../_images/image007.PNG" />
<p>The 2D scattering intensity is the same as 1D, regardless of the orientation of the <em>q</em> vector which is defined as</p>
<img alt="../../_images/image008.PNG" src="../../_images/image008.PNG" />
<p>The parameters of the BinaryHSModel are the following (in the names, <em>l</em> (or <em>ls</em>) stands for larger spheres
while <em>s</em> (or <em>ss</em>) for the smaller spheres).</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.001</td>
</tr>
<tr class="row-odd"><td>l_radius</td>
<td>Å</td>
<td>100.0</td>
</tr>
<tr class="row-even"><td>ss_sld</td>
<td>Å<sup>-2</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>ls_sld</td>
<td>Å<sup>-2</sup></td>
<td>3e-6</td>
</tr>
<tr class="row-even"><td>solvent_sld</td>
<td>Å<sup>-2</sup></td>
<td>6e-6</td>
</tr>
<tr class="row-odd"><td>s_radius</td>
<td>Å</td>
<td>25.0</td>
</tr>
<tr class="row-even"><td>vol_frac_ls</td>
<td>None</td>
<td>0.1</td>
</tr>
<tr class="row-odd"><td>vol_frac_ss</td>
<td>None</td>
<td>0.2</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image009.jpg" src="../../_images/image009.jpg" />
<p><em>Figure. 1D plot using the default values above (w/200 data point).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron
Research (Kline, 2006).</p>
<p>See the reference for details.</p>
<p>REFERENCE</p>
<p>N W Ashcroft and D C Langreth, <em>Physical Review</em>, 156 (1967) 685-692
[Errata found in <em>Phys. Rev.</em> 166 (1968) 934]</p>
<p id="fuzzyspheremodel"><strong>2.1.3. FuzzySphereModel</strong></p>
<p>This model is to calculate the scattering from spherical particles with a &#8220;fuzzy&#8221; interface.</p>
<p><em>2.1.3.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as:</p>
<img alt="../../_images/image010.PNG" src="../../_images/image010.PNG" />
<p>where the amplitude <em>A(q)</em> is given as the typical sphere scattering convoluted with a Gaussian to get a gradual
drop-off in the scattering length density</p>
<img alt="../../_images/image011.PNG" src="../../_images/image011.PNG" />
<p>Here A<sub>2</sub><em>(q)</em> is the form factor, <em>P(q)</em>. The scale is equivalent to the volume fraction of spheres, each of
volume, <em>V</em>. Contrast (Δρ) is the difference of scattering length densities of the sphere and the surrounding
solvent.</p>
<p>Poly-dispersion in radius and in fuzziness is provided for.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>sr<sup>-1</sup>; ie, absolute scale.</p>
<p>From the reference</p>
<blockquote>
<div>The &#8220;fuzziness&#8221; of the interface is defined by the parameter σ <sub>fuzzy</sub>. The particle radius <em>R</em>
represents the radius of the particle where the scattering length density profile decreased to 1/2 of the core
density. The σ <sub>fuzzy</sub>is the width of the smeared particle surface; i.e., the standard deviation
from the average height of the fuzzy interface. The inner regions of the microgel that display a higher density
are described by the radial box profile extending to a radius of approximately <em>Rbox</em> ~ <em>R</em> - 2σ. The
profile approaches zero as <em>Rsans</em> ~ <em>R</em> + 2σ.</div></blockquote>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image008.PNG" src="../../_images/image008.PNG" />
<p>This example dataset is produced by running the FuzzySphereModel, using 200 data points, <em>qmin</em> = 0.001 -1,
<em>qmax</em> = 0.7 Å<sup>-1</sup> and the default values</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>60</td>
</tr>
<tr class="row-even"><td>fuzziness</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>3e-6</td>
</tr>
<tr class="row-even"><td>sldSph</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.001</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image012.jpg" src="../../_images/image012.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>REFERENCE</p>
<p>M Stieger, J. S Pedersen, P Lindner, W Richtering, <em>Langmuir</em>, 20 (2004) 7283-7292</p>
<p id="raspberrymodel"><strong>2.1.4. RaspBerryModel</strong></p>
<p>Calculates the form factor, <em>P(q)</em>, for a &#8220;Raspberry-like&#8221; structure where there are smaller spheres at the surface
of a larger sphere, such as the structure of a Pickering emulsion.</p>
<p><em>2.1.4.1. Definition</em></p>
<p>The structure is:</p>
<img alt="../../_images/raspberry_pic.jpg" src="../../_images/raspberry_pic.jpg" />
<p>where <em>Ro</em> = the radius of the large sphere, <em>Rp</em> = the radius of the smaller sphere on the surface, δ = the
fractional penetration depth, and surface coverage = fractional coverage of the large sphere surface (0.9 max).</p>
<p>The large and small spheres have their own SLD, as well as the solvent. The surface coverage term is a fractional
coverage (maximum of approximately 0.9 for hexagonally-packed spheres on a surface). Since not all of the small
spheres are necessarily attached to the surface, the excess free (small) spheres scattering is also included in the
calculation. The function calculated follows equations (8)-(12) of the reference below, and the equations are not
reproduced here.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>. No inter-particle scattering is included in this model.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image008.PNG" src="../../_images/image008.PNG" />
<p>This example dataset is produced by running the RaspBerryModel, using 2000 data points, <em>qmin</em> = 0.0001 Å<sup>-1</sup>,
<em>qmax</em> = 0.2 Å<sup>-1</sup> and the default values below, where <em>Ssph/Lsph</em> stands for smaller or larger sphere, respectively,
and <em>surfrac_Ssph</em> is the surface fraction of the smaller spheres.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>delta_Ssph</td>
<td>None</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>radius_Lsph</td>
<td>Å</td>
<td>5000</td>
</tr>
<tr class="row-even"><td>radius_Ssph</td>
<td>Å</td>
<td>100</td>
</tr>
<tr class="row-odd"><td>sld_Lsph</td>
<td>Å<sup>-2</sup></td>
<td>-4e-07</td>
</tr>
<tr class="row-even"><td>sld_Ssph</td>
<td>Å<sup>-2</sup></td>
<td>3.5e-6</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-even"><td>surfrac_Ssph</td>
<td>None</td>
<td>0.4</td>
</tr>
<tr class="row-odd"><td>volf_Lsph</td>
<td>None</td>
<td>0.05</td>
</tr>
<tr class="row-even"><td>volf_Lsph</td>
<td>None</td>
<td>0.005</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/raspberry_plot.jpg" src="../../_images/raspberry_plot.jpg" />
<p><em>Figure. 1D plot using the values of /2000 data points.</em></p>
<p>REFERENCE</p>
<p>K Larson-Smith, A Jackson, and D C Pozzo, <em>Small angle scattering model for Pickering emulsions and raspberry</em>
<em>particles</em>, <em>Journal of Colloid and Interface Science</em>, 343(1) (2010) 36-41</p>
<p id="coreshellmodel"><strong>2.1.5. CoreShellModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a spherical particle with a core-shell structure. The form factor is
normalized by the particle volume.</p>
<p>For information about polarised and magnetic scattering, click <a class="reference external" href="polar_mag_help.html">here</a>.</p>
<p><em>2.1.5.1. Definition</em></p>
<p>The 1D scattering intensity is calculated in the following way (Guinier, 1955)</p>
<img alt="../../_images/image013.PNG" src="../../_images/image013.PNG" />
<p>where <em>scale</em> is a scale factor, <em>Vs</em> is the volume of the outer shell, <em>Vc</em> is the volume of the core, <em>rs</em> is the
radius of the shell, <em>rc</em> is the radius of the core, <em>c</em> is the scattering length density of the core, <em>s</em> is the
scattering length density of the shell, <em>solv</em> is the scattering length density of the solvent, and <em>bkg</em> is the
background level.</p>
<p>The 2D scattering intensity is the same as <em>P(q)</em> above, regardless of the orientation of the <em>q</em> vector.</p>
<p>NB: The outer most radius (ie, = <em>radius</em> + <em>thickness</em>) is used as the effective radius for <em>S(Q)</em> when
<em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the CoreShellModel are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>(core) radius</td>
<td>Å</td>
<td>60</td>
</tr>
<tr class="row-even"><td>thickness</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>core_sld</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-even"><td>shell_sld</td>
<td>Å<sup>-2</sup></td>
<td>2e-6</td>
</tr>
<tr class="row-odd"><td>solvent_sld</td>
<td>Å<sup>-2</sup></td>
<td>3e-6</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.001</td>
</tr>
</tbody>
</table>
<p>Here, <em>radius</em> = the radius of the core and <em>thickness</em> = the thickness of the shell.</p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron
Research (Kline, 2006).</p>
<p>REFERENCE</p>
<p>A Guinier and G Fournet, <em>Small-Angle Scattering of X-Rays</em>, John Wiley and Sons, New York, (1955)</p>
<p><em>2.1.5.2. Validation of the core-shell sphere model</em></p>
<p>Validation of our code was done by comparing the output of the 1D model to the output of the software provided by
NIST (Kline, 2006). Figure 1 shows a comparison of the output of our model and the output of the NIST software.</p>
<img alt="../../_images/image014.jpg" src="../../_images/image014.jpg" />
<p>Figure 1: Comparison of the SasView scattering intensity for a core-shell sphere with the output of the NIST SANS
analysis software. The parameters were set to: <em>Scale</em> = 1.0, <em>Radius</em> = 60 , <em>Contrast</em> = 1e-6 Å<sup>-2</sup>, and
<em>Background</em> = 0.001 cm<sup>-1</sup>.</p>
<p id="coremultishellmodel"><strong>2.1.6. CoreMultiShellModel</strong></p>
<p>This model provides the scattering from a spherical core with 1 to 4 concentric shell structures. The SLDs of the core
and each shell are individually specified.</p>
<p>For information about polarised and magnetic scattering, click <a class="reference external" href="polar_mag_help.html">here</a>.</p>
<p><em>2.1.6.1. Definition</em></p>
<p>This model is a trivial extension of the CoreShell function to a larger number of shells. See the CoreShell function
for a diagram and documentation.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>sr<sup>-1</sup>, absolute scale.</p>
<p>Be careful! The SLDs and scale can be highly correlated. Hold as many of these parameters fixed as possible.</p>
<p>The 2D scattering intensity is the same as P(q) of 1D, regardless of the orientation of the q vector.</p>
<p>NB: The outer most radius (ie, = <em>radius</em> + 4 <em>thicknesses</em>) is used as the effective radius for <em>S(Q)</em> when
<em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the CoreMultiShell model are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>rad_core</td>
<td>Å</td>
<td>60</td>
</tr>
<tr class="row-even"><td>sld_core</td>
<td>Å<sup>-2</sup></td>
<td>6.4e-6</td>
</tr>
<tr class="row-odd"><td>sld_shell1</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-even"><td>sld_shell2</td>
<td>Å<sup>-2</sup></td>
<td>2e-6</td>
</tr>
<tr class="row-odd"><td>sld_shell3</td>
<td>Å<sup>-2</sup></td>
<td>3e-6</td>
</tr>
<tr class="row-even"><td>sld_shell4</td>
<td>Å<sup>-2</sup></td>
<td>4e-6</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>6.4e-6</td>
</tr>
<tr class="row-even"><td>thick_shell1</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>thick_shell2</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-even"><td>thick_shell3</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>thick_shell4</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.001</td>
</tr>
</tbody>
</table>
<p>NB: Here, <em>rad_core</em> = the radius of the core, <em>thick_shelli</em> = the thickness of the shell <em>i</em> and
<em>sld_shelli</em> = the SLD of the shell <em>i</em>. <em>sld_core</em> and the <em>sld_solv</em> are the SLD of the core and the solvent,
respectively.</p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron
Research (Kline, 2006).</p>
<p>This example dataset is produced by running the CoreMultiShellModel using 200 data points, <em>qmin</em> = 0.001 -1,
<em>qmax</em> = 0.7 -1 and the above default values.</p>
<img alt="../../_images/image015.jpg" src="../../_images/image015.jpg" />
<p><em>Figure: 1D plot using the default values (w/200 data point).</em></p>
<p>The scattering length density profile for the default sld values (w/ 4 shells).</p>
<img alt="../../_images/image016.jpg" src="../../_images/image016.jpg" />
<p><em>Figure: SLD profile against the radius of the sphere for default SLDs.</em></p>
<p>REFERENCE</p>
<p>See the <a class="reference internal" href="#coreshellmodel">CoreShellModel</a> documentation.</p>
<p id="core2ndmomentmodel"><strong>2.1.7. Core2ndMomentModel</strong></p>
<p>This model describes the scattering from a layer of surfactant or polymer adsorbed on spherical particles under the
conditions that (i) the particles (cores) are contrast-matched to the dispersion medium, (ii) <em>S(Q)</em> ~ 1 (ie, the
particle volume fraction is dilute), (iii) the particle radius is &gt;&gt; layer thickness (ie, the interface is locally
flat), and (iv) scattering from excess unadsorbed adsorbate in the bulk medium is absent or has been corrected for.</p>
<p>Unlike a core-shell model, this model does not assume any form for the density distribution of the adsorbed species
normal to the interface (cf, a core-shell model which assumes the density distribution to be a homogeneous
step-function). For comparison, if the thickness of a (core-shell like) step function distribution is <em>t</em>, the second
moment, σ = sqrt((<em>t</em> <sup>2</sup> )/12). The σ is the second moment about the mean of the density distribution
(ie, the distance of the centre-of-mass of the distribution from the interface).</p>
<p><em>2.1.7.1. Definition</em></p>
<p>The <em>I</em> <sub>0</sub> is calculated in the following way (King, 2002)</p>
<img alt="../../_images/secondmeq1.jpg" src="../../_images/secondmeq1.jpg" />
<p>where <em>scale</em> is a scale factor, <em>poly</em> is the sld of the polymer (or surfactant) layer, <em>solv</em> is the sld of the
solvent/medium and cores, φ<sub>cores</sub> is the volume fraction of the core paraticles, and Γ and
δ are the adsorbed amount and the bulk density of the polymers respectively. The σ is the second moment
of the thickness distribution.</p>
<p>Note that all parameters except the σ are correlated for fitting so that fitting those with more than one
parameter will generally fail. Also note that unlike other shape models, no volume normalization is applied to this
model (the calculation is exact).</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>density_poly</td>
<td>g/cm2</td>
<td>0.7</td>
</tr>
<tr class="row-even"><td>radius_core</td>
<td>Å</td>
<td>500</td>
</tr>
<tr class="row-odd"><td>ads_amount</td>
<td>mg/m 2</td>
<td>1.9</td>
</tr>
<tr class="row-even"><td>second_moment</td>
<td>Å</td>
<td>23.0</td>
</tr>
<tr class="row-odd"><td>volf_cores</td>
<td>None</td>
<td>0.14</td>
</tr>
<tr class="row-even"><td>sld_poly</td>
<td>Å<sup>-2</sup></td>
<td>1.5e-6</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/secongm_fig1.jpg" src="../../_images/secongm_fig1.jpg" />
<p>REFERENCE</p>
<p>S King, P Griffiths, J. Hone, and T Cosgrove, <em>SANS from Adsorbed Polymer Layers</em>,
<em>Macromol. Symp.</em>, 190 (2002) 33-42</p>
<p id="multishellmodel"><strong>2.1.8. MultiShellModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a multi-lamellar vesicle with <em>N</em> shells where the core is filled with
solvent and the shells are interleaved with layers of solvent. For <em>N</em> = 1, this returns the VesicleModel (above).</p>
<img alt="../../_images/image020.jpg" src="../../_images/image020.jpg" />
<p>The 2D scattering intensity is the same as 1D, regardless of the orientation of the <em>q</em> vector which is defined as</p>
<img alt="../../_images/image008.PNG" src="../../_images/image008.PNG" />
<p>NB: The outer most radius (= <em>core_radius</em> + <em>n_pairs</em> * <em>s_thickness</em> + (<em>n_pairs</em> - 1) * <em>w_thickness</em>) is used
as the effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the MultiShellModel are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>core_radius</td>
<td>Å</td>
<td>60.0</td>
</tr>
<tr class="row-even"><td>n_pairs</td>
<td>None</td>
<td>2.0</td>
</tr>
<tr class="row-odd"><td>core_sld</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-even"><td>shell_sld</td>
<td>Å<sup>-2</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-even"><td>s_thickness</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>w_thickness</td>
<td>Å</td>
<td>10</td>
</tr>
</tbody>
</table>
<p>NB: <em>s_thickness</em> is the shell thickness while the <em>w_thickness</em> is the solvent thickness, and <em>n_pair</em>
is the number of shells.</p>
<img alt="../../_images/image021.jpg" src="../../_images/image021.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron
Research (Kline, 2006).</p>
<p>REFERENCE</p>
<p>B Cabane, <em>Small Angle Scattering Methods</em>, in <em>Surfactant Solutions: New Methods of Investigation</em>, Ch.2,
Surfactant Science Series Vol. 22, Ed. R Zana and M Dekker, New York, (1987).</p>
<p id="onionexpshellmodel"><strong>2.1.9. OnionExpShellModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a multi-shell sphere where the scattering length density (SLD) of the
each shell is described by an exponential (linear, or flat-top) function. The form factor is normalized by the volume
of the sphere where the SLD is not identical to the SLD of the solvent. We currently provide up to 9 shells with this
model.</p>
<p><em>2.1.9.1. Definition</em></p>
<p>The 1D scattering intensity is calculated in the following way</p>
<img alt="../../_images/image022.gif" src="../../_images/image022.gif" />
<img alt="../../_images/image023.gif" src="../../_images/image023.gif" />
<p>where, for a spherically symmetric particle with a particle density ρ<em>(r)</em></p>
<img alt="../../_images/image024.gif" src="../../_images/image024.gif" />
<p>so that</p>
<img alt="../../_images/image025.gif" src="../../_images/image025.gif" />
<img alt="../../_images/image026.gif" src="../../_images/image026.gif" />
<img alt="../../_images/image027.gif" src="../../_images/image027.gif" />
<p>Here we assumed that the SLDs of the core and solvent are constant against <em>r</em>.</p>
<p>Now lets consider the SLD of a shell, <em>r</em><sub>shelli</sub>, defined by</p>
<img alt="../../_images/image028.gif" src="../../_images/image028.gif" />
<p>An example of a possible SLD profile is shown below where <em>sld_in_shelli</em> (ρ<sub>in</sub>) and
<em>thick_shelli</em> (Δ<em>t</em> <sub>shelli</sub>) stand for the SLD of the inner side of the <em>i</em>th shell and the
thickness of the <em>i</em>th shell in the equation above, respectively.</p>
<p>For | <em>A</em> | &gt; 0,</p>
<img alt="../../_images/image029.gif" src="../../_images/image029.gif" />
<p>For <em>A</em> ~ 0 (eg., <em>A</em> = -0.0001), this function converges to that of the linear SLD profile (ie,
ρ<sub>shelli</sub><em>(r)</em> = <em>A</em><sup>&#8216;</sup> ( <em>r</em> - <em>r</em><sub>shelli</sub> - 1) / Δ<em>t</em> <sub>shelli</sub>) + <em>B</em><sup>&#8216;</sup>),
so this case is equivalent to</p>
<img alt="../../_images/image030.gif" src="../../_images/image030.gif" />
<img alt="../../_images/image031.gif" src="../../_images/image031.gif" />
<img alt="../../_images/image032.gif" src="../../_images/image032.gif" />
<img alt="../../_images/image033.gif" src="../../_images/image033.gif" />
<p>For <em>A</em> = 0, the exponential function has no dependence on the radius (so that <em>sld_out_shell</em> (ρ<sub>out</sub>) is
ignored this case) and becomes flat. We set the constant to ρ<sub>in</sub> for convenience, and thus the form
factor contributed by the shells is</p>
<img alt="../../_images/image034.gif" src="../../_images/image034.gif" />
<img alt="../../_images/image035.gif" src="../../_images/image035.gif" />
<p>In the equation</p>
<img alt="../../_images/image036.gif" src="../../_images/image036.gif" />
<p>Finally, the form factor can be calculated by</p>
<img alt="../../_images/image037.gif" src="../../_images/image037.gif" />
<p>where</p>
<img alt="../../_images/image038.gif" src="../../_images/image038.gif" />
<p>and</p>
<img alt="../../_images/image039.gif" src="../../_images/image039.gif" />
<p>The 2D scattering intensity is the same as <em>P(q)</em> above, regardless of the orientation of the <em>q</em> vector which is
defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<p>NB: The outer most radius is used as the effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of this model (for only one shell) are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>A_shell1</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-even"><td>rad_core</td>
<td>Å</td>
<td>200</td>
</tr>
<tr class="row-odd"><td>thick_shell1</td>
<td>Å</td>
<td>50</td>
</tr>
<tr class="row-even"><td>sld_core</td>
<td>Å<sup>-2</sup></td>
<td>1.0e-06</td>
</tr>
<tr class="row-odd"><td>sld_in_shell1</td>
<td>Å<sup>-2</sup></td>
<td>1.7e-06</td>
</tr>
<tr class="row-even"><td>sld_out_shell1</td>
<td>Å<sup>-2</sup></td>
<td>2.0e-06</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>6.4e-06</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<p>NB: <em>rad_core</em> represents the core radius (<em>R1</em>) and <em>thick_shell1</em> (<em>R2</em> - <em>R1</em>) is the thickness of the shell1, etc.</p>
<img alt="../../_images/image041.jpg" src="../../_images/image041.jpg" />
<p><em>Figure. 1D plot using the default values (w/400 point).</em></p>
<img alt="../../_images/image042.jpg" src="../../_images/image042.jpg" />
<p><em>Figure. SLD profile from the default values.</em></p>
<p>REFERENCE</p>
<p>L A Feigin and D I Svergun, <em>Structure Analysis by Small-Angle X-Ray and Neutron Scattering</em>,
Plenum Press, New York, (1987).</p>
<p id="vesiclemodel"><strong>2.1.10. VesicleModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for an unilamellar vesicle. The form factor is normalized by the volume
of the shell.</p>
<p><em>2.1.10.1. Definition</em></p>
<p>The 1D scattering intensity is calculated in the following way (Guinier, 1955)</p>
<img alt="../../_images/image017.PNG" src="../../_images/image017.PNG" />
<p>where <em>scale</em> is a scale factor, <em>Vshell</em> is the volume of the shell, <em>V1</em> is the volume of the core, <em>V2</em> is the total
volume, <em>R1</em> is the radius of the core, <em>R2</em> is the outer radius of the shell, ρ<sub>1</sub> is the scattering
length density of the core and the solvent, ρ<sub>2</sub> is the scattering length density of the shell, <em>bkg</em> is
the background level, and <em>J1</em> = (sin<em>x</em>- <em>x</em> cos<em>x</em>)/ <em>x</em> <sup>2</sup>. The functional form is identical to a
&#8220;typical&#8221; core-shell structure, except that the scattering is normalized by the volume that is contributing to the
scattering, namely the volume of the shell alone. Also, the vesicle is best defined in terms of a core radius (= <em>R1</em>)
and a shell thickness, <em>t</em>.</p>
<img alt="../../_images/image018.jpg" src="../../_images/image018.jpg" />
<p>The 2D scattering intensity is the same as <em>P(q)</em> above, regardless of the orientation of the <em>q</em> vector which is
defined as</p>
<img alt="../../_images/image008.PNG" src="../../_images/image008.PNG" />
<p>NB: The outer most radius (= <em>radius</em> + <em>thickness</em>) is used as the effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em>
is applied.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the VesicleModel are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>100</td>
</tr>
<tr class="row-even"><td>thickness</td>
<td>Å</td>
<td>30</td>
</tr>
<tr class="row-odd"><td>core_sld</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-even"><td>shell_sld</td>
<td>Å<sup>-2</sup></td>
<td>0</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<p>NB: <em>radius</em> represents the core radius (<em>R1</em>) and the <em>thickness</em> (<em>R2</em> - <em>R1</em>) is the shell thickness.</p>
<img alt="../../_images/image019.jpg" src="../../_images/image019.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library
provided by the NIST Center for Neutron Research (Kline, 2006).</p>
<p>REFERENCE</p>
<p>A Guinier and G. Fournet, <em>Small-Angle Scattering of X-Rays</em>, John Wiley and Sons, New York, (1955)</p>
<p id="sphericalsldmodel"><strong>2.1.11. SphericalSLDModel</strong></p>
<p>Similarly to the OnionExpShellModel, this model provides the form factor, <em>P(q)</em>, for a multi-shell sphere, where the
interface between the each neighboring shells can be described by one of a number of functions including error,
power-law, and exponential functions. This model is to calculate the scattering intensity by building a continuous
custom SLD profile against the radius of the particle. The SLD profile is composed of a flat core, a flat solvent,
a number (up to 9 ) flat shells, and the interfacial layers between the adjacent flat shells (or core, and solvent)
(see below). Unlike the OnionExpShellModel (using an analytical integration), the interfacial layers here are
sub-divided and numerically integrated assuming each of the sub-layers are described by a line function. The number
of the sub-layer can be given by users by setting the integer values of <em>npts_inter</em> in the GUI. The form factor is
normalized by the total volume of the sphere.</p>
<p><em>2.1.11.1. Definition</em></p>
<p>The 1D scattering intensity is calculated in the following way:</p>
<img alt="../../_images/image022.gif" src="../../_images/image022.gif" />
<img alt="../../_images/image043.gif" src="../../_images/image043.gif" />
<p>where, for a spherically symmetric particle with a particle density ρ<em>(r)</em></p>
<img alt="../../_images/image024.gif" src="../../_images/image024.gif" />
<p>so that</p>
<img alt="../../_images/image044.gif" src="../../_images/image044.gif" />
<img alt="../../_images/image045.gif" src="../../_images/image045.gif" />
<img alt="../../_images/image046.gif" src="../../_images/image046.gif" />
<img alt="../../_images/image047.gif" src="../../_images/image047.gif" />
<img alt="../../_images/image048.gif" src="../../_images/image048.gif" />
<img alt="../../_images/image027.gif" src="../../_images/image027.gif" />
<p>Here we assumed that the SLDs of the core and solvent are constant against <em>r</em>. The SLD at the interface between
shells, ρ<sub>inter_i</sub>, is calculated with a function chosen by an user, where the functions are</p>
<ol class="arabic simple">
<li>Exp</li>
</ol>
<img alt="../../_images/image049.gif" src="../../_images/image049.gif" />
<ol class="arabic simple" start="2">
<li>Power-Law</li>
</ol>
<img alt="../../_images/image050.gif" src="../../_images/image050.gif" />
<ol class="arabic simple" start="3">
<li>Erf</li>
</ol>
<img alt="../../_images/image051.gif" src="../../_images/image051.gif" />
<p>The functions are normalized so that they vary between 0 and 1, and they are constrained such that the SLD is
continuous at the boundaries of the interface as well as each sub-layers. Thus <em>B</em> and <em>C</em> are determined.</p>
<p>Once ρ<sub>rinter_i</sub> is found at the boundary of the sub-layer of the interface, we can find its contribution
to the form factor <em>P(q)</em></p>
<img alt="../../_images/image052.gif" src="../../_images/image052.gif" />
<img alt="../../_images/image053.gif" src="../../_images/image053.gif" />
<img alt="../../_images/image054.gif" src="../../_images/image054.gif" />
<p>where we assume that ρ<sub>inter_i</sub><em>(r)</em> can be approximately linear within a sub-layer <em>j</em>.</p>
<p>In the equation</p>
<img alt="../../_images/image055.gif" src="../../_images/image055.gif" />
<p>Finally, the form factor can be calculated by</p>
<img alt="../../_images/image037.gif" src="../../_images/image037.gif" />
<p>where</p>
<img alt="../../_images/image038.gif" src="../../_images/image038.gif" />
<p>and</p>
<img alt="../../_images/image056.gif" src="../../_images/image056.gif" />
<p>The 2D scattering intensity is the same as <em>P(q)</em> above, regardless of the orientation of the <em>q</em> vector which is
defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<p>NB: The outer most radius is used as the effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of this model (for just one shell) are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>npts_inter</td>
<td>None</td>
<td>35</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>1e-006</td>
</tr>
<tr class="row-even"><td>func_inter1</td>
<td>None</td>
<td>Erf</td>
</tr>
<tr class="row-odd"><td>nu_inter</td>
<td>None</td>
<td>2.5</td>
</tr>
<tr class="row-even"><td>thick_inter1</td>
<td>Å</td>
<td>50</td>
</tr>
<tr class="row-odd"><td>sld_flat1</td>
<td>Å<sup>-2</sup></td>
<td>4e-006</td>
</tr>
<tr class="row-even"><td>thick_flat1</td>
<td>Å</td>
<td>100</td>
</tr>
<tr class="row-odd"><td>func_inter0</td>
<td>None</td>
<td>Erf</td>
</tr>
<tr class="row-even"><td>nu_inter0</td>
<td>None</td>
<td>2.5</td>
</tr>
<tr class="row-odd"><td>rad_core0</td>
<td>Å</td>
<td>50</td>
</tr>
<tr class="row-even"><td>sld_core0</td>
<td>Å<sup>-2</sup></td>
<td>2.07e-06</td>
</tr>
<tr class="row-odd"><td>thick_core0</td>
<td>Å</td>
<td>50</td>
</tr>
</tbody>
</table>
<p>NB: <em>rad_core0</em> represents the core radius (<em>R1</em>).</p>
<img alt="../../_images/image057.jpg" src="../../_images/image057.jpg" />
<p><em>Figure. 1D plot using the default values (w/400 point).</em></p>
<img alt="../../_images/image058.jpg" src="../../_images/image058.jpg" />
<p><em>Figure. SLD profile from the default values.</em></p>
<p>REFERENCE</p>
<p>L A Feigin and D I Svergun, <em>Structure Analysis by Small-Angle X-Ray and Neutron Scattering</em>,
Plenum Press, New York, (1987)</p>
<p id="linearpearlsmodel"><strong>2.1.12. LinearPearlsModel</strong></p>
<p>This model provides the form factor for <em>N</em> spherical pearls of radius <em>R</em> linearly joined by short strings (or segment
length or edge separation) <em>l</em> (= <em>A</em> - 2<em>R</em>)). <em>A</em> is the center-to-center pearl separation distance. The thickness
of each string is assumed to be negligible.</p>
<img alt="../../_images/linearpearls.jpg" src="../../_images/linearpearls.jpg" />
<p><em>2.1.12.1. Definition</em></p>
<p>The output of the scattering intensity function for the LinearPearlsModel is given by (Dobrynin, 1996)</p>
<img alt="../../_images/linearpearl_eq1.gif" src="../../_images/linearpearl_eq1.gif" />
<p>where the mass <em>m</em><sub>p</sub> is (SLD<sub>pearl</sub> - SLD<sub>solvent</sub>) * (volume of <em>N</em> pearls). V is the total
volume.</p>
<p>The 2D scattering intensity is the same as <em>P(q)</em> above, regardless of the orientation of the <em>q</em> vector.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the LinearPearlsModel are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="22%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>80.0</td>
</tr>
<tr class="row-even"><td>edge_separation</td>
<td>Å</td>
<td>350.0</td>
</tr>
<tr class="row-odd"><td>num_pearls</td>
<td>None</td>
<td>3</td>
</tr>
<tr class="row-even"><td>sld_pearl</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<p>NB: <em>num_pearls</em> must be an integer.</p>
<img alt="../../_images/linearpearl_plot.jpg" src="../../_images/linearpearl_plot.jpg" />
<p>REFERENCE</p>
<p>A V Dobrynin, M Rubinstein and S P Obukhov, <em>Macromol.</em>, 29 (1996) 2974-2979</p>
<p id="pearlnecklacemodel"><strong>2.1.13. PearlNecklaceModel</strong></p>
<p>This model provides the form factor for a pearl necklace composed of two elements: <em>N</em> pearls (homogeneous spheres
of radius <em>R</em>) freely jointed by <em>M</em> rods (like strings - with a total mass <em>Mw</em> = <em>M</em> * <em>m</em><sub>r</sub> + <em>N</em> * <em>m</em><sub>s</sub>,
and the string segment length (or edge separation) <em>l</em> (= <em>A</em> - 2<em>R</em>)). <em>A</em> is the center-to-center pearl separation
distance.</p>
<img alt="../../_images/pearl_fig.jpg" src="../../_images/pearl_fig.jpg" />
<p><em>2.1.13.1. Definition</em></p>
<p>The output of the scattering intensity function for the PearlNecklaceModel is given by (Schweins, 2004)</p>
<img alt="../../_images/pearl_eq1.gif" src="../../_images/pearl_eq1.gif" />
<p>where</p>
<img alt="../../_images/pearl_eq2.gif" src="../../_images/pearl_eq2.gif" />
<img alt="../../_images/pearl_eq3.gif" src="../../_images/pearl_eq3.gif" />
<img alt="../../_images/pearl_eq4.gif" src="../../_images/pearl_eq4.gif" />
<img alt="../../_images/pearl_eq5.gif" src="../../_images/pearl_eq5.gif" />
<img alt="../../_images/pearl_eq6.gif" src="../../_images/pearl_eq6.gif" />
<p>and</p>
<img alt="../../_images/pearl_eq7.gif" src="../../_images/pearl_eq7.gif" />
<p>where the mass <em>m</em><sub>i</sub> is (SLD<sub>i</sub> - SLD<sub>solvent</sub>) * (volume of the <em>N</em> pearls/rods). <em>V</em> is the
total volume of the necklace.</p>
<p>The 2D scattering intensity is the same as <em>P(q)</em> above, regardless of the orientation of the <em>q</em> vector.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the PearlNecklaceModel are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="42%" />
<col width="22%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>80.0</td>
</tr>
<tr class="row-even"><td>edge_separation</td>
<td>Å</td>
<td>350.0</td>
</tr>
<tr class="row-odd"><td>num_pearls</td>
<td>None</td>
<td>3</td>
</tr>
<tr class="row-even"><td>sld_pearl</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-even"><td>sld_string</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-odd"><td>thick_string</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>(=rod diameter)</td>
<td>Å</td>
<td>2.5</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<p>NB: <em>num_pearls</em> must be an integer.</p>
<img alt="../../_images/pearl_plot.jpg" src="../../_images/pearl_plot.jpg" />
<p>REFERENCE</p>
<p>R Schweins and K Huber, <em>Particle Scattering Factor of Pearl Necklace Chains</em>, <em>Macromol. Symp.</em> 211 (2004) 25-42 2004</p>
<p id="cylindermodel"><strong>2.1.14. CylinderModel</strong></p>
<p>This model provides the form factor for a right circular cylinder with uniform scattering length density. The form
factor is normalized by the particle volume.</p>
<p>For information about polarised and magnetic scattering, click <a class="reference external" href="polar_mag_help.html">here</a>.</p>
<p><em>2.1.14.1. Definition</em></p>
<p>The output of the 2D scattering intensity function for oriented cylinders is given by (Guinier, 1955)</p>
<img alt="../../_images/image059.PNG" src="../../_images/image059.PNG" />
<p>where</p>
<img alt="../../_images/image060.PNG" src="../../_images/image060.PNG" />
<p>and α is the angle between the axis of the cylinder and the <em>q</em>-vector, <em>V</em> is the volume of the cylinder,
<em>L</em> is the length of the cylinder, <em>r</em> is the radius of the cylinder, and Δρ (contrast) is the
scattering length density difference between the scatterer and the solvent. <em>J1</em> is the first order Bessel function.</p>
<p>To provide easy access to the orientation of the cylinder, we define the axis of the cylinder using two angles θ
and φ. Those angles are defined in Figure 1.</p>
<img alt="../../_images/image061.jpg" src="../../_images/image061.jpg" />
<p><em>Figure 1. Definition of the angles for oriented cylinders.</em></p>
<img alt="../../_images/image062.jpg" src="../../_images/image062.jpg" />
<p><em>Figure 2. Examples of the angles for oriented pp against the detector plane.</em></p>
<p>NB: The 2nd virial coefficient of the cylinder is calculated based on the radius and length values, and used as the
effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the CylinderModel are the following:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>20.0</td>
</tr>
<tr class="row-even"><td>length</td>
<td>Å</td>
<td>400.0</td>
</tr>
<tr class="row-odd"><td>contrast</td>
<td>Å<sup>-2</sup></td>
<td>3.0e-6</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>cyl_theta</td>
<td>degree</td>
<td>60</td>
</tr>
<tr class="row-even"><td>cyl_phi</td>
<td>degree</td>
<td>60</td>
</tr>
</tbody>
</table>
<p>The output of the 1D scattering intensity function for randomly oriented cylinders is then given by</p>
<img alt="../../_images/image063.PNG" src="../../_images/image063.PNG" />
<p>The <em>cyl_theta</em> and <em>cyl_phi</em> parameter are not used for the 1D output. Our implementation of the scattering kernel
and the 1D scattering intensity use the c-library from NIST.</p>
<p><em>2.1.14.2. Validation of the CylinderModel</em></p>
<p>Validation of our code was done by comparing the output of the 1D model to the output of the software provided by the
NIST (Kline, 2006). Figure 3 shows a comparison of the 1D output of our model and the output of the NIST software.</p>
<img alt="../../_images/image065.jpg" src="../../_images/image065.jpg" />
<p><em>Figure 3: Comparison of the SasView scattering intensity for a cylinder with the output of the NIST SANS analysis</em>
<em>software.</em> The parameters were set to: <em>Scale</em> = 1.0, <em>Radius</em> = 20 Å, <em>Length</em> = 400 Å,
<em>Contrast</em> = 3e-6 Å<sup>-2</sup>, and <em>Background</em> = 0.01 cm<sup>-1</sup>.</p>
<p>In general, averaging over a distribution of orientations is done by evaluating the following</p>
<img alt="../../_images/image064.PNG" src="../../_images/image064.PNG" />
<p>where <em>p(</em>θ,φ<em>)</em> is the probability distribution for the orientation and P<sub>0</sub><em>(q,</em>α<em>)</em> is
the scattering intensity for the fully oriented system. Since we have no other software to compare the implementation
of the intensity for fully oriented cylinders, we can compare the result of averaging our 2D output using a uniform
distribution <em>p(</em>θ,φ<em>)</em> = 1.0. Figure 4 shows the result of such a cross-check.</p>
<img alt="../../_images/image066.jpg" src="../../_images/image066.jpg" />
<p><em>Figure 4: Comparison of the intensity for uniformly distributed cylinders calculated from our 2D model and the</em>
<em>intensity from the NIST SANS analysis software.</em> The parameters used were: <em>Scale</em> = 1.0, <em>Radius</em> = 20 Å,
<em>Length</em> = 400 Å, <em>Contrast</em> = 3e-6 Å<sup>-2</sup>, and <em>Background</em> = 0.0 cm<sup>-1</sup>.</p>
<p id="hollowcylindermodel"><strong>2.1.15. HollowCylinderModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a monodisperse hollow right angle circular cylinder (tube) where the
form factor is normalized by the volume of the tube</p>
<p><em>P(q)</em> = <em>scale</em> * <em>&lt;F</em><sup>2</sup><em>&gt;</em> / <em>V</em><sub>shell</sub> + <em>background</em></p>
<p>where the averaging &lt; &gt; is applied only for the 1D calculation.</p>
<p>The inside and outside of the hollow cylinder are assumed have the same SLD.</p>
<p><em>2.1.15.1 Definition</em></p>
<p>The 1D scattering intensity is calculated in the following way (Guinier, 1955)</p>
<img alt="../../_images/image072.PNG" src="../../_images/image072.PNG" />
<p>where <em>scale</em> is a scale factor, <em>J1</em> is the 1st order Bessel function, <em>J1(x)</em> = (sin <em>x</em> - <em>x</em> cos <em>x</em>)/ <em>x</em><sup>2</sup>.</p>
<p>To provide easy access to the orientation of the core-shell cylinder, we define the axis of the cylinder using two
angles θ and φ. As for the case of the cylinder, those angles are defined in Figure 2 of the CylinderModel.</p>
<p>NB: The 2nd virial coefficient of the cylinder is calculated based on the radius and 2 length values, and used as the
effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>In the parameters, the contrast represents SLD <sub>shell</sub> - SLD <sub>solvent</sub> and the <em>radius</em> = <em>R</em><sub>shell</sub>
while <em>core_radius</em> = <em>R</em><sub>core</sub>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>30</td>
</tr>
<tr class="row-even"><td>length</td>
<td>Å</td>
<td>400</td>
</tr>
<tr class="row-odd"><td>core_radius</td>
<td>Å</td>
<td>20</td>
</tr>
<tr class="row-even"><td>sldCyl</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-odd"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>5e-06</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.01</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image074.jpg" src="../../_images/image074.jpg" />
<p><em>Figure. 1D plot using the default values (w/1000 data point).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006).</p>
<img alt="../../_images/image061.jpg" src="../../_images/image061.jpg" />
<p><em>Figure. Definition of the angles for the oriented HollowCylinderModel.</em></p>
<img alt="../../_images/image062.jpg" src="../../_images/image062.jpg" />
<p><em>Figure. Examples of the angles for oriented pp against the detector plane.</em></p>
<p>REFERENCE</p>
<p>L A Feigin and D I Svergun, <em>Structure Analysis by Small-Angle X-Ray and Neutron Scattering</em>, Plenum Press,
New York, (1987)</p>
<p id="cappedcylindermodel"><strong>2.1.16 CappedCylinderModel</strong></p>
<p>Calculates the scattering from a cylinder with spherical section end-caps. This model simply becomes the ConvexLensModel
when the length of the cylinder <em>L</em> = 0, that is, a sphereocylinder with end caps that have a radius larger than that
of the cylinder and the center of the end cap radius lies within the cylinder. See the diagram for the details
of the geometry and restrictions on parameter values.</p>
<p><em>2.1.16.1. Definition</em></p>
<p>The returned value is scaled to units of cm<sup>-1</sup>sr<sup>-1</sup>, absolute scale.</p>
<p>The Capped Cylinder geometry is defined as</p>
<img alt="../../_images/image112.jpg" src="../../_images/image112.jpg" />
<p>where <em>r</em> is the radius of the cylinder. All other parameters are as defined in the diagram. Since the end cap radius
<em>R</em> &gt;= <em>r</em> and by definition for this geometry <em>h</em> &lt; 0, <em>h</em> is then defined by <em>r</em> and <em>R</em> as</p>
<p><em>h</em> = -1 * sqrt(<em>R</em><sup>2</sup> - <em>r</em><sup>2</sup>)</p>
<p>The scattered intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image113.jpg" src="../../_images/image113.jpg" />
<p>where the amplitude <em>A(q)</em> is given as</p>
<img alt="../../_images/image114.jpg" src="../../_images/image114.jpg" />
<p>The &lt; &gt; brackets denote an average of the structure over all orientations. &lt;<em>A</em><sup>2</sup><em>(q)</em>&gt; is then the form
factor, <em>P(q)</em>. The scale factor is equivalent to the volume fraction of cylinders, each of volume, <em>V</em>. Contrast is the
difference of scattering length densities of the cylinder and the surrounding solvent.</p>
<p>The volume of the Capped Cylinder is (with <em>h</em> as a positive value here)</p>
<img alt="../../_images/image115.jpg" src="../../_images/image115.jpg" />
<p>and its radius-of-gyration</p>
<img alt="../../_images/image116.jpg" src="../../_images/image116.jpg" />
<p><strong>The requirement that</strong> <em>R</em> &gt;= <em>r</em> <strong>is not enforced in the model! It is up to you to restrict this during analysis.</strong></p>
<p>This following example dataset is produced by running the MacroCappedCylinder(), using 200 data points,
<em>qmin</em> = 0.001 Å<sup>-1</sup>, <em>qmax</em> = 0.7 Å<sup>-1</sup> and the default values</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>len_cyl</td>
<td>Å</td>
<td>400.0</td>
</tr>
<tr class="row-even"><td>rad_cap</td>
<td>Å</td>
<td>40.0</td>
</tr>
<tr class="row-odd"><td>rad_cyl</td>
<td>Å</td>
<td>20.0</td>
</tr>
<tr class="row-even"><td>sld_capcyl</td>
<td>Å<sup>-2</sup></td>
<td>1.0e-006</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-006</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image117.jpg" src="../../_images/image117.jpg" />
<p><em>Figure. 1D plot using the default values (w/256 data point).</em></p>
<p>For 2D data: The 2D scattering intensity is calculated similar to the 2D cylinder model. For example, for
θ = 45 deg and φ =0 deg with default values for other parameters</p>
<img alt="../../_images/image118.jpg" src="../../_images/image118.jpg" />
<p><em>Figure. 2D plot (w/(256X265) data points).</em></p>
<img alt="../../_images/image061.jpg" src="../../_images/image061.jpg" />
<p><em>Figure. Definition of the angles for oriented 2D cylinders.</em></p>
<img alt="../../_images/image062.jpg" src="../../_images/image062.jpg" />
<p><em>Figure. Examples of the angles for oriented pp against the detector plane.</em></p>
<p>REFERENCE</p>
<p>H Kaya, <em>J. Appl. Cryst.</em>, 37 (2004) 223-230</p>
<p>H Kaya and N-R deSouza, <em>J. Appl. Cryst.</em>, 37 (2004) 508-509 (addenda and errata)</p>
<p id="coreshellcylindermodel"><strong>2.1.17. CoreShellCylinderModel</strong></p>
<p>This model provides the form factor for a circular cylinder with a core-shell scattering length density profile. The
form factor is normalized by the particle volume.</p>
<p><em>2.1.17.1. Definition</em></p>
<p>The output of the 2D scattering intensity function for oriented core-shell cylinders is given by (Kline, 2006)</p>
<img alt="../../_images/image067.PNG" src="../../_images/image067.PNG" />
<p>where</p>
<img alt="../../_images/image068.PNG" src="../../_images/image068.PNG" />
<img alt="../../_images/image239.PNG" src="../../_images/image239.PNG" />
<p>and α is the angle between the axis of the cylinder and the <em>q</em>-vector, <em>Vs</em> is the volume of the outer shell
(i.e. the total volume, including the shell), <em>Vc</em> is the volume of the core, <em>L</em> is the length of the core, <em>r</em> is the
radius of the core, <em>t</em> is the thickness of the shell, ρ<sub>c</sub> is the scattering length density of the core,
ρ<sub>s</sub> is the scattering length density of the shell, ρ<sub>solv</sub> is the scattering length density of
the solvent, and <em>bkg</em> is the background level. The outer radius of the shell is given by <em>r+t</em> and the total length of
the outer shell is given by <em>L+2t</em>. <em>J1</em> is the first order Bessel function.</p>
<img alt="../../_images/image069.jpg" src="../../_images/image069.jpg" />
<p>To provide easy access to the orientation of the core-shell cylinder, we define the axis of the cylinder using two
angles θ and φ. As for the case of the cylinder, those angles are defined in Figure 2 of the CylinderModel.</p>
<p>NB: The 2nd virial coefficient of the cylinder is calculated based on the radius and 2 length values, and used as the
effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the core-shell cylinder model are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>20.0</td>
</tr>
<tr class="row-even"><td>thickness</td>
<td>Å</td>
<td>10.0</td>
</tr>
<tr class="row-odd"><td>length</td>
<td>Å</td>
<td>400.0</td>
</tr>
<tr class="row-even"><td>core_sld</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-odd"><td>shell_sld</td>
<td>Å<sup>-2</sup></td>
<td>4e-6</td>
</tr>
<tr class="row-even"><td>solvent_sld</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-even"><td>axis_theta</td>
<td>degree</td>
<td>90</td>
</tr>
<tr class="row-odd"><td>axis_phi</td>
<td>degree</td>
<td>0.0</td>
</tr>
</tbody>
</table>
<p>The output of the 1D scattering intensity function for randomly oriented cylinders is then given by the equation above.</p>
<p>The <em>axis_theta</em> and <em>axis_phi</em> parameters are not used for the 1D output. Our implementation of the scattering kernel
and the 1D scattering intensity use the c-library from NIST.</p>
<p><em>2.1.17.2. Validation of the CoreShellCylinderModel</em></p>
<p>Validation of our code was done by comparing the output of the 1D model to the output of the software provided by the
NIST (Kline, 2006). Figure 1 shows a comparison of the 1D output of our model and the output of the NIST software.</p>
<img alt="../../_images/image070.jpg" src="../../_images/image070.jpg" />
<p><em>Figure 1: Comparison of the SasView scattering intensity for a core-shell cylinder with the output of the NIST SANS</em>
<em>analysis software.</em> The parameters were set to: <em>Scale</em> = 1.0, <em>Radius</em> = 20 Å, <em>Thickness</em> = 10 Å,
<em>Length</em> = 400 Å, <em>Core_sld</em> = 1e-6 Å<sup>-2</sup>, <em>Shell_sld</em> = 4e-6 Å<sup>-2</sup>, <em>Solvent_sld</em> = 1e-6 Å<sup>-2</sup>,
and <em>Background</em> = 0.01 cm<sup>-1</sup>.</p>
<p>Averaging over a distribution of orientation is done by evaluating the equation above. Since we have no other software
to compare the implementation of the intensity for fully oriented cylinders, we can compare the result of averaging our
2D output using a uniform distribution <em>p(</em>θ,φ<em>)</em> = 1.0. Figure 2 shows the result of such a cross-check.</p>
<img alt="../../_images/image071.jpg" src="../../_images/image071.jpg" />
<p><em>Figure 2: Comparison of the intensity for uniformly distributed core-shell cylinders calculated from our 2D model and</em>
<em>the intensity from the NIST SANS analysis software.</em> The parameters used were: <em>Scale</em> = 1.0, <em>Radius</em> = 20 Å,
<em>Thickness</em> = 10 Å, <em>Length</em> =400 Å, <em>Core_sld</em> = 1e-6 Å<sup>-2</sup>, <em>Shell_sld</em> = 4e-6 Å<sup>-2</sup>,
<em>Solvent_sld</em> = 1e-6 Å<sup>-2</sup>, and <em>Background</em> = 0.0 cm<sup>-1</sup>.</p>
<img alt="../../_images/image061.jpg" src="../../_images/image061.jpg" />
<p><em>Figure. Definition of the angles for oriented core-shell cylinders.</em></p>
<img alt="../../_images/image062.jpg" src="../../_images/image062.jpg" />
<p><em>Figure. Examples of the angles for oriented pp against the detector plane.</em></p>
<p>2013/11/26 - Description reviewed by Heenan, R.</p>
<p id="ellipticalcylindermodel"><strong>2.1.18 EllipticalCylinderModel</strong></p>
<p>This function calculates the scattering from an elliptical cylinder.</p>
<p><em>2.1.18.1 Definition for 2D (orientated system)</em></p>
<p>The angles θ and φ define the orientation of the axis of the cylinder. The angle Ψ is defined as the
orientation of the major axis of the ellipse with respect to the vector <em>Q</em>. A gaussian polydispersity can be added
to any of the orientation angles, and also for the minor radius and the ratio of the ellipse radii.</p>
<img alt="../../_images/image098.gif" src="../../_images/image098.gif" />
<p><em>Figure.</em> <em>a</em> = <em>r_minor</em> and ν<sub>n</sub> = <em>r_ratio</em> (i.e., <em>r_major</em> / <em>r_minor</em>).</p>
<p>The function calculated is</p>
<img alt="../../_images/image099.PNG" src="../../_images/image099.PNG" />
<p>with the functions</p>
<img alt="../../_images/image100.PNG" src="../../_images/image100.PNG" />
<p>and the angle Ψ is defined as the orientation of the major axis of the ellipse with respect to the vector <em>q</em>.</p>
<p><em>2.1.18.2 Definition for 1D (no preferred orientation)</em></p>
<p>The form factor is averaged over all possible orientation before normalized by the particle volume</p>
<p><em>P(q)</em> = <em>scale</em> * &lt;<em>F</em><sup>2</sup>&gt; / <em>V</em></p>
<p>The returned value is scaled to units of cm<sup>-1</sup>.</p>
<p>To provide easy access to the orientation of the elliptical cylinder, we define the axis of the cylinder using two
angles θ, φ and Ψ. As for the case of the cylinder, the angles θ and φ are defined on
Figure 2 of CylinderModel. The angle Ψ is the rotational angle around its own long_c axis against the <em>q</em> plane.
For example, Ψ = 0 when the <em>r_minor</em> axis is parallel to the <em>x</em>-axis of the detector.</p>
<p>All angle parameters are valid and given only for 2D calculation; ie, an oriented system.</p>
<img alt="../../_images/image101.jpg" src="../../_images/image101.jpg" />
<p><em>Figure. Definition of angles for 2D</em></p>
<img alt="../../_images/image062.jpg" src="../../_images/image062.jpg" />
<p><em>Figure. Examples of the angles for oriented elliptical cylinders against the detector plane.</em></p>
<p>NB: The 2nd virial coefficient of the cylinder is calculated based on the averaged radius (= sqrt(<em>r_minor</em><sup>2</sup> * <em>r_ratio</em>))
and length values, and used as the effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>r_minor</td>
<td>Å</td>
<td>20.0</td>
</tr>
<tr class="row-even"><td>r_ratio</td>
<td>Å</td>
<td>1.5</td>
</tr>
<tr class="row-odd"><td>length</td>
<td>Å</td>
<td>400.0</td>
</tr>
<tr class="row-even"><td>sldCyl</td>
<td>Å<sup>-2</sup></td>
<td>4e-06</td>
</tr>
<tr class="row-odd"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>1e-06</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image102.jpg" src="../../_images/image102.jpg" />
<p><em>Figure. 1D plot using the default values (w/1000 data point).</em></p>
<p><em>2.1.18.3 Validation of the EllipticalCylinderModel</em></p>
<p>Validation of our code was done by comparing the output of the 1D calculation to the angular average of the output of
the 2D calculation over all possible angles. The figure below shows the comparison where the solid dot refers to
averaged 2D values while the line represents the result of the 1D calculation (for the 2D averaging, values of 76, 180,
and 76 degrees are taken for the angles of θ, φ, and Ψ respectively).</p>
<img alt="../../_images/image103.gif" src="../../_images/image103.gif" />
<p><em>Figure. Comparison between 1D and averaged 2D.</em></p>
<p>In the 2D average, more binning in the angle φ is necessary to get the proper result. The following figure shows
the results of the averaging by varying the number of angular bins.</p>
<img alt="../../_images/image104.gif" src="../../_images/image104.gif" />
<p><em>Figure. The intensities averaged from 2D over different numbers of bins and angles.</em></p>
<p>REFERENCE</p>
<p>L A Feigin and D I Svergun, <em>Structure Analysis by Small-Angle X-Ray and Neutron Scattering</em>, Plenum,
New York, (1987)</p>
<p id="flexiblecylindermodel"><strong>2.1.19. FlexibleCylinderModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a flexible cylinder where the form factor is normalized by the volume
of the cylinder. <strong>Inter-cylinder interactions are NOT provided for.</strong></p>
<p><em>P(q)</em> = <em>scale</em> * &lt;<em>F</em><sup>2</sup>&gt; / <em>V</em> + <em>background</em></p>
<p>where the averaging &lt; &gt; is applied over all orientations for 1D.</p>
<p>The 2D scattering intensity is the same as 1D, regardless of the orientation of the <em>q</em> vector which is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<p><em>2.1.19.1. Definition</em></p>
<img alt="../../_images/image075.jpg" src="../../_images/image075.jpg" />
<p>The chain of contour length, <em>L</em>, (the total length) can be described as a chain of some number of locally stiff
segments of length <em>l</em><sub>p</sub>, the persistence length (the length along the cylinder over which the flexible
cylinder can be considered a rigid rod). The Kuhn length (<em>b</em> = 2 * <em>l</em> <sub>p</sub>) is also used to describe the
stiffness of a chain.</p>
<p>The returned value is in units of cm<sup>-1</sup>, on absolute scale.</p>
<p>In the parameters, the sldCyl and sldSolv represent the SLD of the chain/cylinder and solvent respectively.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>20</td>
</tr>
<tr class="row-even"><td>length</td>
<td>Å</td>
<td>1000</td>
</tr>
<tr class="row-odd"><td>sldCyl</td>
<td>Å<sup>-2</sup></td>
<td>1e-06</td>
</tr>
<tr class="row-even"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-06</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.01</td>
</tr>
<tr class="row-even"><td>kuhn_length</td>
<td>Å</td>
<td>100</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image076.jpg" src="../../_images/image076.jpg" />
<p><em>Figure. 1D plot using the default values (w/1000 data point).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006).</p>
<p>From the reference</p>
<blockquote>
<div>&#8220;Method 3 With Excluded Volume&#8221; is used. The model is a parametrization of simulations of a discrete representation
of the worm-like chain model of Kratky and Porod applied in the pseudocontinuous limit. See equations (13,26-27) in
the original reference for the details.</div></blockquote>
<p>REFERENCE</p>
<p>J S Pedersen and P Schurtenberger. <em>Scattering functions of semiflexible polymers with and without excluded volume</em>
<em>effects</em>. <em>Macromolecules</em>, 29 (1996) 7602-7612</p>
<p>Correction of the formula can be found in</p>
<p>W R Chen, P D Butler and L J Magid, <em>Incorporating Intermicellar Interactions in the Fitting of SANS Data from</em>
<em>Cationic Wormlike Micelles</em>. <em>Langmuir</em>, 22(15) 2006 6539â€“6548</p>
<p id="flexcylellipxmodel"><strong>2.1.20 FlexCylEllipXModel</strong></p>
<p>This model calculates the form factor for a flexible cylinder with an elliptical cross section and a uniform scattering
length density. The non-negligible diameter of the cylinder is included by accounting for excluded volume interactions
within the walk of a single cylinder. The form factor is normalized by the particle volume such that</p>
<p><em>P(q)</em> = <em>scale</em> * &lt;<em>F</em><sup>2</sup>&gt; / <em>V</em> + <em>background</em></p>
<p>where &lt; &gt; is an average over all possible orientations of the flexible cylinder.</p>
<p><em>2.1.20.1. Definition</em></p>
<p>The function calculated is from the reference given below. From that paper, &#8220;Method 3 With Excluded Volume&#8221; is used.
The model is a parameterization of simulations of a discrete representation of the worm-like chain model of Kratky and
Porod applied in the pseudo-continuous limit. See equations (13, 26-27) in the original reference for the details.</p>
<p>NB: there are several typos in the original reference that have been corrected by WRC. Details of the corrections are
in the reference below. Most notably</p>
<ul class="simple">
<li>Equation (13): the term (1 - w(QR)) should swap position with w(QR)</li>
<li>Equations (23) and (24) are incorrect; WRC has entered these into Mathematica and solved analytically. The results
were then converted to code.</li>
<li>Equation (27) should be q0 = max(a3/sqrt(RgSquare),3) instead of max(a3*b/sqrt(RgSquare),3)</li>
<li>The scattering function is negative for a range of parameter values and q-values that are experimentally accessible. A correction function has been added to give the proper behavior.</li>
</ul>
<img alt="../../_images/image077.jpg" src="../../_images/image077.jpg" />
<p>The chain of contour length, <em>L</em>, (the total length) can be described as a chain of some number of locally stiff
segments of length <em>l</em><sub>p</sub>, the persistence length (the length along the cylinder over which the flexible
cylinder can be considered a rigid rod). The Kuhn length (<em>b</em> = 2 * <em>l</em> <sub>p</sub>) is also used to describe the
stiffness of a chain.</p>
<p>The cross section of the cylinder is elliptical, with minor radius <em>a</em>. The major radius is larger, so of course,
<strong>the axis ratio (parameter 4) must be greater than one.</strong> Simple constraints should be applied during curve fitting to
maintain this inequality.</p>
<p>The returned value is in units of cm<sup>-1</sup>, on absolute scale.</p>
<p>In the parameters, <em>sldCyl</em> and <em>sldSolv</em> represent the SLD of the chain/cylinder and solvent respectively. The
<em>scale</em>, and the contrast are both multiplicative factors in the model and are perfectly correlated. One or both of
these parameters must be held fixed during model fitting.</p>
<p>If the scale is set equal to the particle volume fraction, φ, the returned value is the scattered intensity per
unit volume, <em>I(q)</em> = φ * <em>P(q)</em>.</p>
<p><strong>No inter-cylinder interference effects are included in this calculation.</strong></p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image008.PNG" src="../../_images/image008.PNG" />
<p>This example dataset is produced by running the Macro FlexCylEllipXModel, using 200 data points, <em>qmin</em> = 0.001 Å<sup>-1</sup>,
<em>qmax</em> = 0.7 Å<sup>-1</sup> and the default values below</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>axis_ratio</td>
<td>None</td>
<td>1.5</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0001</td>
</tr>
<tr class="row-even"><td>Kuhn_length</td>
<td>Å</td>
<td>100</td>
</tr>
<tr class="row-odd"><td>Contour length</td>
<td>Å</td>
<td>1e+3</td>
</tr>
<tr class="row-even"><td>radius</td>
<td>Å</td>
<td>20.0</td>
</tr>
<tr class="row-odd"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-even"><td>sldCyl</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-odd"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image078.jpg" src="../../_images/image078.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data points).</em></p>
<p>REFERENCE</p>
<p>J S Pedersen and P Schurtenberger. <em>Scattering functions of semiflexible polymers with and without excluded volume</em>
<em>effects</em>. <em>Macromolecules</em>, 29 (1996) 7602-7612</p>
<p>Correction of the formula can be found in</p>
<p>W R Chen, P D Butler and L J Magid, <em>Incorporating Intermicellar Interactions in the Fitting of SANS Data from</em>
<em>Cationic Wormlike Micelles</em>. <em>Langmuir</em>, 22(15) 2006 6539â€“6548</p>
<p id="coreshellbicellemodel"><strong>2.1.21 CoreShellBicelleModel</strong></p>
<p>This model provides the form factor for a circular cylinder with a core-shell scattering length density profile. The
form factor is normalized by the particle volume.</p>
<p>This model is a more general case of core-shell cylinder model (see above and reference below) in that the parameters
of the shell are separated into a face-shell and a rim-shell so that users can set different values of the thicknesses
and SLDs.</p>
<img alt="../../_images/image240.png" src="../../_images/image240.png" />
<p><em>(Graphic from DOI: 10.1039/C0NP00002G)</em></p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the CoreShellBicelleModel are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>20.0</td>
</tr>
<tr class="row-even"><td>rim_thick</td>
<td>Å</td>
<td>10.0</td>
</tr>
<tr class="row-odd"><td>face_thick</td>
<td>Å</td>
<td>10.0</td>
</tr>
<tr class="row-even"><td>length</td>
<td>Å</td>
<td>400.0</td>
</tr>
<tr class="row-odd"><td>core_sld</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-even"><td>rim_sld</td>
<td>Å<sup>-2</sup></td>
<td>4e-6</td>
</tr>
<tr class="row-odd"><td>face_sld</td>
<td>Å<sup>-2</sup></td>
<td>4e-6</td>
</tr>
<tr class="row-even"><td>solvent_sld</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-even"><td>axis_theta</td>
<td>degree</td>
<td>90</td>
</tr>
<tr class="row-odd"><td>axis_phi</td>
<td>degree</td>
<td>0.0</td>
</tr>
</tbody>
</table>
<p>The output of the 1D scattering intensity function for randomly oriented cylinders is then given by the equation above.</p>
<p>The <em>axis_theta</em> and <em>axis_phi</em> parameters are not used for the 1D output. Our implementation of the scattering kernel
and the 1D scattering intensity use the c-library from NIST.</p>
<img alt="../../_images/cscylbicelle_pic.jpg" src="../../_images/cscylbicelle_pic.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data point).</em></p>
<img alt="../../_images/image061.jpg" src="../../_images/image061.jpg" />
<p><em>Figure. Definition of the angles for the oriented CoreShellBicelleModel.</em></p>
<img alt="../../_images/image062.jpg" src="../../_images/image062.jpg" />
<p><em>Figure. Examples of the angles for oriented pp against the detector plane.</em></p>
<p>REFERENCE</p>
<p>L A Feigin and D I Svergun, <em>Structure Analysis by Small-Angle X-Ray and Neutron Scattering</em>, Plenum Press,
New York, (1987)</p>
<p id="barbellmodel"><strong>2.1.22. BarBellModel</strong></p>
<p>Calculates the scattering from a barbell-shaped cylinder (This model simply becomes the DumBellModel when the length of
the cylinder, <em>L</em>, is set to zero). That is, a sphereocylinder with spherical end caps that have a radius larger than
that of the cylinder and the center of the end cap radius lies outside of the cylinder. All dimensions of the BarBell
are considered to be monodisperse. See the diagram for the details of the geometry and restrictions on parameter values.</p>
<p><em>2.1.22.1. Definition</em></p>
<p>The returned value is scaled to units of cm<sup>-1</sup>sr<sup>-1</sup>, absolute scale.</p>
<p>The barbell geometry is defined as</p>
<img alt="../../_images/image105.jpg" src="../../_images/image105.jpg" />
<p>where <em>r</em> is the radius of the cylinder. All other parameters are as defined in the diagram.</p>
<p>Since the end cap radius
<em>R</em> &gt;= <em>r</em> and by definition for this geometry <em>h</em> &lt; 0, <em>h</em> is then defined by <em>r</em> and <em>R</em> as</p>
<p><em>h</em> = -1 * sqrt(<em>R</em><sup>2</sup> - <em>r</em><sup>2</sup>)</p>
<p>The scattered intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image106.PNG" src="../../_images/image106.PNG" />
<p>where the amplitude <em>A(q)</em> is given as</p>
<img alt="../../_images/image107.PNG" src="../../_images/image107.PNG" />
<p>The &lt; &gt; brackets denote an average of the structure over all orientations. &lt;<em>A</em> <sup>2</sup><em>(q)</em>&gt; is then the form
factor, <em>P(q)</em>. The scale factor is equivalent to the volume fraction of cylinders, each of volume, <em>V</em>. Contrast is
the difference of scattering length densities of the cylinder and the surrounding solvent.</p>
<p>The volume of the barbell is</p>
<img alt="../../_images/image108.jpg" src="../../_images/image108.jpg" />
<p>and its radius-of-gyration is</p>
<img alt="../../_images/image109.jpg" src="../../_images/image109.jpg" />
<p><strong>The requirement that</strong> <em>R</em> &gt;= <em>r</em> <strong>is not enforced in the model!</strong> It is up to you to restrict this during analysis.</p>
<p>This example dataset is produced by running the Macro PlotBarbell(), using 200 data points, <em>qmin</em> = 0.001 Å<sup>-1</sup>,
<em>qmax</em> = 0.7 Å<sup>-1</sup> and the following default values</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>len_bar</td>
<td>Å</td>
<td>400.0</td>
</tr>
<tr class="row-even"><td>rad_bar</td>
<td>Å</td>
<td>20.0</td>
</tr>
<tr class="row-odd"><td>rad_bell</td>
<td>Å</td>
<td>40.0</td>
</tr>
<tr class="row-even"><td>sld_barbell</td>
<td>Å<sup>-2</sup></td>
<td>1.0e-006</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-006</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image110.jpg" src="../../_images/image110.jpg" />
<p><em>Figure. 1D plot using the default values (w/256 data point).</em></p>
<p>For 2D data: The 2D scattering intensity is calculated similar to the 2D cylinder model. For example, for
θ = 45 deg and φ = 0 deg with default values for other parameters</p>
<img alt="../../_images/image111.jpg" src="../../_images/image111.jpg" />
<p><em>Figure. 2D plot (w/(256X265) data points).</em></p>
<img alt="../../_images/image061.jpg" src="../../_images/image061.jpg" />
<p><em>Figure. Examples of the angles for oriented pp against the detector plane.</em></p>
<img alt="../../_images/image062.jpg" src="../../_images/image062.jpg" />
<p>Figure. Definition of the angles for oriented 2D barbells.</p>
<p>REFERENCE</p>
<p>H Kaya, <em>J. Appl. Cryst.</em>, 37 (2004) 37 223-230</p>
<p>H Kaya and N R deSouza, <em>J. Appl. Cryst.</em>, 37 (2004) 508-509 (addenda and errata)</p>
<p id="stackeddisksmodel"><strong>2.1.23. StackedDisksModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for stacked discs (tactoids) with a core/layer structure where the form
factor is normalized by the volume of the cylinder. Assuming the next neighbor distance (d-spacing) in a stack of
parallel discs obeys a Gaussian distribution, a structure factor <em>S(q)</em> proposed by Kratky and Porod in 1949 is used
in this function.</p>
<p>Note that the resolution smearing calculation uses 76 Gauss quadrature points to properly smear the model since the
function is HIGHLY oscillatory, especially around the <em>q</em>-values that correspond to the repeat distance of the layers.</p>
<p>The 2D scattering intensity is the same as 1D, regardless of the orientation of the <em>q</em> vector which is defined as</p>
<img alt="../../_images/image008.PNG" src="../../_images/image008.PNG" />
<p>The returned value is in units of cm<sup>-1</sup> sr<sup>-1</sup>, on absolute scale.</p>
<p><em>2.1.23.1 Definition</em></p>
<img alt="../../_images/image079.gif" src="../../_images/image079.gif" />
<p>The scattering intensity <em>I(q)</em> is</p>
<img alt="../../_images/image081.PNG" src="../../_images/image081.PNG" />
<p>where the contrast</p>
<img alt="../../_images/image082.PNG" src="../../_images/image082.PNG" />
<p>and <em>N</em> is the number of discs per unit volume, α is the angle between the axis of the disc and <em>q</em>, and <em>Vt</em>
and <em>Vc</em> are the total volume and the core volume of a single disc, respectively.</p>
<img alt="../../_images/image083.PNG" src="../../_images/image083.PNG" />
<p>where <em>d</em> = thickness of the layer (<em>layer_thick</em>), 2<em>h</em> = core thickness (<em>core_thick</em>), and <em>R</em> = radius of the
disc (<em>radius</em>).</p>
<img alt="../../_images/image084.PNG" src="../../_images/image084.PNG" />
<p>where <em>n</em> = the total number of the disc stacked (<em>n_stacking</em>), <em>D</em> = the next neighbor center-to-center distance
(<em>d-spacing</em>), and σD= the Gaussian standard deviation of the d-spacing (<em>sigma_d</em>).</p>
<p>To provide easy access to the orientation of the stacked disks, we define the axis of the cylinder using two angles
θ and φ. These angles are defined on Figure 2 of CylinderModel.</p>
<p>NB: The 2nd virial coefficient of the cylinder is calculated based on the <em>radius</em> and <em>length</em> = <em>n_stacking</em> *
(<em>core_thick</em> + 2 * <em>layer_thick</em>) values, and used as the effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.001</td>
</tr>
<tr class="row-odd"><td>core_sld</td>
<td>Å<sup>-2</sup></td>
<td>4e-006</td>
</tr>
<tr class="row-even"><td>core_thick</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>layer_sld</td>
<td>Å<sup>-2</sup></td>
<td>0</td>
</tr>
<tr class="row-even"><td>layer_thick</td>
<td>Å</td>
<td>15</td>
</tr>
<tr class="row-odd"><td>n_stacking</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-even"><td>radius</td>
<td>Å</td>
<td>3e+03</td>
</tr>
<tr class="row-odd"><td>scale</td>
<td>None</td>
<td>0.01</td>
</tr>
<tr class="row-even"><td>sigma_d</td>
<td>Å</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>solvent_sld</td>
<td>Å<sup>-2</sup></td>
<td>5e-06</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image085.jpg" src="../../_images/image085.jpg" />
<p><em>Figure. 1D plot using the default values (w/1000 data point).</em></p>
<img alt="../../_images/image086.jpg" src="../../_images/image086.jpg" />
<p><em>Figure. Examples of the angles for oriented stackeddisks against the detector plane.</em></p>
<img alt="../../_images/image062.jpg" src="../../_images/image062.jpg" />
<p><em>Figure. Examples of the angles for oriented pp against the detector plane.</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006)</p>
<p>REFERENCE</p>
<p>A Guinier and G Fournet, <em>Small-Angle Scattering of X-Rays</em>, John Wiley and Sons, New York, 1955</p>
<p>O Kratky and G Porod, <em>J. Colloid Science</em>, 4, (1949) 35</p>
<p>J S Higgins and H C Benoit, <em>Polymers and Neutron Scattering</em>, Clarendon, Oxford, 1994</p>
<p id="pringlemodel"><strong>2.1.24. PringleModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a &#8216;pringle&#8217; or &#8216;saddle-shaped&#8217; object (a hyperbolic paraboloid).</p>
<img alt="../../_images/image241.png" src="../../_images/image241.png" />
<p><em>(Graphic from Matt Henderson, matt&#64;matthen.com)</em></p>
<p>The returned value is in units of cm<sup>-1</sup>, on absolute scale.</p>
<p>The form factor calculated is</p>
<img alt="../../_images/pringle_eqn_1.jpg" src="../../_images/pringle_eqn_1.jpg" />
<p>where</p>
<img alt="../../_images/pringle_eqn_2.jpg" src="../../_images/pringle_eqn_2.jpg" />
<p>The parameters of the model and a plot comparing the pringle model with the equivalent cylinder are shown below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>alpha</td>
<td>None</td>
<td>0.001</td>
</tr>
<tr class="row-even"><td>beta</td>
<td>None</td>
<td>0.02</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>60</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>sld_pringle</td>
<td>Å<sup>-2</sup></td>
<td>1e-06</td>
</tr>
<tr class="row-even"><td>sld_solvent</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-06</td>
</tr>
<tr class="row-odd"><td>thickness</td>
<td>Å</td>
<td>10</td>
</tr>
</tbody>
</table>
<img alt="../../_images/pringle-vs-cylinder.png" src="../../_images/pringle-vs-cylinder.png" />
<p><em>Figure. 1D plot using the default values (w/150 data point).</em></p>
<p>REFERENCE</p>
<p>S Alexandru Rautu, Private Communication.</p>
<p id="ellipsoidmodel"><strong>2.1.25. EllipsoidModel</strong></p>
<p>This model provides the form factor for an ellipsoid (ellipsoid of revolution) with uniform scattering length density.
The form factor is normalized by the particle volume.</p>
<p><em>2.1.25.1. Definition</em></p>
<p>The output of the 2D scattering intensity function for oriented ellipsoids is given by (Feigin, 1987)</p>
<img alt="../../_images/image059.PNG" src="../../_images/image059.PNG" />
<p>where</p>
<img alt="../../_images/image119.PNG" src="../../_images/image119.PNG" />
<p>and</p>
<img alt="../../_images/image120.PNG" src="../../_images/image120.PNG" />
<p>α is the angle between the axis of the ellipsoid and the <em>q</em>-vector, <em>V</em> is the volume of the ellipsoid, <em>Ra</em>
is the radius along the rotational axis of the ellipsoid, <em>Rb</em> is the radius perpendicular to the rotational axis of
the ellipsoid and Δρ (contrast) is the scattering length density difference between the scatterer and
the solvent.</p>
<p>To provide easy access to the orientation of the ellipsoid, we define the rotation axis of the ellipsoid using two
angles θ and φ. These angles are defined on Figure 2 of the <a class="reference internal" href="#cylindermodel">CylinderModel</a>. For the ellipsoid, θ
is the angle between the rotational axis and the <em>z</em>-axis.</p>
<p>NB: The 2nd virial coefficient of the solid ellipsoid is calculated based on the <em>radius_a</em> and <em>radius_b</em> values, and
used as the effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the EllipsoidModel are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="22%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>radius_a (polar)</td>
<td>Å</td>
<td>20.0</td>
</tr>
<tr class="row-even"><td>radius_b (equat)</td>
<td>Å</td>
<td>400.0</td>
</tr>
<tr class="row-odd"><td>sldEll</td>
<td>Å<sup>-2</sup></td>
<td>4.0e-6</td>
</tr>
<tr class="row-even"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>1.0e-6</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-even"><td>axis_theta</td>
<td>degree</td>
<td>90</td>
</tr>
<tr class="row-odd"><td>axis_phi</td>
<td>degree</td>
<td>0.0</td>
</tr>
</tbody>
</table>
<p>The output of the 1D scattering intensity function for randomly oriented ellipsoids is then given by the equation
above.</p>
<img alt="../../_images/image121.jpg" src="../../_images/image121.jpg" />
<p>The <em>axis_theta</em> and <em>axis_phi</em> parameters are not used for the 1D output. Our implementation of the scattering
kernel and the 1D scattering intensity use the c-library from NIST.</p>
<img alt="../../_images/image122.jpg" src="../../_images/image122.jpg" />
<p><em>Figure. The angles for oriented ellipsoid.</em></p>
<p><em>2.1.25.1. Validation of the EllipsoidModel</em></p>
<p>Validation of our code was done by comparing the output of the 1D model to the output of the software provided by the
NIST (Kline, 2006). Figure 1 below shows a comparison of the 1D output of our model and the output of the NIST
software.</p>
<img alt="../../_images/image123.jpg" src="../../_images/image123.jpg" />
<p><em>Figure 1: Comparison of the SasView scattering intensity for an ellipsoid with the output of the NIST SANS analysis</em>
<em>software.</em> The parameters were set to: <em>Scale</em> = 1.0, <em>Radius_a</em> = 20, <em>Radius_b</em> = 400, <em>Contrast</em> = 3e-6 Å<sup>-2</sup>,
and <em>Background</em> = 0.01 cm<sup>-1</sup>.</p>
<p>Averaging over a distribution of orientation is done by evaluating the equation above. Since we have no other software
to compare the implementation of the intensity for fully oriented ellipsoids, we can compare the result of averaging
our 2D output using a uniform distribution <em>p(</em>θ,φ<em>)</em> = 1.0. Figure 2 shows the result of such a
cross-check.</p>
<img alt="../../_images/image124.jpg" src="../../_images/image124.jpg" />
<p><em>Figure 2: Comparison of the intensity for uniformly distributed ellipsoids calculated from our 2D model and the</em>
<em>intensity from the NIST SANS analysis software.</em> The parameters used were: <em>Scale</em> = 1.0, <em>Radius_a</em> = 20,
<em>Radius_b</em> = 400, <em>Contrast</em> = 3e-6 Å<sup>-2</sup>, and <em>Background</em> = 0.0 cm<sup>-1</sup>.</p>
<p>The discrepancy above <em>q</em> = 0.3 cm<sup>-1</sup> is due to the way the form factors are calculated in the c-library provided by
NIST. A numerical integration has to be performed to obtain <em>P(q)</em> for randomly oriented particles. The NIST software
performs that integration with a 76-point Gaussian quadrature rule, which will become imprecise at high q where the
amplitude varies quickly as a function of <em>q</em>. The SasView result shown has been obtained by summing over 501
equidistant points in . Our result was found to be stable over the range of <em>q</em> shown for a number of points higher
than 500.</p>
<p>REFERENCE</p>
<p>L A Feigin and D I Svergun. <em>Structure Analysis by Small-Angle X-Ray and Neutron Scattering</em>, Plenum,
New York, 1987.</p>
<p id="coreshellellipsoidmodel"><strong>2.1.26. CoreShellEllipsoidModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a core shell ellipsoid (below) where the form factor is normalized by
the volume of the cylinder.</p>
<p><em>P(q)</em> = <em>scale</em> * &lt;<em>f</em><sup>2</sup>&gt; / <em>V</em> + <em>background</em></p>
<p>where the volume <em>V</em> = (4/3)π (<em>r</em><sub>maj</sub> <em>r</em><sub>min</sub><sup>2</sup>) and the averaging &lt; &gt; is applied over
all orientations for 1D.</p>
<img alt="../../_images/image125.gif" src="../../_images/image125.gif" />
<p>The returned value is in units of cm<sup>-1</sup>, on absolute scale.</p>
<p><em>2.1.26.1. Definition</em></p>
<p>The form factor calculated is</p>
<img alt="../../_images/image126.PNG" src="../../_images/image126.PNG" />
<p>To provide easy access to the orientation of the core-shell ellipsoid, we define the axis of the solid ellipsoid using
two angles θ and φ. These angles are defined on Figure 2 of the <a class="reference internal" href="#cylindermodel">CylinderModel</a>. The contrast is defined as
SLD(core) - SLD(shell) and SLD(shell) - SLD(solvent).</p>
<p>In the parameters, <em>equat_core</em> = equatorial core radius, <em>polar_core</em> = polar core radius, <em>equat_shell</em> =
<em>r</em><sub>min</sub> (or equatorial outer radius), and <em>polar_shell</em> = = <em>r</em><sub>maj</sub> (or polar outer radius).</p>
<p>NB: The 2nd virial coefficient of the solid ellipsoid is calculated based on the <em>radius_a</em> (= <em>polar_shell</em>) and
<em>radius_b</em> (= <em>equat_shell</em>) values, and used as the effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.001</td>
</tr>
<tr class="row-odd"><td>equat_core</td>
<td>Å</td>
<td>200</td>
</tr>
<tr class="row-even"><td>equat_shell</td>
<td>Å</td>
<td>250</td>
</tr>
<tr class="row-odd"><td>sld_solvent</td>
<td>Å<sup>-2</sup></td>
<td>6e-06</td>
</tr>
<tr class="row-even"><td>ploar_shell</td>
<td>Å</td>
<td>30</td>
</tr>
<tr class="row-odd"><td>ploar_core</td>
<td>Å</td>
<td>20</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>sld_core</td>
<td>Å<sup>-2</sup></td>
<td>2e-06</td>
</tr>
<tr class="row-even"><td>sld_shell</td>
<td>Å<sup>-2</sup></td>
<td>1e-06</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image127.jpg" src="../../_images/image127.jpg" />
<p><em>Figure. 1D plot using the default values (w/1000 data point).</em></p>
<img alt="../../_images/image122.jpg" src="../../_images/image122.jpg" />
<p><em>Figure. The angles for oriented CoreShellEllipsoid.</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006).</p>
<p>REFERENCE</p>
<p>M Kotlarchyk, S H Chen, <em>J. Chem. Phys.</em>, 79 (1983) 2461</p>
<p>S J Berr, <em>Phys. Chem.</em>, 91 (1987) 4760</p>
<p id="coreshellellipsoidxtmodel"><strong>2.1.27. CoreShellEllipsoidXTModel</strong></p>
<p>An alternative version of <em>P(q)</em> for the core-shell ellipsoid (see CoreShellEllipsoidModel), having as parameters the
core axial ratio <em>X</em> and a shell thickness, which are more often what we would like to determine.</p>
<p>This model is also better behaved when polydispersity is applied than the four independent radii in
CoreShellEllipsoidModel.</p>
<p><em>2.1.27.1. Definition</em></p>
<img alt="../../_images/image125.gif" src="../../_images/image125.gif" />
<p>The geometric parameters of this model are</p>
<blockquote>
<div><p><em>equat_core</em> = equatorial core radius = <em>Rminor_core</em></p>
<p><em>X_core</em> = <em>polar_core</em> / <em>equat_core</em> = <em>Rmajor_core</em> / <em>Rminor_core</em></p>
<p><em>T_shell</em> = <em>equat_outer</em> - <em>equat_core</em> = <em>Rminor_outer</em> - <em>Rminor_core</em></p>
<p><em>XpolarShell</em> = <em>Tpolar_shell</em> / <em>T_shell</em> = (<em>Rmajor_outer</em> - <em>Rmajor_core</em>)/(<em>Rminor_outer</em> - <em>Rminor_core</em>)</p>
</div></blockquote>
<p>In terms of the original radii</p>
<blockquote>
<div><p><em>polar_core</em> = <em>equat_core</em> * <em>X_core</em></p>
<p><em>equat_shell</em> = <em>equat_core</em> + <em>T_shell</em></p>
<p><em>polar_shell</em> = <em>equat_core</em> * <em>X_core</em> + <em>T_shell</em> * <em>XpolarShell</em></p>
<p>(where we note that &#8220;shell&#8221; perhaps confusingly, relates to the outer radius)</p>
</div></blockquote>
<p>When <em>X_core</em> &lt; 1 the core is oblate; when <em>X_core</em> &gt; 1  it is prolate. <em>X_core</em> = 1 is a spherical core.</p>
<p>For a fixed shell thickness <em>XpolarShell</em> = 1, to scale the shell thickness pro-rata with the radius
<em>XpolarShell</em> = <em>X_core</em>.</p>
<p>When including an <em>S(q)</em>, the radius in <em>S(q)</em> is calculated to be that of a sphere with the same 2nd virial
coefficient of the <strong>outer</strong> surface of the ellipsoid. This may have some undesirable effects if the aspect ratio of
the ellipsoid is large (ie, if <em>X</em> &lt;&lt; 1 or <em>X</em> &gt;&gt; 1), when the <em>S(q)</em> - which assumes spheres - will not in any case
be valid.</p>
<p>If SAS data are in absolute units, and the SLDs are correct, then <em>scale</em> should be the total volume fraction of the
&#8220;outer particle&#8221;. When <em>S(q)</em> is introduced this moves to the <em>S(q)</em> volume fraction, and <em>scale</em> should then be 1.0,
or contain some other units conversion factor (for example, if you have SAXS data).</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.001</td>
</tr>
<tr class="row-odd"><td>equat_core</td>
<td>Å</td>
<td>20</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>0.05</td>
</tr>
<tr class="row-odd"><td>sld_core</td>
<td>Å<sup>-2</sup></td>
<td>2.0e-6</td>
</tr>
<tr class="row-even"><td>sld_shell</td>
<td>Å<sup>-2</sup></td>
<td>1.0e-6</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-even"><td>T_shell</td>
<td>Å</td>
<td>30</td>
</tr>
<tr class="row-odd"><td>X_core</td>
<td>None</td>
<td>3.0</td>
</tr>
<tr class="row-even"><td>XpolarShell</td>
<td>None</td>
<td>1.0</td>
</tr>
</tbody>
</table>
<p>REFERENCE</p>
<p>R K Heenan, Private communication</p>
<p id="triaxialellipsoidmodel"><strong>2.1.28. TriaxialEllipsoidModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for an ellipsoid (below) where all three axes are of different lengths,
i.e., <em>Ra</em> =&lt; <em>Rb</em> =&lt; <em>Rc</em>. <strong>Users should maintain this inequality for all calculations</strong>.</p>
<p><em>P(q)</em> = <em>scale</em> * &lt;<em>f</em><sup>2</sup>&gt; / <em>V</em> + <em>background</em></p>
<p>where the volume <em>V</em> = (4/3)π (<em>Ra</em> <em>Rb</em> <em>Rc</em>), and the averaging &lt; &gt; is applied over all orientations for 1D.</p>
<img alt="../../_images/image128.jpg" src="../../_images/image128.jpg" />
<p>The returned value is in units of cm<sup>-1</sup>, on absolute scale.</p>
<p><em>2.1.28.1. Definition</em></p>
<p>The form factor calculated is</p>
<img alt="../../_images/image129.PNG" src="../../_images/image129.PNG" />
<p>To provide easy access to the orientation of the triaxial ellipsoid, we define the axis of the cylinder using the
angles θ, φ and Ψ. These angles are defined on Figure 2 of the <a class="reference internal" href="#cylindermodel">CylinderModel</a>. The angle Ψ is
the rotational angle around its own <em>semi_axisC</em> axis against the <em>q</em> plane. For example, Ψ = 0 when the
<em>semi_axisA</em> axis is parallel to the <em>x</em>-axis of the detector.</p>
<p>The radius-of-gyration for this system is <em>Rg</em><sup>2</sup> = (<em>Ra</em><sup>2</sup> <em>Rb</em><sup>2</sup> <em>Rc</em><sup>2</sup>)/5.</p>
<p>The contrast is defined as SLD(ellipsoid) - SLD(solvent). In the parameters, <em>semi_axisA</em> = <em>Ra</em> (or minor equatorial
radius), <em>semi_axisB</em> = <em>Rb</em> (or major equatorial radius), and <em>semi_axisC</em> = <em>Rc</em> (or polar radius of the ellipsoid).</p>
<p>NB: The 2nd virial coefficient of the triaxial solid ellipsoid is calculated based on the
<em>radius_a</em> (= <em>semi_axisC</em>) and <em>radius_b</em> (= sqrt(<em>semi_axisA</em> * <em>semi_axisB</em>)) values, and used as the effective
radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>semi_axisA</td>
<td>Å</td>
<td>35</td>
</tr>
<tr class="row-even"><td>semi_axisB</td>
<td>Å</td>
<td>100</td>
</tr>
<tr class="row-odd"><td>semi_axisC</td>
<td>Å</td>
<td>400</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>sldEll</td>
<td>Å<sup>-2</sup></td>
<td>1.0e-06</td>
</tr>
<tr class="row-even"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-06</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image130.jpg" src="../../_images/image130.jpg" />
<p><em>Figure. 1D plot using the default values (w/1000 data point).</em></p>
<p><em>2.1.28.2.Validation of the TriaxialEllipsoidModel</em></p>
<p>Validation of our code was done by comparing the output of the 1D calculation to the angular average of the output of
2D calculation over all possible angles. The Figure below shows the comparison where the solid dot refers to averaged
2D while the line represents the result of 1D calculation (for 2D averaging, 76, 180, and 76 points are taken for the
angles of θ, φ, and ψ respectively).</p>
<img alt="../../_images/image131.gif" src="../../_images/image131.gif" />
<p><em>Figure. Comparison between 1D and averaged 2D.</em></p>
<img alt="../../_images/image132.jpg" src="../../_images/image132.jpg" />
<p><em>Figure. The angles for oriented ellipsoid.</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006)</p>
<p>REFERENCE</p>
<p>L A Feigin and D I Svergun, <em>Structure Analysis by Small-Angle X-Ray and Neutron Scattering</em>, Plenum,
New York, 1987.</p>
<p id="lamellarmodel"><strong>2.1.29. LamellarModel</strong></p>
<p>This model provides the scattering intensity, <em>I(q)</em>, for a lyotropic lamellar phase where a uniform SLD and random
distribution in solution are assumed. Polydispersity in the bilayer thickness can be applied from the GUI.</p>
<p><em>2.1.29.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is</p>
<img alt="../../_images/image133.PNG" src="../../_images/image133.PNG" />
<p>The form factor is</p>
<img alt="../../_images/image134.PNG" src="../../_images/image134.PNG" />
<p>where δ = bilayer thickness.</p>
<p>The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<p>The returned value is in units of cm<sup>-1</sup>, on absolute scale. In the parameters, <em>sld_bi</em> = SLD of the bilayer,
<em>sld_sol</em> = SLD of the solvent, and <em>bi_thick</em> = thickness of the bilayer.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>sld_bi</td>
<td>Å<sup>-2</sup></td>
<td>1e-06</td>
</tr>
<tr class="row-even"><td>bi_thick</td>
<td>Å</td>
<td>50</td>
</tr>
<tr class="row-odd"><td>sld_sol</td>
<td>Å<sup>-2</sup></td>
<td>6e-06</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image135.jpg" src="../../_images/image135.jpg" />
<p><em>Figure. 1D plot using the default values (w/1000 data point).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006).</p>
<p>REFERENCE</p>
<p>F Nallet, R Laversanne, and D Roux, J. Phys. II France, 3, (1993) 487-502</p>
<p>also in J. Phys. Chem. B, 105, (2001) 11081-11088</p>
<p id="lamellarffhgmodel"><strong>2.1.30. LamellarFFHGModel</strong></p>
<p>This model provides the scattering intensity, <em>I(q)</em>, for a lyotropic lamellar phase where a random distribution in
solution are assumed. The SLD of the head region is taken to be different from the SLD of the tail region.</p>
<p><em>2.1.31.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is</p>
<img alt="../../_images/image136.PNG" src="../../_images/image136.PNG" />
<p>The form factor is</p>
<img alt="../../_images/image137.jpg" src="../../_images/image137.jpg" />
<p>where δT = tail length (or <em>t_length</em>), δH = head thickness (or <em>h_thickness</em>),
ΔρH = SLD(headgroup) - SLD(solvent), and ΔρT = SLD(tail) - SLD(solvent). The total thickness is 2(H+T).</p>
<p>The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<p>The returned value is in units of cm<sup>-1</sup>, on absolute scale. In the parameters, <em>sld_tail</em> = SLD of the tail group,
and <em>sld_head</em> = SLD of the head group.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>sld_head</td>
<td>Å<sup>-2</sup></td>
<td>3e-06</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>sld_solvent</td>
<td>Å<sup>-2</sup></td>
<td>6e-06</td>
</tr>
<tr class="row-even"><td>h_thickness</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>t_length</td>
<td>Å</td>
<td>15</td>
</tr>
<tr class="row-even"><td>sld_tail</td>
<td>Å<sup>-2</sup></td>
<td>0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image138.jpg" src="../../_images/image138.jpg" />
<p><em>Figure. 1D plot using the default values (w/1000 data point).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006).</p>
<p>REFERENCE</p>
<p>F Nallet, R Laversanne, and D Roux, J. Phys. II France, 3, (1993) 487-502</p>
<p>also in J. Phys. Chem. B, 105, (2001) 11081-11088</p>
<p><em>2014/04/17 - Description reviewed by S King and P Butler.</em></p>
<p id="lamellarpsmodel"><strong>2.1.31. LamellarPSModel</strong></p>
<p>This model provides the scattering intensity, <em>I(q)</em> = <em>P(q)</em> * <em>S(q)</em>, for a lyotropic lamellar phase where a random
distribution in solution are assumed.</p>
<p><em>2.1.31.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is</p>
<img alt="../../_images/image139.PNG" src="../../_images/image139.PNG" />
<p>The form factor is</p>
<img alt="../../_images/image134.PNG" src="../../_images/image134.PNG" />
<p>and the structure factor is</p>
<img alt="../../_images/image140.PNG" src="../../_images/image140.PNG" />
<p>where</p>
<img alt="../../_images/image141.PNG" src="../../_images/image141.PNG" />
<p>Here <em>d</em> = (repeat) spacing, δ = bilayer thickness, the contrast Δρ = SLD(headgroup) - SLD(solvent),
K = smectic bending elasticity, B = compression modulus, and N = number of lamellar plates (<em>n_plates</em>).</p>
<p>NB: <strong>When the Caille parameter is greater than approximately 0.8 to 1.0, the assumptions of the model are incorrect.</strong>
And due to a complication of the model function, users are responsible for making sure that all the assumptions are
handled accurately (see the original reference below for more details).</p>
<p>The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<p>The returned value is in units of cm<sup>-1</sup>, on absolute scale.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>contrast</td>
<td>Å<sup>-2</sup></td>
<td>5e-06</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>delta</td>
<td>Å</td>
<td>30</td>
</tr>
<tr class="row-even"><td>n_plates</td>
<td>None</td>
<td>20</td>
</tr>
<tr class="row-odd"><td>spacing</td>
<td>Å</td>
<td>400</td>
</tr>
<tr class="row-even"><td>caille</td>
<td>Å<sup>-2</sup></td>
<td>0.1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image142.jpg" src="../../_images/image142.jpg" />
<p><em>Figure. 1D plot using the default values (w/6000 data point).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006).</p>
<p>REFERENCE</p>
<p>F Nallet, R Laversanne, and D Roux, J. Phys. II France, 3, (1993) 487-502</p>
<p>also in J. Phys. Chem. B, 105, (2001) 11081-11088</p>
<p id="lamellarpshgmodel"><strong>2.1.32. LamellarPSHGModel</strong></p>
<p>This model provides the scattering intensity, <em>I(q)</em> = <em>P(q)</em> * <em>S(q)</em>, for a lyotropic lamellar phase where a random
distribution in solution are assumed. The SLD of the head region is taken to be different from the SLD of the tail
region.</p>
<p><em>2.1.32.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is</p>
<img alt="../../_images/image139.PNG" src="../../_images/image139.PNG" />
<p>The form factor is</p>
<img alt="../../_images/image143.PNG" src="../../_images/image143.PNG" />
<p>The structure factor is</p>
<img alt="../../_images/image140.PNG" src="../../_images/image140.PNG" />
<p>where</p>
<img alt="../../_images/image141.PNG" src="../../_images/image141.PNG" />
<p>where δT = tail length (or <em>t_length</em>), δH = head thickness (or <em>h_thickness</em>),
ΔρH = SLD(headgroup) - SLD(solvent), and ΔρT = SLD(tail) - SLD(headgroup).
Here <em>d</em> = (repeat) spacing, <em>K</em> = smectic bending elasticity, <em>B</em> = compression modulus, and N = number of lamellar
plates (<em>n_plates</em>).</p>
<p>NB: <strong>When the Caille parameter is greater than approximately 0.8 to 1.0, the assumptions of the model are incorrect.</strong>
And due to a complication of the model function, users are responsible for making sure that all the assumptions are
handled accurately (see the original reference below for more details).</p>
<p>The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<p>The returned value is in units of cm<sup>-1</sup>, on absolute scale. In the parameters, <em>sld_tail</em> = SLD of the tail group,
<em>sld_head</em> = SLD of the head group, and <em>sld_solvent</em> = SLD of the solvent.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.001</td>
</tr>
<tr class="row-odd"><td>sld_head</td>
<td>Å<sup>-2</sup></td>
<td>2e-06</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>sld_solvent</td>
<td>Å<sup>-2</sup></td>
<td>6e-06</td>
</tr>
<tr class="row-even"><td>deltaH</td>
<td>Å</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>deltaT</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-even"><td>sld_tail</td>
<td>Å<sup>-2</sup></td>
<td>0</td>
</tr>
<tr class="row-odd"><td>n_plates</td>
<td>None</td>
<td>30</td>
</tr>
<tr class="row-even"><td>spacing</td>
<td>Å</td>
<td>40</td>
</tr>
<tr class="row-odd"><td>caille</td>
<td>Å<sup>-2</sup></td>
<td>0.001</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image144.jpg" src="../../_images/image144.jpg" />
<p><em>Figure. 1D plot using the default values (w/6000 data point).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006).</p>
<p>REFERENCE</p>
<p>F Nallet, R Laversanne, and D Roux, J. Phys. II France, 3, (1993) 487-502</p>
<p>also in J. Phys. Chem. B, 105, (2001) 11081-11088</p>
<p id="lamellarpcrystalmodel"><strong>2.1.33. LamellarPCrystalModel</strong></p>
<p>This model calculates the scattering from a stack of repeating lamellar structures. The stacks of lamellae (infinite
in lateral dimension) are treated as a paracrystal to account for the repeating spacing. The repeat distance is further
characterized by a Gaussian polydispersity. <strong>This model can be used for large multilamellar vesicles.</strong></p>
<p><em>2.1.33.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image145.jpg" src="../../_images/image145.jpg" />
<p>The form factor of the bilayer is approximated as the cross section of an infinite, planar bilayer of thickness <em>t</em></p>
<img alt="../../_images/image146.jpg" src="../../_images/image146.jpg" />
<p>Here, the scale factor is used instead of the mass per area of the bilayer (<em>G</em>). The scale factor is the volume
fraction of the material in the bilayer, <em>not</em> the total excluded volume of the paracrystal. <em>Z</em><sub>N</sub><em>(q)</em>
describes the interference effects for aggregates consisting of more than one bilayer. The equations used are (3-5)
from the Bergstrom reference below.</p>
<p>Non-integer numbers of stacks are calculated as a linear combination of the lower and higher values</p>
<img alt="../../_images/image147.jpg" src="../../_images/image147.jpg" />
<p>The 2D scattering intensity is the same as 1D, regardless of the orientation of the <em>q</em> vector which is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<p>The parameters of the model are <em>Nlayers</em> = no. of layers, and <em>pd_spacing</em> = polydispersity of spacing.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
<tr class="row-odd"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-even"><td>Nlayers</td>
<td>None</td>
<td>20</td>
</tr>
<tr class="row-odd"><td>pd_spacing</td>
<td>None</td>
<td>0.2</td>
</tr>
<tr class="row-even"><td>sld_layer</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-odd"><td>sld_solvent</td>
<td>Å<sup>-2</sup></td>
<td>6.34e-6</td>
</tr>
<tr class="row-even"><td>spacing</td>
<td>Å</td>
<td>250</td>
</tr>
<tr class="row-odd"><td>thickness</td>
<td>Å</td>
<td>33</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image148.jpg" src="../../_images/image148.jpg" />
<p><em>Figure. 1D plot using the default values above (w/20000 data point).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006).</p>
<p>REFERENCE</p>
<p>M Bergstrom, J S Pedersen, P Schurtenberger, S U Egelhaaf, <em>J. Phys. Chem. B</em>, 103 (1999) 9888-9897</p>
<p id="sccrystalmodel"><strong>2.1.34. SCCrystalModel</strong></p>
<p>Calculates the scattering from a <strong>simple cubic lattice</strong> with paracrystalline distortion. Thermal vibrations are
considered to be negligible, and the size of the paracrystal is infinitely large. Paracrystalline distortion is assumed
to be isotropic and characterized by a Gaussian distribution.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>sr<sup>-1</sup>, absolute scale.</p>
<p><em>2.1.34.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image149.jpg" src="../../_images/image149.jpg" />
<p>where <em>scale</em> is the volume fraction of spheres, <em>Vp</em> is the volume of the primary particle, <em>V(lattice)</em> is a volume
correction for the crystal structure, <em>P(q)</em> is the form factor of the sphere (normalized), and <em>Z(q)</em> is the
paracrystalline structure factor for a simple cubic structure.</p>
<p>Equation (16) of the 1987 reference is used to calculate <em>Z(q)</em>, using equations (13)-(15) from the 1987 paper for
<em>Z1</em>, <em>Z2</em>, and <em>Z3</em>.</p>
<p>The lattice correction (the occupied volume of the lattice) for a simple cubic structure of particles of radius <em>R</em>
and nearest neighbor separation <em>D</em> is</p>
<img alt="../../_images/image150.jpg" src="../../_images/image150.jpg" />
<p>The distortion factor (one standard deviation) of the paracrystal is included in the calculation of <em>Z(q)</em></p>
<img alt="../../_images/image151.jpg" src="../../_images/image151.jpg" />
<p>where <em>g</em> is a fractional distortion based on the nearest neighbor distance.</p>
<p>The simple cubic lattice is</p>
<img alt="../../_images/image152.jpg" src="../../_images/image152.jpg" />
<p>For a crystal, diffraction peaks appear at reduced <em>q</em>-values given by</p>
<img alt="../../_images/image153.jpg" src="../../_images/image153.jpg" />
<p>where for a simple cubic lattice any <em>h</em>, <em>k</em>, <em>l</em> are allowed and none are forbidden. Thus the peak positions
correspond to (just the first 5)</p>
<img alt="../../_images/image154.jpg" src="../../_images/image154.jpg" />
<p><strong>NB: The calculation of</strong> <em>Z(q)</em> <strong>is a double numerical integral that must be carried out with a high density of</strong>
<strong>points to properly capture the sharp peaks of the paracrystalline scattering.</strong> So be warned that the calculation is
SLOW. Go get some coffee. Fitting of any experimental data must be resolution smeared for any meaningful fit. This
makes a triple integral. Very, very slow. Go get lunch!</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
<tr class="row-odd"><td>dnn</td>
<td>Å</td>
<td>220</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-06</td>
</tr>
<tr class="row-even"><td>radius</td>
<td>Å</td>
<td>40</td>
</tr>
<tr class="row-odd"><td>sld_Sph</td>
<td>Å<sup>-2</sup></td>
<td>3e-06</td>
</tr>
<tr class="row-even"><td>d_factor</td>
<td>None</td>
<td>0.06</td>
</tr>
</tbody>
</table>
<p>This example dataset is produced using 200 data points, <em>qmin</em> = 0.01 Å<sup>-1</sup>, <em>qmax</em> = 0.1 Å<sup>-1</sup> and the above
default values.</p>
<img alt="../../_images/image155.jpg" src="../../_images/image155.jpg" />
<p><em>Figure. 1D plot in the linear scale using the default values (w/200 data point).</em></p>
<p>The 2D (Anisotropic model) is based on the reference below where <em>I(q)</em> is approximated for 1d scattering. Thus the
scattering pattern for 2D may not be accurate. Note that we are not responsible for any incorrectness of the 2D model
computation.</p>
<img alt="../../_images/image156.jpg" src="../../_images/image156.jpg" />
<img alt="../../_images/image157.jpg" src="../../_images/image157.jpg" />
<p><em>Figure. 2D plot using the default values (w/200X200 pixels).</em></p>
<p>REFERENCE</p>
<p>Hideki Matsuoka et. al. <em>Physical Review B</em>, 36 (1987) 1754-1765
(Original Paper)</p>
<p>Hideki Matsuoka et. al. <em>Physical Review B</em>, 41 (1990) 3854 -3856
(Corrections to FCC and BCC lattice structure calculation)</p>
<p id="fccrystalmodel"><strong>2.1.35. FCCrystalModel</strong></p>
<p>Calculates the scattering from a <strong>face-centered cubic lattice</strong> with paracrystalline distortion. Thermal vibrations
are considered to be negligible, and the size of the paracrystal is infinitely large. Paracrystalline distortion is
assumed to be isotropic and characterized by a Gaussian distribution.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>sr<sup>-1</sup>, absolute scale.</p>
<p><em>2.1.35.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image158.jpg" src="../../_images/image158.jpg" />
<p>where <em>scale</em> is the volume fraction of spheres, <em>Vp</em> is the volume of the primary particle, <em>V(lattice)</em> is a volume
correction for the crystal structure, <em>P(q)</em> is the form factor of the sphere (normalized), and <em>Z(q)</em> is the
paracrystalline structure factor for a face-centered cubic structure.</p>
<p>Equation (1) of the 1990 reference is used to calculate <em>Z(q)</em>, using equations (23)-(25) from the 1987 paper for
<em>Z1</em>, <em>Z2</em>, and <em>Z3</em>.</p>
<p>The lattice correction (the occupied volume of the lattice) for a face-centered cubic structure of particles of radius
<em>R</em> and nearest neighbor separation <em>D</em> is</p>
<img alt="../../_images/image159.jpg" src="../../_images/image159.jpg" />
<p>The distortion factor (one standard deviation) of the paracrystal is included in the calculation of <em>Z(q)</em></p>
<img alt="../../_images/image160.jpg" src="../../_images/image160.jpg" />
<p>where <em>g</em> is a fractional distortion based on the nearest neighbor distance.</p>
<p>The face-centered cubic lattice is</p>
<img alt="../../_images/image161.jpg" src="../../_images/image161.jpg" />
<p>For a crystal, diffraction peaks appear at reduced q-values given by</p>
<img alt="../../_images/image162.jpg" src="../../_images/image162.jpg" />
<p>where for a face-centered cubic lattice <em>h</em>, <em>k</em>, <em>l</em> all odd or all even are allowed and reflections where
<em>h</em>, <em>k</em>, <em>l</em> are mixed odd/even are forbidden. Thus the peak positions correspond to (just the first 5)</p>
<img alt="../../_images/image163.jpg" src="../../_images/image163.jpg" />
<p><strong>NB: The calculation of</strong> <em>Z(q)</em> <strong>is a double numerical integral that must be carried out with a high density of</strong>
<strong>points to properly capture the sharp peaks of the paracrystalline scattering.</strong> So be warned that the calculation is
SLOW. Go get some coffee. Fitting of any experimental data must be resolution smeared for any meaningful fit. This
makes a triple integral. Very, very slow. Go get lunch!</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
<tr class="row-odd"><td>dnn</td>
<td>Å</td>
<td>220</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-06</td>
</tr>
<tr class="row-even"><td>radius</td>
<td>Å</td>
<td>40</td>
</tr>
<tr class="row-odd"><td>sld_Sph</td>
<td>Å<sup>-2</sup></td>
<td>3e-06</td>
</tr>
<tr class="row-even"><td>d_factor</td>
<td>None</td>
<td>0.06</td>
</tr>
</tbody>
</table>
<p>This example dataset is produced using 200 data points, <em>qmin</em> = 0.01 Å<sup>-1</sup>, <em>qmax</em> = 0.1 Å<sup>-1</sup> and the above
default values.</p>
<img alt="../../_images/image164.jpg" src="../../_images/image164.jpg" />
<p><em>Figure. 1D plot in the linear scale using the default values (w/200 data point).</em></p>
<p>The 2D (Anisotropic model) is based on the reference below where <em>I(q)</em> is approximated for 1d scattering. Thus the
scattering pattern for 2D may not be accurate. Note that we are not responsible for any incorrectness of the 2D model
computation.</p>
<img alt="../../_images/image165.gif" src="../../_images/image165.gif" />
<img alt="../../_images/image166.jpg" src="../../_images/image166.jpg" />
<p><em>Figure. 2D plot using the default values (w/200X200 pixels).</em></p>
<p>REFERENCE</p>
<p>Hideki Matsuoka et. al. <em>Physical Review B</em>, 36 (1987) 1754-1765
(Original Paper)</p>
<p>Hideki Matsuoka et. al. <em>Physical Review B</em>, 41 (1990) 3854 -3856
(Corrections to FCC and BCC lattice structure calculation)</p>
<p id="bccrystalmodel"><strong>2.1.36. BCCrystalModel</strong></p>
<p>Calculates the scattering from a <strong>body-centered cubic lattice</strong> with paracrystalline distortion. Thermal vibrations
are considered to be negligible, and the size of the paracrystal is infinitely large. Paracrystalline distortion is
assumed to be isotropic and characterized by a Gaussian distribution.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>sr<sup>-1</sup>, absolute scale.</p>
<p><em>2.1.36.1. Definition*</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image167.jpg" src="../../_images/image167.jpg" />
<p>where <em>scale</em> is the volume fraction of spheres, <em>Vp</em> is the volume of the primary particle, <em>V(lattice)</em> is a volume
correction for the crystal structure, <em>P(q)</em> is the form factor of the sphere (normalized), and <em>Z(q)</em> is the
paracrystalline structure factor for a body-centered cubic structure.</p>
<p>Equation (1) of the 1990 reference is used to calculate <em>Z(q)</em>, using equations (29)-(31) from the 1987 paper for
<em>Z1</em>, <em>Z2</em>, and <em>Z3</em>.</p>
<p>The lattice correction (the occupied volume of the lattice) for a body-centered cubic structure of particles of radius
<em>R</em> and nearest neighbor separation <em>D</em> is</p>
<img alt="../../_images/image159.jpg" src="../../_images/image159.jpg" />
<p>The distortion factor (one standard deviation) of the paracrystal is included in the calculation of <em>Z(q)</em></p>
<img alt="../../_images/image160.jpg" src="../../_images/image160.jpg" />
<p>where <em>g</em> is a fractional distortion based on the nearest neighbor distance.</p>
<p>The body-centered cubic lattice is</p>
<img alt="../../_images/image168.jpg" src="../../_images/image168.jpg" />
<p>For a crystal, diffraction peaks appear at reduced q-values given by</p>
<img alt="../../_images/image162.jpg" src="../../_images/image162.jpg" />
<p>where for a body-centered cubic lattice, only reflections where (<em>h</em> + <em>k</em> + <em>l</em>) = even are allowed and
reflections where (<em>h</em> + <em>k</em> + <em>l</em>) = odd are forbidden. Thus the peak positions correspond to (just the first 5)</p>
<img alt="../../_images/image169.jpg" src="../../_images/image169.jpg" />
<p><strong>NB: The calculation of</strong> <em>Z(q)</em> <strong>is a double numerical integral that must be carried out with a high density of</strong>
<strong>points to properly capture the sharp peaks of the paracrystalline scattering.</strong> So be warned that the calculation is
SLOW. Go get some coffee. Fitting of any experimental data must be resolution smeared for any meaningful fit. This
makes a triple integral. Very, very slow. Go get lunch!</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
<tr class="row-odd"><td>dnn</td>
<td>Å</td>
<td>220</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-006</td>
</tr>
<tr class="row-even"><td>radius</td>
<td>Å</td>
<td>40</td>
</tr>
<tr class="row-odd"><td>sld_Sph</td>
<td>Å<sup>-2</sup></td>
<td>3e-006</td>
</tr>
<tr class="row-even"><td>d_factor</td>
<td>None</td>
<td>0.06</td>
</tr>
</tbody>
</table>
<p>This example dataset is produced using 200 data points, <em>qmin</em> = 0.001 Å<sup>-1</sup>, <em>qmax</em> = 0.1 Å<sup>-1</sup> and the above
default values.</p>
<img alt="../../_images/image170.jpg" src="../../_images/image170.jpg" />
<p><em>Figure. 1D plot in the linear scale using the default values (w/200 data point).</em></p>
<p>The 2D (Anisotropic model) is based on the reference below where <em>I(q)</em> is approximated for 1d scattering. Thus the
scattering pattern for 2D may not be accurate. Note that we are not responsible for any incorrectness of the 2D model
computation.</p>
<img alt="../../_images/image165.gif" src="../../_images/image165.gif" />
<img alt="../../_images/image171.jpg" src="../../_images/image171.jpg" />
<p><em>Figure. 2D plot using the default values (w/200X200 pixels).</em></p>
<p>REFERENCE</p>
<p>Hideki Matsuoka et. al. <em>Physical Review B</em>, 36 (1987) 1754-1765
(Original Paper)</p>
<p>Hideki Matsuoka et. al. <em>Physical Review B</em>, 41 (1990) 3854 -3856
(Corrections to FCC and BCC lattice structure calculation)</p>
<p id="parallelepipedmodel"><strong>2.1.37. ParallelepipedModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a rectangular cylinder (below) where the form factor is normalized by
the volume of the cylinder. If you need to apply polydispersity, see the <a class="reference internal" href="#rectangularprismmodel">RectangularPrismModel</a>.</p>
<p><em>P(q)</em> = <em>scale</em> * &lt;<em>f</em><sup>2</sup>&gt; / <em>V</em> + <em>background</em></p>
<p>where the volume <em>V</em> = <em>A B C</em> and the averaging &lt; &gt; is applied over all orientations for 1D.</p>
<p>For information about polarised and magnetic scattering, click <a class="reference external" href="polar_mag_help.html">here</a>.</p>
<img alt="../../_images/image087.jpg" src="../../_images/image087.jpg" />
<p><em>2.1.37.1. Definition</em></p>
<p><strong>The edge of the solid must satisfy the condition that</strong> <em>A</em> &lt; <em>B</em>. Then, assuming <em>a</em> = <em>A</em> / <em>B</em> &lt; 1,
<em>b</em> = <em>B</em> / <em>B</em> = 1, and <em>c</em> = <em>C</em> / <em>B</em> &gt; 1, the form factor is</p>
<img alt="../../_images/image088.PNG" src="../../_images/image088.PNG" />
<p>and the contrast is defined as</p>
<img alt="../../_images/image089.PNG" src="../../_images/image089.PNG" />
<p>The scattering intensity per unit volume is returned in units of cm<sup>-1</sup>; ie, <em>I(q)</em> = φ <em>P(q)</em>.</p>
<p>NB: The 2nd virial coefficient of the parallelpiped is calculated based on the the averaged effective radius
(= sqrt(<em>short_a</em> * <em>short_b</em> / π)) and length(= <em>long_c</em>) values, and used as the effective radius for
<em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>To provide easy access to the orientation of the parallelepiped, we define the axis of the cylinder using three angles
θ, φ and Ψ. These angles are defined on Figure 2 of the <a class="reference internal" href="#cylindermodel">CylinderModel</a>. The angle Ψ is the
rotational angle around the <em>long_c</em> axis against the <em>q</em> plane. For example, Ψ = 0 when the <em>short_b</em> axis is
parallel to the <em>x</em>-axis of the detector.</p>
<img alt="../../_images/image090.jpg" src="../../_images/image090.jpg" />
<p><em>Figure. Definition of angles for 2D</em>.</p>
<img alt="../../_images/image091.jpg" src="../../_images/image091.jpg" />
<p><em>Figure. Examples of the angles for oriented pp against the detector plane.</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>contrast</td>
<td>Å<sup>-2</sup></td>
<td>5e-06</td>
</tr>
<tr class="row-even"><td>long_c</td>
<td>Å</td>
<td>400</td>
</tr>
<tr class="row-odd"><td>short_a</td>
<td>Å<sup>-2</sup></td>
<td>35</td>
</tr>
<tr class="row-even"><td>short_b</td>
<td>Å</td>
<td>75</td>
</tr>
<tr class="row-odd"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image092.jpg" src="../../_images/image092.jpg" />
<p><em>Figure. 1D plot using the default values (w/1000 data point).</em></p>
<p><em>2.1.37.2. Validation of the parallelepiped 2D model</em></p>
<p>Validation of our code was done by comparing the output of the 1D calculation to the angular average of the output of
a 2D calculation over all possible angles. The Figure below shows the comparison where the solid dot refers to averaged
2D while the line represents the result of the 1D calculation (for the averaging, 76, 180, 76 points are taken for the
angles of θ, φ, and ψ respectively).</p>
<img alt="../../_images/image093.gif" src="../../_images/image093.gif" />
<p><em>Figure. Comparison between 1D and averaged 2D.</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006).</p>
<p>REFERENCE</p>
<p>P Mittelbach and G Porod, <em>Acta Physica Austriaca</em>, 14 (1961) 185-211
Equations (1), (13-14). (in German)</p>
<p id="csparallelepipedmodel"><strong>2.1.38. CSParallelepipedModel</strong></p>
<p>Calculates the form factor for a rectangular solid with a core-shell structure. <strong>The thickness and the scattering</strong>
<strong>length density of the shell or &#8220;rim&#8221; can be different on all three (pairs) of faces.</strong></p>
<p>The form factor is normalized by the particle volume <em>V</em> such that</p>
<p><em>P(q)</em> = <em>scale</em> * &lt;<em>f</em><sup>2</sup>&gt; / <em>V</em> + <em>background</em></p>
<p>where &lt; &gt; is an average over all possible orientations of the rectangular solid.</p>
<p>An instrument resolution smeared version of the model is also provided.</p>
<p><em>2.1.38.1. Definition</em></p>
<p>The function calculated is the form factor of the rectangular solid below. The core of the solid is defined by the
dimensions <em>A</em>, <em>B</em>, <em>C</em> such that <em>A</em> &lt; <em>B</em> &lt; <em>C</em>.</p>
<img alt="../../_images/image087.jpg" src="../../_images/image087.jpg" />
<p>There are rectangular &#8220;slabs&#8221; of thickness <em>tA</em> that add to the <em>A</em> dimension (on the <em>BC</em> faces). There are similar
slabs on the <em>AC</em> (= <em>tB</em>) and <em>AB</em> (= <em>tC</em>) faces. The projection in the <em>AB</em> plane is then</p>
<img alt="../../_images/image094.jpg" src="../../_images/image094.jpg" />
<p>The volume of the solid is</p>
<img alt="../../_images/image095.PNG" src="../../_images/image095.PNG" />
<p><strong>meaning that there are &#8220;gaps&#8221; at the corners of the solid.</strong></p>
<p>The intensity calculated follows the <a class="reference internal" href="#parallelepipedmodel">ParallelepipedModel</a>, with the core-shell intensity being calculated as the
square of the sum of the amplitudes of the core and shell, in the same manner as a <a class="reference internal" href="#coreshellmodel">CoreShellModel</a>.</p>
<p><strong>For the calculation of the form factor to be valid, the sides of the solid MUST be chosen such that</strong> <em>A</em> &lt; <em>B</em> &lt; <em>C</em>.
<strong>If this inequality is not satisfied, the model will not report an error, and the calculation will not be correct.</strong></p>
<p>FITTING NOTES
If the scale is set equal to the particle volume fraction, φ, the returned value is the scattered intensity per
unit volume; ie, <em>I(q)</em> = φ <em>P(q)</em>. However, <strong>no interparticle interference effects are included in this</strong>
<strong>calculation.</strong></p>
<p>There are many parameters in this model. Hold as many fixed as possible with known values, or you will certainly end
up at a solution that is unphysical.</p>
<p>Constraints must be applied during fitting to ensure that the inequality <em>A</em> &lt; <em>B</em> &lt; <em>C</em> is not violated. The
calculation will not report an error, but the results will not be correct.</p>
<p>The returned value is in units of cm<sup>-1</sup>, on absolute scale.</p>
<p>NB: The 2nd virial coefficient of the CSParallelpiped is calculated based on the the averaged effective radius
(= sqrt((<em>short_a</em> + 2 <em>rim_a</em>) * (<em>short_b</em> + 2 <em>rim_b</em>) / π)) and length(= <em>long_c</em> + 2 <em>rim_c</em>) values, and
used as the effective radius for <em>S(Q)</em> when <em>P(Q)</em> * <em>S(Q)</em> is applied.</p>
<p>To provide easy access to the orientation of the parallelepiped, we define the axis of the cylinder using three angles
θ, φ and Ψ. These angles are defined on Figure 2 of the <a class="reference internal" href="#cylindermodel">CylinderModel</a>. The angle Ψ is the
rotational angle around the <em>long_c</em> axis against the <em>q</em> plane. For example, Ψ = 0 when the <em>short_b</em> axis is
parallel to the <em>x</em>-axis of the detector.</p>
<img alt="../../_images/image090.jpg" src="../../_images/image090.jpg" />
<p><em>Figure. Definition of angles for 2D</em>.</p>
<img alt="../../_images/image091.jpg" src="../../_images/image091.jpg" />
<p><em>Figure. Examples of the angles for oriented cspp against the detector plane.</em></p>
<p>This example dataset was produced by running the Macro Plot_CSParallelepiped(), using 100 data points,
<em>qmin</em> = 0.001 Å<sup>-1</sup>, <em>qmax</em> = 0.7 Å<sup>-1</sup> and the default values</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.06</td>
</tr>
<tr class="row-odd"><td>sld_pcore</td>
<td>Å<sup>-2</sup></td>
<td>1e-06</td>
</tr>
<tr class="row-even"><td>sld_rimA</td>
<td>Å<sup>-2</sup></td>
<td>2e-06</td>
</tr>
<tr class="row-odd"><td>sld_rimB</td>
<td>Å<sup>-2</sup></td>
<td>4e-06</td>
</tr>
<tr class="row-even"><td>sld_rimC</td>
<td>Å<sup>-2</sup></td>
<td>2e-06</td>
</tr>
<tr class="row-odd"><td>sld_solv</td>
<td>Å<sup>-2</sup></td>
<td>6e-06</td>
</tr>
<tr class="row-even"><td>rimA</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>rimB</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-even"><td>rimC</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>longC</td>
<td>Å</td>
<td>400</td>
</tr>
<tr class="row-even"><td>shortA</td>
<td>Å</td>
<td>35</td>
</tr>
<tr class="row-odd"><td>midB</td>
<td>Å</td>
<td>75</td>
</tr>
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image096.jpg" src="../../_images/image096.jpg" />
<p><em>Figure. 1D plot using the default values (w/256 data points).</em></p>
<img alt="../../_images/image097.jpg" src="../../_images/image097.jpg" />
<p><em>Figure. 2D plot using the default values (w/(256X265) data points).</em></p>
<p>Our model uses the form factor calculations implemented in a c-library provided by the NIST Center for Neutron Research
(Kline, 2006).</p>
<p>REFERENCE</p>
<p>P Mittelbach and G Porod, <em>Acta Physica Austriaca</em>, 14 (1961) 185-211
Equations (1), (13-14). (in German)</p>
<p id="rectangularprismmodel"><strong>2.1.39. RectangularPrismModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a rectangular prism.</p>
<p>Note that this model is almost totally equivalent to the existing <a class="reference internal" href="#parallelepipedmodel">ParallelepipedModel</a>. The only difference is that the
way the relevant parameters are defined here (<em>a</em>, <em>b/a</em>, <em>c/a</em> instead of <em>a</em>, <em>b</em>, <em>c</em>) allows to use polydispersity
with this model while keeping the shape of the prism (e.g. setting <em>b/a</em> = 1 and <em>c/a</em> = 1 and applying polydispersity
to <em>a</em> will generate a distribution of cubes of different sizes).</p>
<p><em>2.1.39.1. Definition</em></p>
<p>The 1D scattering intensity for this model was calculated by Mittelbach and Porod (Mittelbach, 1961), but the
implementation here is closer to the equations given by Nayuk and Huber (Nayuk, 2012).</p>
<p>The scattering from a massive parallelepiped with an orientation with respect to the scattering vector given by θ
and φ is given by</p>
<div class="math">
\[A_P\,(q) =  \frac{\sin \bigl( q \frac{C}{2} \cos\theta \bigr)}{q \frac{C}{2} \cos\theta} \, \times \,
\frac{\sin \bigl( q \frac{A}{2} \sin\theta \sin\phi \bigr)}{q \frac{A}{2} \sin\theta \sin\phi} \, \times \,
\frac{\sin \bigl( q \frac{B}{2} \sin\theta \cos\phi \bigr)}{q \frac{B}{2} \sin\theta \cos\phi}\]</div>
<p>where <em>A</em>, <em>B</em> and <em>C</em> are the sides of the parallelepiped and must fulfill <span class="math">\(A \le B \le C\)</span>, θ is the angle
between the <em>z</em> axis and the longest axis of the parallelepiped <em>C</em>, and φ is the angle between the scattering
vector (lying in the <em>xy</em> plane) and the <em>y</em> axis.</p>
<p>The normalized form factor in 1D is obtained averaging over all possible orientations</p>
<div class="math">
\[P(q) =  \frac{2}{\pi} \times \, \int_0^{\frac{\pi}{2}} \, \int_0^{\frac{\pi}{2}} A_P^2(q) \, \sin\theta \, d\theta \, d\phi\]</div>
<p>The 1D scattering intensity is then calculated as</p>
<div class="math">
\[I(q) = \mbox{scale} \times V \times (\rho_{\mbox{pipe}} - \rho_{\mbox{solvent}})^2 \times P(q)\]</div>
<p>where <em>V</em> is the volume of the rectangular prism, <span class="math">\(\rho_{\mbox{pipe}}\)</span> is the scattering length of the
parallelepiped, <span class="math">\(\rho_{\mbox{solvent}}\)</span> is the scattering length of the solvent, and (if the data are in absolute
units) <em>scale</em> represents the volume fraction (which is unitless).</p>
<p><strong>The 2D scattering intensity is not computed by this model.</strong></p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the RectangularPrismModel are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>short_side</td>
<td>Å</td>
<td>35</td>
</tr>
<tr class="row-even"><td>b2a_ratio</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>c2a_ratio</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-even"><td>sldPipe</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-odd"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>1.0e-6</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
</tbody>
</table>
<p><em>2.1.39.2. Validation of the RectangularPrismModel</em></p>
<p>Validation of the code was conducted by comparing the output of the 1D model to the output of the existing
parallelepiped model.</p>
<p>REFERENCES</p>
<p>P Mittelbach and G Porod, <em>Acta Physica Austriaca</em>, 14 (1961) 185-211</p>
<p>R Nayuk and K Huber, <em>Z. Phys. Chem.</em>, 226 (2012) 837-854</p>
<p id="rectangularhollowprismmodel"><strong>2.1.40. RectangularHollowPrismModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a hollow rectangular parallelepiped with a wall thickness Δ.</p>
<p><em>2.1.40.1. Definition</em></p>
<p>The 1D scattering intensity for this model is calculated by forming the difference of the amplitudes of two massive
parallelepipeds differing in their outermost dimensions in each direction by the same length increment 2 Δ
(Nayuk, 2012).</p>
<p>As in the case of the massive parallelepiped, the scattering amplitude is computed for a particular orientation of the
parallelepiped with respect to the scattering vector and then averaged over all possible orientations, giving</p>
<div class="math">
\[P(q) =  \frac{1}{V^2} \frac{2}{\pi} \times \, \int_0^{\frac{\pi}{2}} \, \int_0^{\frac{\pi}{2}} A_{P\Delta}^2(q) \,
\sin\theta \, d\theta \, d\phi\]</div>
<p>where θ is the angle between the <em>z</em> axis and the longest axis of the parallelepiped, φ is the angle between
the scattering vector (lying in the <em>xy</em> plane) and the <em>y</em> axis, and</p>
<div class="math">
\[A_{P\Delta}\,(q) =  A \, B \, C \, \times
                    \frac{\sin \bigl( q \frac{C}{2} \cos\theta \bigr)}{q \frac{C}{2} \cos\theta} \,
                    \frac{\sin \bigl( q \frac{A}{2} \sin\theta \sin\phi \bigr)}{q \frac{A}{2} \sin\theta \sin\phi} \,
                    \frac{\sin \bigl( q \frac{B}{2} \sin\theta \cos\phi \bigr)}{q \frac{B}{2} \sin\theta \cos\phi} -
                    8 \, \bigl( \frac{A}{2} - \Delta \bigr) \, \bigl( \frac{B}{2} - \Delta \bigr) \,
                    \bigl( \frac{C}{2} - \Delta \bigr) \, \times
                    \frac{\sin \bigl[ q \bigl(\frac{C}{2}-\Delta\bigr) \cos\theta \bigr]}
                    {q \bigl(\frac{C}{2}-\Delta\bigr) \cos\theta} \,
                    \frac{\sin \bigl[ q \bigl(\frac{A}{2}-\Delta\bigr) \sin\theta \sin\phi \bigr]}
                    {q \bigl(\frac{A}{2}-\Delta\bigr) \sin\theta \sin\phi} \,
                    \frac{\sin \bigl[ q \bigl(\frac{B}{2}-\Delta\bigr) \sin\theta \cos\phi \bigr]}
                    {q \bigl(\frac{B}{2}-\Delta\bigr) \sin\theta \cos\phi} \,\]</div>
<p>where <em>A</em>, <em>B</em> and <em>C</em> are the external sides of the parallelepiped fulfilling <span class="math">\(A \le B \le C\)</span>, and the volume <em>V</em>
of the parallelepiped is</p>
<div class="math">
\[V = A B C \, - \, (A - 2\Delta) (B - 2\Delta) (C - 2\Delta)\]</div>
<p>The 1D scattering intensity is then calculated as</p>
<div class="math">
\[I(q) = \mbox{scale} \times V \times (\rho_{\mbox{pipe}} - \rho_{\mbox{solvent}})^2 \times P(q)\]</div>
<p>where <span class="math">\(\rho_{\mbox{pipe}}\)</span> is the scattering length of the parallelepiped, <span class="math">\(\rho_{\mbox{solvent}}\)</span> is the
scattering length of the solvent, and (if the data are in absolute units) <em>scale</em> represents the volume fraction (which
is unitless).</p>
<p><strong>The 2D scattering intensity is not computed by this model.</strong></p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the RectangularHollowPrismModel are the
following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>short_side</td>
<td>Å</td>
<td>35</td>
</tr>
<tr class="row-even"><td>b2a_ratio</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>c2a_ratio</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-even"><td>thickness</td>
<td>Å</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>sldPipe</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-even"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>1.0e-6</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
</tbody>
</table>
<p><em>2.1.40.2. Validation of the RectangularHollowPrismModel</em></p>
<p>Validation of the code was conducted by qualitatively comparing the output of the 1D model to the curves shown in
(Nayuk, 2012).</p>
<p>REFERENCES</p>
<p>R Nayuk and K Huber, <em>Z. Phys. Chem.</em>, 226 (2012) 837-854</p>
<p id="rectangularhollowprisminfthinwallsmodel"><strong>2.1.41. RectangularHollowPrismInfThinWallsModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a hollow rectangular prism with infinitely thin walls.</p>
<p><em>2.1.41.1. Definition</em></p>
<p>The 1D scattering intensity for this model is calculated according to the equations given by Nayuk and Huber
(Nayuk, 2012).</p>
<p>Assuming a hollow parallelepiped with infinitely thin walls, edge lengths <span class="math">\(A \le B \le C\)</span> and presenting an
orientation with respect to the scattering vector given by θ and φ, where θ is the angle between the
<em>z</em> axis and the longest axis of the parallelepiped <em>C</em>, and φ is the angle between the scattering vector
(lying in the <em>xy</em> plane) and the <em>y</em> axis, the form factor is given by</p>
<div class="math">
\[P(q) =  \frac{1}{V^2} \frac{2}{\pi} \times \, \int_0^{\frac{\pi}{2}} \, \int_0^{\frac{\pi}{2}} [A_L(q)+A_T(q)]^2
\, \sin\theta \, d\theta \, d\phi\]</div>
<p>where</p>
<div class="math">
\[V = 2AB + 2AC + 2BC\]</div>
<div class="math">
\[A_L\,(q) =  8 \times \frac{ \sin \bigl( q \frac{A}{2} \sin\phi \sin\theta \bigr)
                            \sin \bigl( q \frac{B}{2} \cos\phi \sin\theta \bigr)
                            \cos \bigl( q \frac{C}{2} \cos\theta \bigr) }
                          {q^2 \, \sin^2\theta \, \sin\phi \cos\phi}\]</div>
<div class="math">
\[A_T\,(q) =  A_F\,(q) \times \frac{2 \, \sin \bigl( q \frac{C}{2} \cos\theta \bigr)}{q \, \cos\theta}\]</div>
<p>and</p>
<div class="math">
\[A_F\,(q) =  4 \frac{ \cos \bigl( q \frac{A}{2} \sin\phi \sin\theta \bigr)
                     \sin \bigl( q \frac{B}{2} \cos\phi \sin\theta \bigr) }
                   {q \, \cos\phi \, \sin\theta} +
            4 \frac{ \sin \bigl( q \frac{A}{2} \sin\phi \sin\theta \bigr)
                     \cos \bigl( q \frac{B}{2} \cos\phi \sin\theta \bigr) }
                   {q \, \sin\phi \, \sin\theta}\]</div>
<p>The 1D scattering intensity is then calculated as</p>
<div class="math">
\[I(q) = \mbox{scale} \times V \times (\rho_{\mbox{pipe}} - \rho_{\mbox{solvent}})^2 \times P(q)\]</div>
<p>where <em>V</em> is the volume of the rectangular prism, <span class="math">\(\rho_{\mbox{pipe}}\)</span> is the scattering length of the
parallelepiped, <span class="math">\(\rho_{\mbox{solvent}}\)</span> is the scattering length of the solvent, and (if the data are in absolute
units) <em>scale</em> represents the volume fraction (which is unitless).</p>
<p><strong>The 2D scattering intensity is not computed by this model.</strong></p>
<p>The returned value is scaled to units of cm<sup>-1</sup> and the parameters of the RectangularHollowPrismInfThinWallModel
are the following</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>short_side</td>
<td>Å</td>
<td>35</td>
</tr>
<tr class="row-even"><td>b2a_ratio</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>c2a_ratio</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-even"><td>sldPipe</td>
<td>Å<sup>-2</sup></td>
<td>6.3e-6</td>
</tr>
<tr class="row-odd"><td>sldSolv</td>
<td>Å<sup>-2</sup></td>
<td>1.0e-6</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
</tbody>
</table>
<p><em>2.1.41.2. Validation of the RectangularHollowPrismInfThinWallsModel</em></p>
<p>Validation of the code was conducted  by qualitatively comparing the output of the 1D model to the curves shown in
(Nayuk, 2012).</p>
<p>REFERENCES</p>
<p>R Nayuk and K Huber, <em>Z. Phys. Chem.</em>, 226 (2012) 837-854</p>
<p id="micellesphcoremodel"><strong>2.1.42. MicelleSphCoreModel</strong></p>
<p>This model provides the form factor, <em>P(q)</em>, for a micelle with a spherical core
and Gaussian polymer chains attached to the surface.</p>
<p><em>2.1.42.1. Definition</em></p>
<p>The 1D scattering intensity for this model is calculated according to the equations given by Pedersen
(Pedersen, 2000).</p>
<p><em>2.1.42.2. Validation of the MicelleSphCoreModel</em></p>
<p>This model has not yet been validated. Feb2015</p>
<p>REFERENCES</p>
<p>J Pedersen, <em>J. Appl. Cryst.</em>, 33 (2000) 637-640</p>
</div>
<div class="section" id="id5">
<h2>2.2 Shape-independent Functions</h2>
<p>The following are models used for shape-independent SAS analysis.</p>
<p id="debye"><strong>2.2.1. Debye (Gaussian Coil Model)</strong></p>
<p>The Debye model is a form factor for a linear polymer chain obeying Gaussian statistics (ie, it is in the theta state).
In addition to the radius-of-gyration, <em>Rg</em>, a scale factor <em>scale</em>, and a constant background term are included in the
calculation. <strong>NB: No size polydispersity is included in this model, use the</strong> <a class="reference internal" href="#poly-gausscoil">Poly_GaussCoil</a> <strong>Model instead</strong></p>
<img alt="../../_images/image172.PNG" src="../../_images/image172.PNG" />
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>rg</td>
<td>Å</td>
<td>50.0</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image173.jpg" src="../../_images/image173.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>REFERENCE</p>
<p>R J Roe, <em>Methods of X-Ray and Neutron Scattering in Polymer Science</em>, Oxford University Press, New York (2000)</p>
<p id="broadpeakmodel"><strong>2.2.2. BroadPeakModel</strong></p>
<p>This model calculates an empirical functional form for SAS data characterized by a broad scattering peak. Many SAS
spectra are characterized by a broad peak even though they are from amorphous soft materials. For example, soft systems
that show a SAS peak include copolymers, polyelectrolytes, multiphase systems, layered structures, etc.</p>
<p>The d-spacing corresponding to the broad peak is a characteristic distance between the scattering inhomogeneities (such
as in lamellar, cylindrical, or spherical morphologies, or for bicontinuous structures).</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>, absolute scale.</p>
<p><em>2.2.2.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image174.jpg" src="../../_images/image174.jpg" />
<p>Here the peak position is related to the d-spacing as <em>Q0</em> = 2|pi| / <em>d0</em>.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="21%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale_l    (=C)</td>
<td>None</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>scale_p    (=A)</td>
<td>None</td>
<td>1e-05</td>
</tr>
<tr class="row-even"><td>length_l (= ξ )</td>
<td>Å</td>
<td>50</td>
</tr>
<tr class="row-odd"><td>q_peak    (=Q0)</td>
<td>Å<sup>-1</sup></td>
<td>0.1</td>
</tr>
<tr class="row-even"><td>exponent_p (=n)</td>
<td>None</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>exponent_l (=m)</td>
<td>None</td>
<td>3</td>
</tr>
<tr class="row-even"><td>Background (=B)</td>
<td>cm<sup>-1</sup></td>
<td>0.1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image175.jpg" src="../../_images/image175.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>REFERENCE</p>
<p>None.</p>
<p><em>2013/09/09 - Description reviewed by King, S and Parker, P.</em></p>
<p id="corrlength"><strong>2.2.3. CorrLength (Correlation Length Model)</strong></p>
<p>Calculates an empirical functional form for SAS data characterized by a low-Q signal and a high-Q signal.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>, absolute scale.</p>
<p><em>2.2.3. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image176.jpg" src="../../_images/image176.jpg" />
<p>The first term describes Porod scattering from clusters (exponent = n) and the second term is a Lorentzian function
describing scattering from polymer chains (exponent = <em>m</em>). This second term characterizes the polymer/solvent
interactions and therefore the thermodynamics. The two multiplicative factors <em>A</em> and <em>C</em>, the incoherent
background <em>B</em> and the two exponents <em>n</em> and <em>m</em> are used as fitting parameters. The final parameter ξ is a
correlation length for the polymer chains. Note that when <em>m</em>=2 this functional form becomes the familiar Lorentzian
function.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="49%" />
<col width="20%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale_l    (=C)</td>
<td>None</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>scale_p    (=A)</td>
<td>None</td>
<td>1e-06</td>
</tr>
<tr class="row-even"><td>length_l   (= ξ )</td>
<td>Å</td>
<td>50</td>
</tr>
<tr class="row-odd"><td>exponent_p (=n)</td>
<td>None</td>
<td>2</td>
</tr>
<tr class="row-even"><td>exponent_l (=m)</td>
<td>None</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>Background (=B)</td>
<td>cm<sup>-1</sup></td>
<td>0.1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image177.jpg" src="../../_images/image177.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>B Hammouda, D L Ho and S R Kline, <em>Insight into Clustering in Poly(ethylene oxide) Solutions</em>, <em>Macromolecules</em>, 37
(2004) 6932-6937</p>
<p><em>2013/09/09 - Description reviewed by King, S and Parker, P.</em></p>
<p id="lorentz"><strong>2.2.4. Lorentz (Ornstein-Zernicke Model)</strong></p>
<p><em>2.2.4.1. Definition</em></p>
<p>The Ornstein-Zernicke model is defined by</p>
<img alt="../../_images/image178.PNG" src="../../_images/image178.PNG" />
<p>The parameter <em>L</em> is the screening length.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>length</td>
<td>Å</td>
<td>50.0</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image179.jpg" src="../../_images/image179.jpg" />
<p><em>&nbsp;Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>REFERENCE</p>
<p>None.</p>
<p id="dabmodel"><strong>2.2.5. DABModel (Debye-Anderson-Brumberger Model)</strong></p>
<p>Calculates the scattering from a randomly distributed, two-phase system based on the Debye-Anderson-Brumberger (DAB)
model for such systems. The two-phase system is characterized by a single length scale, the correlation length, which
is a measure of the average spacing between regions of phase 1 and phase 2. <strong>The model also assumes smooth interfaces</strong>
<strong>between the phases</strong> and hence exhibits Porod behavior (I ~ <em>q</em><sup>-4</sup>) at large <em>q</em> (<em>QL</em> &gt;&gt; 1).</p>
<p>The DAB model is ostensibly a development of the earlier Debye-Bueche model.</p>
<p><em>2.2.5.1. Definition</em></p>
<img alt="../../_images/image180_corrected.PNG" src="../../_images/image180_corrected.PNG" />
<p>The parameter <em>L</em> is the correlation length.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>length</td>
<td>Å</td>
<td>50.0</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image181.jpg" src="../../_images/image181.jpg" />
<p><em>&nbsp;Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>REFERENCE</p>
<p>P Debye, H R Anderson, H Brumberger, <em>Scattering by an Inhomogeneous Solid. II. The Correlation Function</em>
<em>and its Application</em>, <em>J. Appl. Phys.</em>, 28(6) (1957) 679</p>
<p>P Debye, A M Bueche, <em>Scattering by an Inhomogeneous Solid</em>, <em>J. Appl. Phys.</em>, 20 (1949) 518</p>
<p><em>2013/09/09 - Description reviewed by King, S and Parker, P.</em></p>
<p id="absolutepower-law"><strong>2.2.6. AbsolutePower_Law</strong></p>
<p>This model describes a simple power law with background.</p>
<img alt="../../_images/image182.PNG" src="../../_images/image182.PNG" />
<p>Note the minus sign in front of the exponent. The parameter <em>m</em> should therefore be entered as a <strong>positive</strong> number.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>m</td>
<td>None</td>
<td>4</td>
</tr>
<tr class="row-even"><td>Background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image183.jpg" src="../../_images/image183.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>REFERENCE</p>
<p>None.</p>
<p id="teubnerstrey"><strong>2.2.7. TeubnerStrey (Model)</strong></p>
<p>This function calculates the scattered intensity of a two-component system using the Teubner-Strey model. Unlike the
<a class="reference internal" href="#dabmodel">DABModel</a> this function generates a peak.</p>
<p><em>2.2.7.1. Definition</em></p>
<img alt="../../_images/image184.PNG" src="../../_images/image184.PNG" />
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>0.1</td>
</tr>
<tr class="row-odd"><td>c1</td>
<td>None</td>
<td>-30.0</td>
</tr>
<tr class="row-even"><td>c2</td>
<td>None</td>
<td>5000.0</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image185.jpg" src="../../_images/image185.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>REFERENCE</p>
<p>M Teubner, R Strey, <em>J. Chem. Phys.</em>, 87 (1987) 3195</p>
<p>K V Schubert, R Strey, S R Kline and E W Kaler, <em>J. Chem. Phys.</em>, 101 (1994) 5343</p>
<p id="fractalmodel"><strong>2.2.8. FractalModel</strong></p>
<p>Calculates the scattering from fractal-like aggregates built from spherical building blocks following the Texiera
reference.</p>
<p>The value returned is in cm<sup>-1</sup>.</p>
<p><em>2.2.8.1. Definition</em></p>
<img alt="../../_images/image186.PNG" src="../../_images/image186.PNG" />
<p>The <em>scale</em> parameter is the volume fraction of the building blocks, <em>R0</em> is the radius of the building block, <em>Df</em> is
the fractal dimension, ξ is the correlation length, ρ<em>solvent</em> is the scattering length density of the
solvent, and ρ<em>block</em> is the scattering length density of the building blocks.</p>
<p><strong>Polydispersity on the radius is provided for.</strong></p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>0.05</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>5.0</td>
</tr>
<tr class="row-even"><td>fractal_dim</td>
<td>None</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>corr_length</td>
<td>Å</td>
<td>100.0</td>
</tr>
<tr class="row-even"><td>block_sld</td>
<td>Å<sup>-2</sup></td>
<td>2e-6</td>
</tr>
<tr class="row-odd"><td>solvent_sld</td>
<td>Å<sup>-2</sup></td>
<td>6e-6</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image187.jpg" src="../../_images/image187.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>REFERENCE</p>
<p>J Teixeira, <em>J. Appl. Cryst.</em>, 21 (1988) 781-785</p>
<p id="massfractalmodel"><strong>2.2.9. MassFractalModel</strong></p>
<p>Calculates the scattering from fractal-like aggregates based on the Mildner reference.</p>
<p><em>2.2.9.1. Definition</em></p>
<img alt="../../_images/mass_fractal_eq1.jpg" src="../../_images/mass_fractal_eq1.jpg" />
<p>where <em>R</em> is the radius of the building block, <em>Dm</em> is the <strong>mass</strong> fractal dimension, ζ is the cut-off length,
ρ<em>solvent</em> is the scattering length density of the solvent, and ρ<em>particle</em> is the scattering length
density of particles.</p>
<p>Note: &nbsp;The mass fractal dimension <em>Dm</em> is only valid if 1 &lt; mass_dim &lt; 6. It is also only valid over a limited
<em>q</em> range (see the reference for details).</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>10.0</td>
</tr>
<tr class="row-even"><td>mass_dim</td>
<td>None</td>
<td>1.9</td>
</tr>
<tr class="row-odd"><td>co_length</td>
<td>Å</td>
<td>100.0</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/mass_fractal_fig1.jpg" src="../../_images/mass_fractal_fig1.jpg" />
<p><em>Figure. 1D plot using default values.</em></p>
<p>REFERENCE</p>
<p>D Mildner and P Hall,&nbsp;<em>J. Phys. D: Appl. Phys.</em>,&nbsp; 19 (1986) 1535-1545
Equation(9)</p>
<p><em>2013/09/09 - Description reviewed by King, S and Parker, P.</em></p>
<p id="surfacefractalmodel"><strong>2.2.10. SurfaceFractalModel</strong></p>
<p>Calculates the scattering from fractal-like aggregates based on the Mildner reference.</p>
<p><em>2.2.10.1. Definition</em></p>
<img alt="../../_images/surface_fractal_eq1.gif" src="../../_images/surface_fractal_eq1.gif" />
<p>where <em>R</em> is the radius of the building block, <em>Ds</em> is the <strong>surface</strong> fractal dimension, ζ is the cut-off length,
ρ<em>solvent</em> is the scattering length density of the solvent, and ρ<em>particle</em> is the scattering length
density of particles.</p>
<p>Note: &nbsp;The surface fractal dimension <em>Ds</em> is only valid if 1 &lt; surface_dim &lt; 3. It is also only valid over a limited
<em>q</em> range (see the reference for details).</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>10.0</td>
</tr>
<tr class="row-even"><td>surface_dim</td>
<td>None</td>
<td>2.0</td>
</tr>
<tr class="row-odd"><td>co_length</td>
<td>Å</td>
<td>500.0</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/surface_fractal_fig1.jpg" src="../../_images/surface_fractal_fig1.jpg" />
<p><em>Figure. 1D plot using default values.</em></p>
<p>REFERENCE</p>
<p>D Mildner and P Hall,&nbsp;<em>J. Phys. D: Appl. Phys.</em>,&nbsp; 19 (1986) 1535-1545
Equation(13)</p>
<p id="masssurfacefractal"><strong>2.2.11. MassSurfaceFractal (Model)</strong></p>
<p>A number of natural and commercial processes form high-surface area materials as a result of the vapour-phase
aggregation of primary particles. Examples of such materials include soots, aerosols, and fume or pyrogenic silicas.
These are all characterised by cluster mass distributions (sometimes also cluster size distributions) and internal
surfaces that are fractal in nature. The scattering from such materials displays two distinct breaks in log-log
representation, corresponding to the radius-of-gyration of the primary particles, <em>rg</em>, and the radius-of-gyration of
the clusters (aggregates), <em>Rg</em>. Between these boundaries the scattering follows a power law related to the mass
fractal dimension, <em>Dm</em>, whilst above the high-Q boundary the scattering follows a power law related to the surface
fractal dimension of the primary particles, <em>Ds</em>.</p>
<p><em>2.2.11.1. Definition</em></p>
<p>The scattered intensity <em>I(q)</em> is  calculated using a modified Ornstein-Zernicke equation</p>
<img alt="../../_images/masssurface_fractal_eq1.jpg" src="../../_images/masssurface_fractal_eq1.jpg" />
<p>where <em>Rg</em> is the size of the cluster, <em>rg</em> is the size of the primary particle, <em>Ds</em> is the surface fractal dimension,
<em>Dm</em> is the mass fractal dimension, ρ<em>solvent</em> is the scattering length density of the solvent, and ρ<em>p</em> is
the scattering length density of particles.</p>
<p>Note: &nbsp;The surface (<em>Ds</em>) and mass (<em>Dm</em>) fractal dimensions are only valid if 0 &lt; <em>surface_dim</em> &lt; 6,
0 &lt; <em>mass_dim</em> &lt; 6, and (<em>surface_dim*+*mass_dim</em>) &lt; 6.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>primary_rg</td>
<td>Å</td>
<td>4000.0</td>
</tr>
<tr class="row-even"><td>cluster_rg</td>
<td>Å</td>
<td>86.7</td>
</tr>
<tr class="row-odd"><td>surface_dim</td>
<td>None</td>
<td>2.3</td>
</tr>
<tr class="row-even"><td>mass_dim</td>
<td>None</td>
<td>1.8</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/masssurface_fractal_fig1.jpg" src="../../_images/masssurface_fractal_fig1.jpg" />
<p><em>Figure. 1D plot using default values.</em></p>
<p>REFERENCE</p>
<p>P Schmidt, <em>J Appl. Cryst.</em>, 24 (1991) 414-435
Equation(19)</p>
<p>A J Hurd, D W Schaefer, J E Martin, <em>Phys. Rev. A</em>, 35 (1987) 2361-2364
Equation(2)</p>
<p id="fractalcoreshell"><strong>2.2.12. FractalCoreShell (Model)</strong></p>
<p>Calculates the scattering from a fractal structure with a primary building block of core-shell spheres, as opposed to
just homogeneous spheres in the <a class="reference internal" href="#fractalmodel">FractalModel</a>. This model could find use for aggregates of coated particles, or
aggregates of vesicles.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>, absolute scale.</p>
<p><em>2.2.12.1. Definition</em></p>
<img alt="../../_images/fractcore_eq1.gif" src="../../_images/fractcore_eq1.gif" />
<p>The form factor <em>P(q)</em> is that from <a class="reference internal" href="#coreshellmodel">CoreShellModel</a> with <em>bkg</em> = 0</p>
<img alt="../../_images/image013.PNG" src="../../_images/image013.PNG" />
<p>while the fractal structure factor S(q) is</p>
<img alt="../../_images/fractcore_eq3.gif" src="../../_images/fractcore_eq3.gif" />
<p>where <em>Df</em> = frac_dim, ξ = cor_length, <em>rc</em> = (core) radius, and <em>scale</em> = volume fraction.</p>
<p>The fractal structure is as documented in the <a class="reference internal" href="#fractalmodel">FractalModel</a>. Polydispersity of radius and thickness is provided for.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>volfraction</td>
<td>None</td>
<td>0.05</td>
</tr>
<tr class="row-odd"><td>frac_dim</td>
<td>None</td>
<td>2</td>
</tr>
<tr class="row-even"><td>thickness</td>
<td>Å</td>
<td>5.0</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>Å</td>
<td>20.0</td>
</tr>
<tr class="row-even"><td>cor_length</td>
<td>Å</td>
<td>100.0</td>
</tr>
<tr class="row-odd"><td>core_sld</td>
<td>Å<sup>-2</sup></td>
<td>3.5e-6</td>
</tr>
<tr class="row-even"><td>shell_sld</td>
<td>Å<sup>-2</sup></td>
<td>1e-6</td>
</tr>
<tr class="row-odd"><td>solvent_sld</td>
<td>Å<sup>-2</sup></td>
<td>6.35e-6</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image188.jpg" src="../../_images/image188.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>See the <a class="reference internal" href="#coreshellmodel">CoreShellModel</a> and <a class="reference internal" href="#fractalmodel">FractalModel</a> descriptions.</p>
<p id="gausslorentzgel"><strong>2.2.13. GaussLorentzGel(Model)</strong></p>
<p>Calculates the scattering from a gel structure, but typically a physical rather than chemical network. It is modeled as
a sum of a low-<em>q</em> exponential decay plus a lorentzian at higher <em>q</em>-values.</p>
<p>Also see the <a class="reference internal" href="#gelfitmodel">GelFitModel</a>.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>, absolute scale.</p>
<p><em>2.2.13.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as (eqn 5 from the reference)</p>
<img alt="../../_images/image189.jpg" src="../../_images/image189.jpg" />
<p>Ξ is the length scale of the static correlations in the gel, which can be attributed to the &#8220;frozen-in&#8221;
crosslinks. ξ is the dynamic correlation length, which can be attributed to the fluctuating polymer chains between
crosslinks. <em>I</em><sub>G</sub><em>(0)</em> and <em>I</em><sub>L</sub><em>(0)</em> are the scaling factors for each of these structures. <strong>Think carefully about how</strong>
<strong>these map to your particular system!</strong></p>
<p>NB: The peaked structure at higher <em>q</em> values (Figure 2 from the reference) is not reproduced by the model. Peaks can
be introduced into the model by summing this model with the <a class="reference internal" href="#peakgaussmodel">PeakGaussModel</a> function.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="63%" />
<col width="14%" />
<col width="23%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>dyn_colength (=dynamic corr length)</td>
<td>Å</td>
<td>20.0</td>
</tr>
<tr class="row-odd"><td>scale_g       (=Gauss scale factor)</td>
<td>None</td>
<td>100</td>
</tr>
<tr class="row-even"><td>scale_l  (=Lorentzian scale factor)</td>
<td>None</td>
<td>50</td>
</tr>
<tr class="row-odd"><td>stat_colength (=static corr length)</td>
<td>Å</td>
<td>100.0</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image190.jpg" src="../../_images/image190.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>G Evmenenko, E Theunissen, K Mortensen, H Reynaers, <em>Polymer</em>, 42 (2001) 2907-2913</p>
<p id="bepolyelectrolyte"><strong>2.2.14. BEPolyelectrolyte (Model)</strong></p>
<p>Calculates the structure factor of a polyelectrolyte solution with the RPA expression derived by Borue and Erukhimovich.</p>
<p>The value returned is in cm<sup>-1</sup>.</p>
<p><em>2.2.14.1. Definition</em></p>
<img alt="../../_images/image191.PNG" src="../../_images/image191.PNG" />
<p>where <em>K</em> is the contrast factor for the polymer, <em>Lb</em> is the Bjerrum length, <em>h</em> is the virial parameter, <em>b</em> is the
monomer length, <em>Cs</em> is the concentration of monovalent salt, α is the ionization degree, <em>Ca</em> is the polymer
molar concentration, and <em>background</em> is the incoherent background.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>K</td>
<td>barns</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>Lb</td>
<td>Å</td>
<td>7.1</td>
</tr>
<tr class="row-even"><td>h</td>
<td>Å<sup>-3</sup></td>
<td>12</td>
</tr>
<tr class="row-odd"><td>b</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-even"><td>Cs</td>
<td>mol/L</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>alpha</td>
<td>None</td>
<td>0.05</td>
</tr>
<tr class="row-even"><td>Ca</td>
<td>mol/L</td>
<td>0.7</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<p>NB: 1 barn = 10<sup>-24</sup> cm<sup>2</sup></p>
<p>REFERENCE</p>
<p>V Y Borue, I Y Erukhimovich, <em>Macromolecules</em>, 21 (1988) 3240</p>
<p>J F Joanny, L Leibler, <em>Journal de Physique</em>, 51 (1990) 545</p>
<p>A Moussaid, F Schosseler, J P Munch, S Candau, <em>J. Journal de Physique II France</em>, 3 (1993) 573</p>
<p>E Raphael, J F Joanny, <em>Europhysics Letters</em>, 11 (1990) 179</p>
<p id="guinier"><strong>2.2.15. Guinier (Model)</strong></p>
<p>This model fits the Guinier function</p>
<img alt="../../_images/image192.PNG" src="../../_images/image192.PNG" />
<p>to the data directly without any need for linearisation (<em>cf</em>. Ln <em>I(q)</em> vs <em>q</em><sup>2</sup>).</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>cm<sup>-1</sup></td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>Rg</td>
<td>Å</td>
<td>0.1</td>
</tr>
</tbody>
</table>
<p>REFERENCE</p>
<p>A Guinier and G Fournet, <em>Small-Angle Scattering of X-Rays</em>, John Wiley &amp; Sons, New York (1955)</p>
<p id="guinierporod"><strong>2.2.16. GuinierPorod (Model)</strong></p>
<p>Calculates the scattering for a generalized Guinier/power law object. This is an empirical model that can be used to
determine the size and dimensionality of scattering objects, including asymmetric objects such as rods or platelets, and
shapes intermediate between spheres and rods or between rods and platelets.</p>
<p>The result is in the units of cm<sup>-1</sup>, absolute scale.</p>
<p><em>2.2.16.1 Definition</em></p>
<p>The following functional form is used</p>
<img alt="../../_images/image193.jpg" src="../../_images/image193.jpg" />
<p>This is based on the generalized Guinier law for such elongated objects (see the Glatter reference below). For 3D
globular objects (such as spheres), <em>s</em> = 0 and one recovers the standard <a class="reference internal" href="#guinier">Guinier</a> formula. For 2D symmetry (such as
for rods) <em>s</em> = 1, and for 1D symmetry (such as for lamellae or platelets) <em>s</em> = 2. A dimensionality parameter (3-<em>s</em>)
is thus defined, and is 3 for spherical objects, 2 for rods, and 1 for plates.</p>
<p>Enforcing the continuity of the Guinier and Porod functions and their derivatives yields</p>
<img alt="../../_images/image194.jpg" src="../../_images/image194.jpg" />
<p>and</p>
<img alt="../../_images/image195.jpg" src="../../_images/image195.jpg" />
<p>Note that</p>
<blockquote>
<div>the radius-of-gyration for a sphere of radius <em>R</em> is given by <em>Rg</em> = <em>R</em> sqrt(3/5)</div></blockquote>
<p>&nbsp;the cross-sectional radius-of-gyration for a randomly oriented cylinder of radius <em>R</em> is given by&nbsp;<em>Rg</em> = <em>R</em> / sqrt(2)</p>
<blockquote>
<div>the cross-sectional radius-of-gyration of a randomly oriented lamella of thickness <em>T</em> is given by <em>Rg</em> = <em>T</em> / sqrt(12)</div></blockquote>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image008.PNG" src="../../_images/image008.PNG" />
<table border="1" class="docutils">
<colgroup>
<col width="59%" />
<col width="16%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale      (=Guinier scale, G)</td>
<td>cm<sup>-1</sup></td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>rg</td>
<td>Å</td>
<td>100</td>
</tr>
<tr class="row-even"><td>dim (=dimensional variable, s)</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>m            (=Porod exponent)</td>
<td>None</td>
<td>3</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image196.jpg" src="../../_images/image196.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>A Guinier, G Fournet, <em>Small-Angle Scattering of X-Rays</em>, John Wiley and Sons, New York, (1955)</p>
<p>O Glatter, O Kratky, <em>Small-Angle X-Ray Scattering</em>, Academic Press (1982)
Check out Chapter 4 on Data Treatment, pages 155-156.</p>
<p id="porodmodel"><strong>2.2.17. PorodModel</strong></p>
<p>This model fits the Porod function</p>
<img alt="../../_images/image197_corrected.PNG" src="../../_images/image197_corrected.PNG" />
<p>to the data directly without any need for linearisation (<em>cf</em>. Log <em>I(q)</em> vs Log <em>q</em>).</p>
<p>Here <em>C</em> is the scale factor and <em>Sv</em> is the specific surface area (ie, surface area / volume) of the sample, and
Δρ is the contrast factor.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>Å<sup>-4</sup></td>
<td>0.1</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0</td>
</tr>
</tbody>
</table>
<p>REFERENCE</p>
<p>None.</p>
<p id="peakgaussmodel"><strong>2.2.18. PeakGaussModel</strong></p>
<p>This model describes a Gaussian shaped peak on a flat background</p>
<img alt="../../_images/image198.PNG" src="../../_images/image198.PNG" />
<p>with the peak having height of <em>I0</em> centered at <em>q0</em> and having a standard deviation of <em>B</em>.&nbsp; The FWHM (full-width
half-maximum) is 2.354 B.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>cm<sup>-1</sup></td>
<td>100</td>
</tr>
<tr class="row-odd"><td>q0</td>
<td>Å<sup>-1</sup></td>
<td>0.05</td>
</tr>
<tr class="row-even"><td>B</td>
<td>Å<sup>-1</sup></td>
<td>0.005</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image199.jpg" src="../../_images/image199.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>None.</p>
<p id="peaklorentzmodel"><strong>2.2.19. PeakLorentzModel</strong></p>
<p>This model describes a Lorentzian shaped peak on a flat background</p>
<img alt="../../_images/image200.PNG" src="../../_images/image200.PNG" />
<p>with the peak having height of <em>I0</em> centered at <em>q0</em> and having a HWHM (half-width half-maximum) of B.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>cm<sup>-1</sup></td>
<td>100</td>
</tr>
<tr class="row-odd"><td>q0</td>
<td>Å<sup>-1</sup></td>
<td>0.05</td>
</tr>
<tr class="row-even"><td>B</td>
<td>Å<sup>-1</sup></td>
<td>0.005</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image201.jpg" src="../../_images/image201.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>None.</p>
<p id="poly-gausscoil"><strong>2.2.20. Poly_GaussCoil (Model)</strong></p>
<p>This model calculates an empirical functional form for the scattering from a <strong>polydisperse</strong> polymer chain in the
theta state assuming a Schulz-Zimm type molecular weight distribution.&nbsp;Polydispersity on the radius-of-gyration is also
provided for.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>, absolute scale.</p>
<p><em>2.2.20.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image202.PNG" src="../../_images/image202.PNG" />
<p>where the dimensionless chain dimension is</p>
<img alt="../../_images/image203.PNG" src="../../_images/image203.PNG" />
<p>and the polydispersity is</p>
<img alt="../../_images/image204.PNG" src="../../_images/image204.PNG" />
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<p>This example dataset is produced using 200 data points, using 200 data points,
<em>qmin</em> = 0.001 Å<sup>-1</sup>, <em>qmax</em> = 0.7 Å<sup>-1</sup> and the default values</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>rg</td>
<td>Å</td>
<td>60.0</td>
</tr>
<tr class="row-even"><td>poly_m (Mw/Mn)</td>
<td>None</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.001</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image205.jpg" src="../../_images/image205.jpg" />
<p><em>Figure. 1D plot using the default values (w/200 data point).</em></p>
<p>REFERENCE</p>
<p>O Glatter and O Kratky (editors), <em>Small Angle X-ray Scattering</em>, Academic Press, (1982)
Page 404</p>
<p>J S Higgins, and H C Benoit, Polymers and Neutron Scattering, Oxford Science Publications (1996)</p>
<p id="polyexclvolume"><strong>2.2.21. PolymerExclVolume (Model)</strong></p>
<p>This model describes the scattering from polymer chains subject to excluded volume effects, and has been used as a
template for describing mass fractals.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>, absolute scale.</p>
<p><em>2.2.21.1 Definition</em></p>
<p>The form factor  was originally presented in the following integral form (Benoit, 1957)</p>
<img alt="../../_images/image206.jpg" src="../../_images/image206.jpg" />
<p>where ν is the excluded volume parameter (which is related to the Porod exponent <em>m</em> as ν = 1 / <em>m</em>), <em>a</em> is the
statistical segment length of the polymer chain, and <em>n</em> is the degree of polymerization. This integral was later put
into an almost analytical form as follows (Hammouda, 1993)</p>
<img alt="../../_images/image207.jpg" src="../../_images/image207.jpg" />
<p>where γ<em>(x,U)</em> is the incomplete gamma function</p>
<img alt="../../_images/image208.jpg" src="../../_images/image208.jpg" />
<p>and the variable <em>U</em> is given in terms of the scattering vector <em>Q</em> as</p>
<img alt="../../_images/image209.jpg" src="../../_images/image209.jpg" />
<p>The square of the radius-of-gyration is defined as</p>
<img alt="../../_images/image210.jpg" src="../../_images/image210.jpg" />
<p>Note that this model applies only in the mass fractal range (ie, 5/3 &lt;= <em>m</em> &lt;= 3) and <strong>does not</strong> apply to surface
fractals (3 &lt; <em>m</em> &lt;= 4). It also does not reproduce the rigid rod limit (<em>m</em> = 1) because it assumes chain flexibility
from the outset.&nbsp;It may cover a portion of the semi-flexible chain range (1 &lt; <em>m</em> &lt; 5/3).</p>
<p>A low-<em>Q</em> expansion yields the Guinier form and a high-<em>Q</em> expansion yields the Porod form which is given by</p>
<img alt="../../_images/image211.jpg" src="../../_images/image211.jpg" />
<p>Here Γ<em>(x)</em> = γ<em>(x,inf)</em> is the gamma function.</p>
<p>The asymptotic limit is dominated by the first term</p>
<img alt="../../_images/image212.jpg" src="../../_images/image212.jpg" />
<p>The special case when ν = 0.5 (or <em>m</em> = 1/ν = 2) corresponds to Gaussian chains for which the form factor is given
by the familiar <a class="reference internal" href="#debye">Debye</a> function.</p>
<img alt="../../_images/image213.jpg" src="../../_images/image213.jpg" />
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<p>This example dataset is produced using 200 data points, <em>qmin</em> = 0.001 Å<sup>-1</sup>, <em>qmax</em> = 0.2 Å<sup>-1</sup> and the default
values</p>
<table border="1" class="docutils">
<colgroup>
<col width="48%" />
<col width="20%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>rg</td>
<td>Å</td>
<td>60.0</td>
</tr>
<tr class="row-even"><td>m (=Porod exponent)</td>
<td>None</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image214.jpg" src="../../_images/image214.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>H Benoit, <em>Comptes Rendus</em>, 245 (1957) 2244-2247</p>
<p>B Hammouda, <em>SANS from Homogeneous Polymer Mixtures ­ A Unified Overview</em>, <em>Advances in Polym. Sci.</em>, 106 (1993) 87-133</p>
<p id="rpa10model"><strong>2.2.22. RPA10Model</strong></p>
<p>Calculates the macroscopic scattering intensity (units of cm<sup>-1</sup>) for a multicomponent homogeneous mixture of polymers
using the Random Phase Approximation. This general formalism contains 10 specific cases</p>
<p>Case 0: C/D binary mixture of homopolymers</p>
<p>Case 1: C-D diblock copolymer</p>
<p>Case 2: B/C/D ternary mixture of homopolymers</p>
<p>Case 3: C/C-D mixture of a homopolymer B and a diblock copolymer C-D</p>
<p>Case 4: B-C-D triblock copolymer</p>
<p>Case 5: A/B/C/D quaternary mixture of homopolymers</p>
<p>Case 6: A/B/C-D mixture of two homopolymers A/B and a diblock C-D</p>
<p>Case 7: A/B-C-D mixture of a homopolymer A and a triblock B-C-D</p>
<p>Case 8: A-B/C-D mixture of two diblock copolymers A-B and C-D</p>
<p>Case 9: A-B-C-D tetra-block copolymer</p>
<p><strong>NB: these case numbers are different from those in the NIST SANS package!</strong></p>
<p>Only one case can be used at any one time.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>, absolute scale.</p>
<p>The RPA (mean field) formalism only applies only when the multicomponent polymer mixture is in the homogeneous
mixed-phase region.</p>
<p><strong>Component D is assumed to be the &#8220;background&#8221; component (ie, all contrasts are calculated with respect to</strong>
<strong>component D).</strong> So the scattering contrast for a C/D blend = [SLD(component C) - SLD(component D)]<sup>2</sup>.</p>
<p>Depending on which case is being used, the number of fitting parameters - the segment lengths (ba, bb, etc) and χ
parameters (Kab, Kac, etc) - vary. The <em>scale</em> parameter should be held equal to unity.</p>
<p>The input parameters are the degrees of polymerization, the volume fractions, the specific volumes, and the neutron
scattering length densities for each component.</p>
<p>Fitting parameters for a Case 0 Model</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="18%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
<tr class="row-odd"><td>scale</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-even"><td>bc (=segment Length_bc)</td>
<td><strong>unit</strong></td>
<td>5</td>
</tr>
<tr class="row-odd"><td>bd (=segment length_bd)</td>
<td><strong>unit</strong></td>
<td>5</td>
</tr>
<tr class="row-even"><td>Kcd (=chi_cd)</td>
<td><strong>unit</strong></td>
<td>-0.0004</td>
</tr>
</tbody>
</table>
<p>Fixed parameters for a Case 0 Model</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="18%" />
<col width="30%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Lc (=scatter. length_c)</td>
<td><strong>unit</strong></td>
<td>1e-12</td>
</tr>
<tr class="row-odd"><td>Ld (=scatter. length_d)</td>
<td><strong>unit</strong></td>
<td>0</td>
</tr>
<tr class="row-even"><td>Nc    (=degree polym_c)</td>
<td>None</td>
<td>1000</td>
</tr>
<tr class="row-odd"><td>Nd    (=degree polym_d)</td>
<td>None</td>
<td>1000</td>
</tr>
<tr class="row-even"><td>Phic (=vol. fraction_c)</td>
<td>None</td>
<td>0.25</td>
</tr>
<tr class="row-odd"><td>Phid (=vol. fraction_d)</td>
<td>None</td>
<td>0.25</td>
</tr>
<tr class="row-even"><td>vc (=specific volume_c)</td>
<td><strong>unit</strong></td>
<td>100</td>
</tr>
<tr class="row-odd"><td>vd (=specific volume_d)</td>
<td><strong>unit</strong></td>
<td>100</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image215.jpg" src="../../_images/image215.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>A Z Akcasu, R Klein and B Hammouda, <em>Macromolecules</em>, 26 (1993) 4136</p>
<p id="twolorentzian"><strong>2.2.23. TwoLorentzian (Model)</strong></p>
<p>This model calculates an empirical functional form for SAS data characterized by two Lorentzian-type functions.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>, absolute scale.</p>
<p><em>2.2.23.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image216.jpg" src="../../_images/image216.jpg" />
<p>where <em>A</em> = Lorentzian scale factor #1, <em>C</em> = Lorentzian scale #2, ξ<sub>1</sub> and ξ<sub>2</sub> are the
corresponding correlation lengths, and <em>n</em> and <em>m</em> are the respective power law exponents (set <em>n</em> = <em>m</em> = 2 for
Ornstein-Zernicke behaviour).</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="15%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale_1 (=A)</td>
<td>None</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>scale_2 (=C)</td>
<td>None</td>
<td>1</td>
</tr>
<tr class="row-even"><td>1ength_1 (=correlation length1)</td>
<td>Å</td>
<td>100</td>
</tr>
<tr class="row-odd"><td>1ength_2 (=correlation length2)</td>
<td>Å</td>
<td>10</td>
</tr>
<tr class="row-even"><td>exponent_1 (=n)</td>
<td>None</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>exponent_2 (=m)</td>
<td>None</td>
<td>2</td>
</tr>
<tr class="row-even"><td>background (=B)</td>
<td>cm<sup>-1</sup></td>
<td>0.1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image217.jpg" src="../../_images/image217.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>None.</p>
<p id="twopowerlaw"><strong>2.2.24. TwoPowerLaw (Model)</strong></p>
<p>This model calculates an empirical functional form for SAS data characterized by two power laws.</p>
<p>The returned value is scaled to units of cm<sup>-1</sup>, absolute scale.</p>
<p><em>2.2.24.1. Definition</em></p>
<p>The scattering intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image218.jpg" src="../../_images/image218.jpg" />
<p>where <em>qc</em> is the location of the crossover from one slope to the other. The scaling <em>coef_A</em> sets the overall
intensity of the lower <em>q</em> power law region. The scaling of the second power law region is then automatically scaled to
match the first.</p>
<p><strong>NB: Be sure to enter the power law exponents as positive values!</strong></p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>coef_A</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>qc</td>
<td>Å<sup>-1</sup></td>
<td>0.04</td>
</tr>
<tr class="row-even"><td>power_1 (=m1)</td>
<td>None</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>power_2 (=m2)</td>
<td>None</td>
<td>4</td>
</tr>
<tr class="row-even"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image219.jpg" src="../../_images/image219.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>None.</p>
<p id="unifiedpowerrg"><strong>2.2.25. UnifiedPowerRg (Beaucage Model)</strong></p>
<p>This model deploys the empirical multiple level unified Exponential/Power-law fit method developed by G Beaucage. Four
functions are included so that 1, 2, 3, or 4 levels can be used. In addition a 0 level has been added which simply
calculates</p>
<p><em>I(q)</em> = <em>scale</em> / <em>q</em> + <em>background</em></p>
<p>The returned value is scaled to units of cm<sup>-1</sup>, absolute scale.</p>
<p>The Beaucage method is able to reasonably approximate the scattering from many different types of particles, including
fractal clusters, random coils (Debye equation), ellipsoidal particles, etc.</p>
<p><em>2.2.25.1 Definition</em></p>
<p>The empirical fit function is</p>
<img alt="../../_images/image220.jpg" src="../../_images/image220.jpg" />
<p>For each level, the four parameters <em>Gi</em>, <em>Rg,i</em>, <em>Bi</em> and <em>Pi</em> must be chosen.</p>
<p>For example, to approximate the scattering from random coils (<a class="reference internal" href="#debye">Debye</a> equation), set <em>Rg,i</em> as the Guinier radius,
<em>Pi</em> = 2, and <em>Bi</em> = 2 <em>Gi</em> / <em>Rg,i</em></p>
<p>See the references for further information on choosing the parameters.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="18%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>scale</td>
<td>None</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>Rg2</td>
<td>Å</td>
<td>21</td>
</tr>
<tr class="row-even"><td>power2</td>
<td>None</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>G2</td>
<td>cm<sup>-1</sup></td>
<td>3</td>
</tr>
<tr class="row-even"><td>B2</td>
<td>cm<sup>-1</sup></td>
<td>0.0006</td>
</tr>
<tr class="row-odd"><td>Rg1</td>
<td>Å</td>
<td>15.8</td>
</tr>
<tr class="row-even"><td>power1</td>
<td>None</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>G1</td>
<td>cm<sup>-1</sup></td>
<td>400</td>
</tr>
<tr class="row-even"><td>B1</td>
<td>cm<sup>-1</sup></td>
<td>4.5e-6                |</td>
</tr>
<tr class="row-odd"><td>background</td>
<td>cm<sup>-1</sup></td>
<td>0.0</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image221.jpg" src="../../_images/image221.jpg" />
<p><em>Figure. 1D plot using the default values (w/500 data points).</em></p>
<p>REFERENCE</p>
<p>G Beaucage, <em>J. Appl. Cryst.</em>, 28 (1995) 717-728</p>
<p>G Beaucage, <em>J. Appl. Cryst.</em>, 29 (1996) 134-146</p>
<p id="linemodel"><strong>2.2.26. LineModel</strong></p>
<p>This calculates the simple linear function</p>
<img alt="../../_images/image222.PNG" src="../../_images/image222.PNG" />
<p><strong>NB: For 2D plots,</strong> <em>I(q)</em> = <em>I(qx)</em><em>*I(qy)</em>,&nbsp;<strong>which is a different definition to other shape independent models.</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="34%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>A</td>
<td>cm<sup>-1</sup></td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>B</td>
<td>Åcm<sup>-1</sup></td>
<td>1.0</td>
</tr>
</tbody>
</table>
<p>REFERENCE</p>
<p>None.</p>
<p id="gelfitmodel"><strong>2.2.27. GelFitModel</strong></p>
<p><em>This model was implemented by an interested user!</em></p>
<p>Unlike a concentrated polymer solution, the fine-scale polymer distribution in a gel involves at least two
characteristic length scales, a shorter correlation length (<em>a1</em>) to describe the rapid fluctuations in the position
of the polymer chains that ensure thermodynamic equilibrium, and a longer distance (denoted here as <em>a2</em>) needed to
account for the static accumulations of polymer pinned down by junction points or clusters of such points. The latter
is derived from a simple Guinier function.</p>
<p>Also see the <a class="reference internal" href="#gausslorentzgel">GaussLorentzGel</a> Model.</p>
<p><em>2.2.27.1. Definition</em></p>
<p>The scattered intensity <em>I(q)</em> is calculated as</p>
<img alt="../../_images/image233.gif" src="../../_images/image233.gif" />
<p>where</p>
<img alt="../../_images/image234.gif" src="../../_images/image234.gif" />
<p>Note that the first term reduces to the Ornstein-Zernicke equation when <em>D</em> = 2; ie, when the Flory exponent is 0.5
(theta conditions). In gels with significant hydrogen bonding <em>D</em> has been reported to be ~2.6 to 2.8.</p>
<table border="1" class="docutils">
<colgroup>
<col width="57%" />
<col width="16%" />
<col width="27%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Background</td>
<td>cm<sup>-1</sup></td>
<td>0.01</td>
</tr>
<tr class="row-odd"><td>Guinier scale    (= <em>I(0)G</em>)</td>
<td>cm<sup>-1</sup></td>
<td>1.7</td>
</tr>
<tr class="row-even"><td>Lorentzian scale (= <em>I(0)L</em>)</td>
<td>cm<sup>-1</sup></td>
<td>3.5</td>
</tr>
<tr class="row-odd"><td>Radius of gyration  (= <em>Rg</em>)</td>
<td>Å</td>
<td>104</td>
</tr>
<tr class="row-even"><td>Fractal exponent     (= <em>D</em>)</td>
<td>None</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>Correlation length  (= <em>a1</em>)</td>
<td>Å</td>
<td>16</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image235.gif" src="../../_images/image235.gif" />
<p><em>Figure. 1D plot using the default values (w/300 data points).</em></p>
<p>REFERENCE</p>
<p>Mitsuhiro Shibayama, Toyoichi Tanaka, Charles C Han, J. Chem. Phys. 1992, 97 (9), 6829-6841</p>
<p>Simon Mallam, Ferenc Horkay, Anne-Marie Hecht, Adrian R Rennie, Erik Geissler, Macromolecules 1991, 24, 543-548</p>
<p id="starpolymer"><strong>2.2.28. Star Polymer with Gaussian Statistics</strong></p>
<p>This model is also known as the Benoit Star model.</p>
<p><em>2.2.28.1. Definition</em></p>
<p>For a star with <em>f</em> arms:</p>
<img alt="../../_images/star1.png" src="../../_images/star1.png" />
<p>where</p>
<img alt="../../_images/star2.png" src="../../_images/star2.png" />
<p>and</p>
<img alt="../../_images/star3.png" src="../../_images/star3.png" />
<p>is the square of the ensemble average radius-of-gyration of an arm.</p>
<p>REFERENCE</p>
<p>H Benoit, &nbsp; J. Polymer Science.,&nbsp; 11, 596-599&nbsp; (1953)</p>
<p id="reflectivitymodel"><strong>2.2.29. ReflectivityModel</strong></p>
<p><em>This model was contributed by an interested user!</em></p>
<p>This model calculates <strong>reflectivity</strong> using the Parrett algorithm.</p>
<p>Up to nine film layers are supported between Bottom(substrate) and Medium(Superstrate) where the neutron enters the
first top film. Each of the layers are composed of</p>
<p>[½ of the interface (from the previous layer or substrate) + flat portion + ½ of the interface (to the next layer or medium)]</p>
<p>Two simple functions are provided to describe the interfacial density distribution; a linear function and an error
function. The interfacial thickness is equivalent to (-2.5 σ to +2.5 σ for the error function, where
σ = roughness).</p>
<p>Also see <a class="reference internal" href="#reflectivityiimodel">ReflectivityIIModel</a>.</p>
<img alt="../../_images/image231.bmp" src="../../_images/image231.bmp" />
<p><em>Figure. Comparison (using the SLD profile below) with the NIST web calculation (circles)</em>
<a class="reference external" href="http://www.ncnr.nist.gov/resources/reflcalc.html">http://www.ncnr.nist.gov/resources/reflcalc.html</a></p>
<img alt="../../_images/image232.gif" src="../../_images/image232.gif" />
<p><em>Figure. SLD profile used for the calculation (above).</em></p>
<p>REFERENCE</p>
<p>None.</p>
<p id="reflectivityiimodel"><strong>2.2.30. ReflectivityIIModel</strong></p>
<p><em>This model was contributed by an interested user!</em></p>
<p>This <strong>reflectivity</strong> model is a more flexible version of <a class="reference internal" href="#reflectivitymodel">ReflectivityModel</a>. More interfacial density
functions are supported, and the number of points (<em>npts_inter</em>) for each interface can be chosen.</p>
<p>The SLD at the interface between layers, ρ<em>inter_i</em>, is calculated with a function chosen by a user, where the
available functions are</p>
<ol class="arabic simple">
<li>Erf</li>
</ol>
<img alt="../../_images/image051.gif" src="../../_images/image051.gif" />
<ol class="arabic simple" start="2">
<li>Power-Law</li>
</ol>
<img alt="../../_images/image050.gif" src="../../_images/image050.gif" />
<ol class="arabic simple" start="3">
<li>Exp</li>
</ol>
<img alt="../../_images/image049.gif" src="../../_images/image049.gif" />
<p>The constant <em>A</em> in the expressions above (but the parameter <em>nu</em> in the model!) is an input.</p>
<p>REFERENCE</p>
<p>None.</p>
</div>
<div class="section" id="id6">
<h2>2.3 Structure-factor Functions</h2>
<p>The information in this section originated from NIST SANS package.</p>
<p id="hardspherestructure"><strong>2.3.1. HardSphereStructure Factor</strong></p>
<p>This calculates the interparticle structure factor for monodisperse spherical particles interacting through hard
sphere (excluded volume) interactions.</p>
<p>The calculation uses the Percus-Yevick closure where the interparticle potential is</p>
<img alt="../../_images/image223.PNG" src="../../_images/image223.PNG" />
<p>where <em>r</em> is the distance from the center of the sphere of a radius <em>R</em>.</p>
<p>For a 2D plot, the wave transfer is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>effect_radius</td>
<td>Å</td>
<td>50.0</td>
</tr>
<tr class="row-odd"><td>volfraction</td>
<td>None</td>
<td>0.2</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image224.jpg" src="../../_images/image224.jpg" />
<p><em>Figure. 1D plot using the default values (in linear scale).</em></p>
<p>REFERENCE</p>
<p>J K Percus, J Yevick, <em>J. Phys. Rev.</em>, 110, (1958) 1</p>
<p id="squarewellstructure"><strong>2.3.2. SquareWellStructure Factor</strong></p>
<p>This calculates the interparticle structure factor for a square well fluid spherical particles. The mean spherical
approximation (MSA) closure was used for this calculation, and is not the most appropriate closure for an attractive
interparticle potential. This solution has been compared to Monte Carlo simulations for a square well fluid, showing
this calculation to be limited in applicability to well depths ε &lt; 1.5 kT and volume fractions φ &lt; 0.08.</p>
<p>Positive well depths correspond to an attractive potential well. Negative well depths correspond to a potential
&#8220;shoulder&#8221;, which may or may not be physically reasonable.</p>
<p>The well width (<em>l</em>) is defined as multiples of the particle diameter (2*<em>R</em>)</p>
<p>The interaction potential is:</p>
<img alt="../../_images/image225.PNG" src="../../_images/image225.PNG" />
<p>where <em>r</em> is the distance from the center of the sphere of a radius <em>R</em>.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="39%" />
<col width="25%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>effect_radius</td>
<td>Å</td>
<td>50.0</td>
</tr>
<tr class="row-odd"><td>volfraction</td>
<td>None</td>
<td>0.04</td>
</tr>
<tr class="row-even"><td>welldepth</td>
<td>kT</td>
<td>1.5</td>
</tr>
<tr class="row-odd"><td>wellwidth</td>
<td>diameters</td>
<td>1.2</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image226.jpg" src="../../_images/image226.jpg" />
<p><em>Figure. 1D plot using the default values (in linear scale).</em></p>
<p>REFERENCE</p>
<p>R V Sharma, K C Sharma, <em>Physica</em>, 89A (1977) 213</p>
<p id="haytermsastructure"><strong>2.3.3. HayterMSAStructure Factor</strong></p>
<p>This is an implementation of the Rescaled Mean Spherical Approximation which calculates the structure factor (the
Fourier transform of the pair correlation function <em>g(r)</em>) for a system of charged, spheroidal objects in a
dielectric medium. When combined with an appropriate form factor (such as sphere,core+shell, ellipsoid, etc), this
allows for inclusion of the interparticle interference effects due to screened coulomb repulsion between charged particles.</p>
<p><strong>This routine only works for charged particles</strong>. If the charge is set to zero the routine will self-destruct!
For non-charged particles use a hard sphere potential.</p>
<p>The salt concentration is used to compute the ionic strength of the solution which in turn is used to compute the Debye
screening length. At present there is no provision for entering the ionic strength directly nor for use of any
multivalent salts. The counterions are also assumed to be monovalent.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>effect_radius</td>
<td>Å</td>
<td>20.8</td>
</tr>
<tr class="row-odd"><td>charge</td>
<td><em>e</em></td>
<td>19</td>
</tr>
<tr class="row-even"><td>volfraction</td>
<td>None</td>
<td>0.2</td>
</tr>
<tr class="row-odd"><td>temperature</td>
<td>K</td>
<td>318</td>
</tr>
<tr class="row-even"><td>salt conc</td>
<td>M</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>dielectconst</td>
<td>None</td>
<td>71.1</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image227.jpg" src="../../_images/image227.jpg" />
<p><em>Figure. 1D plot using the default values (in linear scale).</em></p>
<p>REFERENCE</p>
<p>J B Hayter and J Penfold, <em>Molecular Physics</em>, 42 (1981) 109-118</p>
<p>J P Hansen and J B Hayter, <em>Molecular Physics</em>, 46 (1982) 651-656</p>
<p id="stickyhsstructure"><strong>2.3.4. StickyHSStructure Factor</strong></p>
<p>This calculates the interparticle structure factor for a hard sphere fluid with a narrow attractive well. A perturbative
solution of the Percus-Yevick closure is used. The strength of the attractive well is described in terms of &#8220;stickiness&#8221;
as defined below. The returned value is a dimensionless structure factor, <em>S(q)</em>.</p>
<p>The perturb (perturbation parameter), ε, should be held between 0.01 and 0.1. It is best to hold the
perturbation parameter fixed and let the &#8220;stickiness&#8221; vary to adjust the interaction strength. The stickiness, τ,
is defined in the equation below and is a function of both the perturbation parameter and the interaction strength.
τ and ε are defined in terms of the hard sphere diameter (σ = 2*<em>R</em>), the width of the square
well, Δ (same units as <em>R</em>), and the depth of the well, <em>Uo</em>, in units of kT. From the definition, it is clear
that smaller τ means stronger attraction.</p>
<img alt="../../_images/image228.PNG" src="../../_images/image228.PNG" />
<p>where the interaction potential is</p>
<img alt="../../_images/image229.PNG" src="../../_images/image229.PNG" />
<p>The Percus-Yevick (PY) closure was used for this calculation, and is an adequate closure for an attractive interparticle
potential. This solution has been compared to Monte Carlo simulations for a square well fluid, with good agreement.</p>
<p>The true particle volume fraction, φ, is not equal to <em>h</em>, which appears in most of the reference. The two are
related in equation (24) of the reference. The reference also describes the relationship between this perturbation
solution and the original sticky hard sphere (or adhesive sphere) model by Baxter.</p>
<p>NB: The calculation can go haywire for certain combinations of the input parameters, producing unphysical solutions - in
this case errors are reported to the command window and the <em>S(q)</em> is set to -1 (so it will disappear on a log-log
plot). Use tight bounds to keep the parameters to values that you know are physical (test them) and keep nudging them
until the optimization does not hit the constraints.</p>
<p>For 2D data: The 2D scattering intensity is calculated in the same way as 1D, where the <em>q</em> vector is defined as</p>
<img alt="../../_images/image040.gif" src="../../_images/image040.gif" />
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="23%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter name</th>
<th class="head">Units</th>
<th class="head">Default value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>effect_radius</td>
<td>Å</td>
<td>50</td>
</tr>
<tr class="row-odd"><td>perturb</td>
<td>None</td>
<td>0.05</td>
</tr>
<tr class="row-even"><td>volfraction</td>
<td>None</td>
<td>0.1</td>
</tr>
<tr class="row-odd"><td>stickiness</td>
<td>K</td>
<td>0.2</td>
</tr>
</tbody>
</table>
<img alt="../../_images/image230.jpg" src="../../_images/image230.jpg" />
<p><em>Figure. 1D plot using the default values (in linear scale).</em></p>
<p>REFERENCE</p>
<p>S V G Menon, C Manohar, and K S Rao, <em>J. Chem. Phys.</em>, 95(12) (1991) 9186-9190</p>
</div>
<div class="section" id="customised-functions">
<h2>2.4 Customised Functions</h2>
<p>Customized model functions can be redefined or added to by users (See SansView tutorial for details).</p>
<p id="testmodel"><strong>2.4.1. testmodel</strong></p>
<p>This function, as an example of a user defined function, calculates</p>
<p><em>I(q)</em> = <em>A</em> + <em>B</em> cos(2<em>q</em>) + <em>C</em> sin(2<em>q</em>)</p>
<p id="testmodel-2"><strong>2.4.2. testmodel_2</strong></p>
<p>This function, as an example of a user defined function, calculates</p>
<p><em>I(q)</em> = <em>scale</em> * sin(<em>f</em>)/<em>f</em></p>
<p>where</p>
<p><em>f</em> = <em>A</em> + <em>Bq</em> + <em>Cq</em><sup>2</sup> + <em>Dq</em><sup>3</sup> + <em>Eq</em><sup>4</sup> + <em>Fq</em><sup>5</sup></p>
<p id="sum-p1-p2"><strong>2.4.3. sum_p1_p2</strong></p>
<p>This function, as an example of a user defined function, calculates</p>
<p><em>I(q)</em> = <em>scale_factor</em> * (CylinderModel + PolymerExclVolumeModel)</p>
<p>To make your own (<em>p1 + p2</em>) model, select &#8216;Easy Custom Sum&#8217; from the Fitting menu, or modify and compile the file
named &#8216;sum_p1_p2.py&#8217; from &#8216;Edit Custom Model&#8217; in the &#8216;Fitting&#8217; menu.</p>
<p>NB: Summing models only works only for single functional models (ie, single shell models, two-component RPA models, etc).</p>
<p id="sum-ap1-1-ap2"><strong>2.4.4. sum_Ap1_1_Ap2</strong></p>
<p>This function, as an example of a user defined function, calculates</p>
<p><em>I(q)</em> = (<em>scale_factor</em> * CylinderModel + (1 - <em>scale_factor</em>) * PolymerExclVolume model)</p>
<p>To make your own (<em>A</em>* <em>p1</em> + (1-<em>A</em>) * <em>p2</em>) model, modify and compile the file named &#8216;sum_Ap1_1_Ap2.py&#8217; from
&#8216;Edit Custom Model&#8217; in the &#8216;Fitting&#8217; menu.</p>
<p>NB: Summing models only works only for single functional models (ie, single shell models, two-component RPA models, etc).</p>
<p id="polynomial5"><strong>2.4.5. polynomial5</strong></p>
<p>This function, as an example of a user defined function, calculates</p>
<p><em>I(q)</em> = <em>A</em> + <em>Bq</em> + <em>Cq</em><sup>2</sup> + <em>Dq</em><sup>3</sup> + <em>Eq</em><sup>4</sup> + <em>Fq</em><sup>5</sup></p>
<p>This model can be modified and compiled from &#8216;Edit Custom Model&#8217; in the &#8216;Fitting&#8217; menu.</p>
<p id="sph-bessel-jn"><strong>2.4.6. sph_bessel_jn</strong></p>
<p>This function, as an example of a user defined function, calculates</p>
<p><em>I(q)</em> = <em>C</em> * <em>sph_jn(Ax+B)+D</em></p>
<p>where <em>sph_jn</em> is a spherical Bessel function of order <em>n</em>.</p>
<p>This model can be modified and compiled from &#8216;Edit Custom Model&#8217; in the &#8216;Fitting&#8217; menu.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">SasView Model Functions</a><ul>
<li><a class="reference internal" href="#background">1. Background</a></li>
<li><a class="reference internal" href="#model-functions">2. Model functions</a></li>
<li><a class="reference internal" href="#shape-based-functions">2.1 Shape-based Functions</a></li>
<li><a class="reference internal" href="#sphere-based">Sphere-based</a></li>
<li><a class="reference internal" href="#cylinder-based">Cylinder-based</a></li>
<li><a class="reference internal" href="#ellipsoid-based">Ellipsoid-based</a></li>
<li><a class="reference internal" href="#lamellae">Lamellae</a></li>
<li><a class="reference internal" href="#paracrystals">Paracrystals</a></li>
<li><a class="reference internal" href="#parallelpipeds">Parallelpipeds</a></li>
<li><a class="reference internal" href="#shape-independent-functions">2.2 Shape-Independent Functions</a></li>
<li><a class="reference internal" href="#structure-factor-functions">2.3 Structure Factor Functions</a></li>
<li><a class="reference internal" href="#customized-functions">2.4 Customized Functions</a></li>
<li><a class="reference internal" href="#references">3. References</a></li>
<li><a class="reference internal" href="#model-definitions">Model Definitions</a></li>
<li><a class="reference internal" href="#id5">2.2 Shape-independent Functions</a></li>
<li><a class="reference internal" href="#id6">2.3 Structure-factor Functions</a></li>
<li><a class="reference internal" href="#customised-functions">2.4 Customised Functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../user.html"
                        title="previous chapter">SasView User Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../guiframe/data_formats_help.html"
                        title="next chapter">Data Formats</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/user/models/model_functions.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../guiframe/data_formats_help.html" title="Data Formats"
             >next</a> |</li>
        <li class="right" >
          <a href="../user.html" title="SasView User Documentation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">SasView 3.1.2 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../user.html" >SasView User Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, The SasView Project.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>